Ùª­jAttributesÙ¯‚€öpExtended SummaryÙ¯‚ƒÙ¹‚…Ù§xWhen rounding coordinates for Ù¢„gline_ndÙ „gskimagef0.17.2fmodulexskimage.draw.draw_nd.line_ndfmoduleõÙ§x™, we want coordinates that are less than 1 apart (always the case, by design) to remain less than one apart. However, NumPy rounds values to the nearest Ù¨Ù§devenÙ§m integer, so:€ÙÀxC>>> np.round([0.5, 1.5, 2.5, 3.5, 4.5])
array([0., 2., 2., 4., 4.])Ù¹‚ƒÙ§xJSo, for our application, we detect whether the above case occurs, and use Ù¡hnp.floorÙ§xÿ if so. It is sufficient to detect that the first coordinate falls on 0.5 and that the second coordinate is 1.0 apart, since we assume by construction that the inter-point distance is less than or equal to 1 and that all successive points are equidistant.€ögMethodsÙ¯‚€öeNotesÙ¯‚€öpOther ParametersÙ¯‚€öjParametersÙ¯‚Ù°ƒfcoordsq1D array of floatÙ¹‚…Ù§xMThe coordinates array. We assume that all successive values are equidistant (Ù¡x/np.all(np.diff(coords) = coords[1] - coords[0])Ù§x,) and that this distance is no more than 1 (Ù¡x"np.abs(coords[1] - coords[0]) <= 1Ù§b).€öfRaisesÙ¯‚€öhReceivesÙ¯‚€ögReturnsÙ¯‚Ù°ƒgroundedo1D array of intÙ¹‚Ù§xqThe array correctly rounded for an indexing operation, such that no successive indices will be more than 1 apart.€ögSummaryÙ¯‚Ù¹‚Ù§xDRound coords while ensuring successive values are less than 1 apart.€öhWarningsÙ¯‚€öeWarnsÙ¯‚€öfYieldsÙ¯‚€ö…gSummarypExtended SummaryjParametersgReturnshExamplesx/skimage/draw/draw_nd.pyr<class 'function'>x skimage.draw.draw_nd._round_safeÙ¯‚ƒÙ´ƒ˜Ù±‚`Ù¢„gcoords0Ù „enumpyf1.22.3fmodulemnumpy.ndarrayfmoduleõÙ±‚`a Ù±‚aoa=Ù±‚`a Ù±‚`Ù¢„bnpÙ „enumpyf1.22.3fmoduleenumpyfmoduleõÙ±‚aoa.Ù±‚`Ù¢„earrayÙ „enumpyf1.22.3fmoduleknumpy.arrayfmoduleõÙ±‚`a(Ù±‚`a[Ù±‚bmfc0.5Ù±‚`a,Ù±‚`a Ù±‚bmfd1.25Ù±‚`a,Ù±‚`a Ù±‚bmfb2.Ù±‚`a,Ù±‚`a Ù±‚bmfd2.75Ù±‚`a,Ù±‚`a Ù±‚bmfc3.5Ù±‚`a]Ù±‚`a)Ù±‚`a
Ù±‚`Ù¢„k_round_safeÙ „gskimagef0.17.2fmodulex skimage.draw.draw_nd._round_safefmoduleõÙ±‚`a(Ù±‚`Ù¢„gcoords0Ù „enumpyf1.22.3fmodulemnumpy.ndarrayfmoduleõÙ±‚`a)varray([0, 1, 2, 3, 4])hcompiledÙ´ƒ’Ù±‚`Ù¢„gcoords1Ù „enumpyf1.22.3fmodulemnumpy.ndarrayfmoduleõÙ±‚`a Ù±‚aoa=Ù±‚`a Ù±‚`Ù¢„bnpÙ „enumpyf1.22.3fmoduleenumpyfmoduleõÙ±‚aoa.Ù±‚`Ù¢„farangeÙ „enumpyf1.22.3fmodulelnumpy.arangefmoduleõÙ±‚`a(Ù±‚bmfc0.5Ù±‚`a,Ù±‚`a Ù±‚bmia8Ù±‚`a,Ù±‚`a Ù±‚bmia1Ù±‚`a)Ù±‚`a
Ù±‚`Ù¢„gcoords1Ù „enumpyf1.22.3fmodulemnumpy.ndarrayfmoduleõx/array([0.5, 1.5, 2.5, 3.5, 4.5, 5.5, 6.5, 7.5])hcompiledÙ´ƒ„Ù±‚`Ù¢„k_round_safeÙ „gskimagef0.17.2fmodulex skimage.draw.draw_nd._round_safefmoduleõÙ±‚`a(Ù±‚`Ù¢„gcoords1Ù „enumpyf1.22.3fmodulemnumpy.ndarrayfmoduleõÙ±‚`a)xarray([0, 1, 2, 3, 4, 5, 6, 7])hcompiledö€f0.17.2Ù«s_round_safe(coords)öx skimage.draw.draw_nd._round_safe€