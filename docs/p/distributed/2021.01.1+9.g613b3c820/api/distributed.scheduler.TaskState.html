<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/javascript">
        // only process math in math tags (faster and less false positive with `...`)
        MathJax = {
          options: {
            ignoreHtmlClass: 'tex2jax_ignore',    //  class that marks tags not to search
            processHtmlClass: 'tex2jax_process',  //  class that marks tags that should be searched
          }
        };
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
<style>
body{
    font-family: 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    color: #606c76;
    font-weight: 350;
    line-height: 1.6;
    max-width: 1000px;
    margin-left:0;

}
          svg,canvas{border: 1px gray solid;}
          .foo:hover{text-decoration:underline}
          .foo{font-weight:bold; color:#4e4e4e}
          .exists{font-weight:bold; color:#4e4e4e;text-decoration:none;}
          .local{font-weight:bold; color:#1e6f04;text-decoration:none;}
          .exists:hover{text-decoration:underline;color:black}
          .missing,.missing:hover{color:darkred;text-decoration:none;font-weight:normal}
          .signature {font-size:100%; margin-bottom: 2rem; display: block; border:none; background-color: #FFFFFF;
              font-weight:600;}
          h1, h2, h3 {color: #4e4e4e; font-weight:400;
              margin-bottom: 1rem;border-bottom: 1px solid var(--nc-bg-3);
          }
          pre{border-radius:0;
              padding:0.6rem;
          border-left: 3px solid #AAA}
          dt {font-weight: 400;}

          header{
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              
              padding-top:0rem;
              padding-bottom:0rem;
              z-index: 2;
              padding-left: 0;
              position: fixed;
              top: 30px;
              left:0; 
              width: 100%;
              backdrop-filter: blur(5px);
              background-color: rgba(255, 255, 255, .15);
          }
          dd::before {
            content: '';
          }
          header > brand, header>:first-child {
              border-right: 1px solid #ccc;
              border-left: 1px solid #ccc;
              padding: 16px;
              padding-top: 0.5rem;
              padding-bottom: 0.5rem;
              display: inline-block; 
              width: 167px;

          }
          brand > a {color:#606c76}
          brand > i {
              padding-right: 0.5rem;

        }
          nav{display:inline;
          padding-left: 1rem;
          }

          dd {
              margin-left: 1rem;
              border-left:  solid #ddd;
              padding-left: 1rem;
          }
          summary > h2 { display: inline }

          .sidenav {
                height: 100%; /* Full-height: remove this if you want "auto" height */
                width: 200px; /* Set the width of the sidebar */
                position: fixed; /* Fixed Sidebar (stay in place on scroll) */
                z-index: 1; /* Stay on top */
                top: 0; /* Stay at the top */
                left: 0;
                background-color: var(--nc-bg-1);; /* Black */
                border-right: thin solid #ccc;
                overflow-x: hidden; /* Disable horizontal scroll */
                padding-top: 3rem;
 
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
          }

          .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            color: #818181;
            display: block;
          }
          .sidenav img {
              width: 160px;
              padding-left:20px;
              padding-right:20px;
              border-bottom: solid thin #DDD; 
              padding-bottom: .5rem;
              max-width: 100%;
          }
          .sidenav i {
              font-size: 100;
              padding-left: 3.5rem;
              padding-right: 3.5rem;
              padding-bottom: .5rem;
              border-bottom: solid thin #DDD; 

          }
          .container {
              padding-left: 210px;
              padding-top: 30px;

          }

          ::selection {
	/* Set background color for selected text */
                background: #59b4fd;
                color: var(--nc-ac-tx);
          }

          img {max-width: 40%;}

          pre.highlight.execed, .admonition {
            border-left: 3px solid #0070f3;
          }
          .admonition {
            padding-left: 1em;
         }
          .note {color: #7d77d2}
          .warning {color: #f44336}
          pre.highlight.compiled {
            border-left: 3px solid #7d77d2;
          }
          pre.highlight.syntax_error, pre.highlight.exception_in_exec {
            border-left: 3px solid #f44336;
          }

        /* Dropdown Button */
/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
  margin-left: -4px;
}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #ddd;}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {display: block;
    max-height: 80vh;
    overflow: scroll;}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {}


pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */

.nsl {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}


.block_directive{

    border-left: thin solid var(--nc-lk-1);
    padding-bottom: 8px;
    padding-left: 12px;
}

.block_directive.head{

    border: thin solid var(--nc-lk-1);
}


.block_directive > p{
    margin-left: 2em;
    margin-top: 1em;
}
.head {
    font-family: monospace;
    color: var(--nc-lk-1);
}
</style>
</head>
<body class="tex2jax_ignore">
    <header>
        <brand><i class="fab fa-python"></i><a href='/'>Home</a></brand>
        <nav> <a href='/' >/ p</a>  / 
                <div class="dropdown">
                <a href=distributed>distributed</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/IPython/8.0.0.dev/api/IPython.html">IPython</a>
                            <a href="/p/dask/2021.01.1+8.g34f990a81/api/dask.html">dask</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.html">distributed</a>
                            <a href="/p/matplotlib/3.3.3/api/matplotlib.html">matplotlib</a>
                            <a href="/p/numpy/1.20.0/api/numpy.html">numpy</a>
                            <a href="/p/papyri/0.0.7/api/papyri.html">papyri</a>
                            <a href="/p/scipy/1.5.0/api/scipy.html">scipy</a>
                            <a href="/p/skimage/0.19.0.dev0/api/skimage.html">skimage</a>
                            <a href="/p/xarray/0.17.0/api/xarray.html">xarray</a>
                            
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/distributed/2021.01.1+9.g613b3c820/api/distributed.html'>2021.01.1+9.g613b3c820</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.html">2021.01.1+9.g613b3c820</a>
                            
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/distributed/2021.01.1+9.g613b3c820/api/distributed.html'>api</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.html">API</a>
                        <a href="/p/distributed/2021.01.1+9.g613b3c820/gallery">Gallery</a>
                     </div>
                </div>

            
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='distributed.html'>distributed</a>.
                        
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='distributed.scheduler.html'>scheduler</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed._concurrent_futures_thread.html">_concurrent_futures_thread</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed._version.html">_version</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.actor.html">actor</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.batched.html">batched</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.cfexecutor.html">cfexecutor</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.html">client</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.comm.html">comm</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.compatibility.html">compatibility</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.core.html">core</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.deploy.html">deploy</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.diagnostics.html">diagnostics</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.diskutils.html">diskutils</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.event.html">event</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.http.html">http</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.lock.html">lock</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.locket.html">locket</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.metrics.html">metrics</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.nanny.html">nanny</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.node.html">node</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.preloading.html">preloading</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.process.html">process</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.proctitle.html">proctitle</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.profile.html">profile</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.protocol.html">protocol</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.publish.html">publish</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.pubsub.html">pubsub</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.queues.html">queues</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.recreate_exceptions.html">recreate_exceptions</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.html">scheduler</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.security.html">security</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.semaphore.html">semaphore</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.sizeof.html">sizeof</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.stealing.html">stealing</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.system.html">system</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.system_monitor.html">system_monitor</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.threadpoolexecutor.html">threadpoolexecutor</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.utils.html">utils</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.utils_comm.html">utils_comm</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.utils_perf.html">utils_perf</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.variable.html">variable</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.versions.html">versions</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.worker.html">worker</a>
                            <a href="/p/?/?/api/distributed.worker_client.html">worker_client</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='distributed.scheduler.TaskState.html'>TaskState</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.ClientState.html">ClientState</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.Scheduler.html">Scheduler</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.SchedulerState.html">SchedulerState</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.TaskGroup.html">TaskGroup</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.TaskPrefix.html">TaskPrefix</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.TaskState.html">TaskState</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.WorkerState.html">WorkerState</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.WorkerStatusPlugin.html">WorkerStatusPlugin</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._OptionalStateLegacyMapping.html">_OptionalStateLegacyMapping</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._StateLegacyMapping.html">_StateLegacyMapping</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._StateLegacySet.html">_StateLegacySet</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._add_to_memory.html">_add_to_memory</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._client_releases_keys.html">_client_releases_keys</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._legacy_client_key_set.html">_legacy_client_key_set</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._legacy_task_key_dict.html">_legacy_task_key_dict</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._legacy_task_key_set.html">_legacy_task_key_set</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._legacy_worker_key_set.html">_legacy_worker_key_set</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._reevaluate_occupancy_worker.html">_reevaluate_occupancy_worker</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._remove_from_processing.html">_remove_from_processing</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler._task_to_msg.html">_task_to_msg</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.decide_worker.html">decide_worker</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.heartbeat_interval.html">heartbeat_interval</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.validate_state.html">validate_state</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.validate_task_state.html">validate_task_state</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" >+</a>
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.scheduler.TaskState.add_dependency.html">add_dependency</a>
                            
                            </div>
                        
                    </div>
                </nav>
    </header>
<div class='container'>
    <div class="sidenav">
    
        <img src="/p/distributed/2021.01.1+9.g613b3c820/img/logo.png"/>
    
    <a href="#">Library: distributed</a>
    <a href="#">Version: 2021.01.1+9.g613b3c820</a>
    <a href="#">Authors:</a>
    <a href="#">PyPI:</a>
    <a href="#">Source</a>
    <a href="#">Homepage</a>
    <a href="#">Fundings</a>
    <a href="#">Stars</a>
    <a href="#">Forks</a>
    <a href="#">Related</a>
    <hr/>
    <a>Narrative Docs</a>
    <hr/>
    

    </div>

    













    <code class='signature'>TaskState(key: str, run_spec: object)</code>




    
    
        <!-- rendering Summary -->
        
           
               
        <p>A simple object holding information about a task.</p>

    
           
       
    


    
    
        <!-- rendering Extended Summary -->
        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; key: str&#39;]</div>
    
        <p>The key is the unique identifier of a task, generally formed from the name of the function, followed by a hash of the function and arguments, like 
        <code class='verbatim'>&#39;inc-ab31c010444977004d656610d2d421ec&#39;</code>
    . </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; prefix: TaskPrefix&#39;]</div>
    
        <p>The broad class of tasks to which this task belongs like &#34;inc&#34; or &#34;read_csv&#34; </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; run_spec: object&#39;]</div>
    
        <p>A specification of how to run the task.  The type and meaning of this value is opaque to the scheduler, as it is only interpreted by the worker to which the task is sent for executing.  As a special case, this attribute may also be 
        <code class='verbatim'>None</code>
    , in which case the task is &#34;pure data&#34; (such as, for example, a piece of data loaded in the scheduler using <code><a link href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.scatter.html" class='exists'>Client.scatter</a></code>
        ).  A &#34;pure data&#34; task cannot be computed again if its value is lost. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; priority: tuple&#39;]</div>
    
        <p>The priority provides each task with a relative ranking which is used to break ties when many tasks are being considered for execution.  This ranking is generally a 2-item tuple.  The first (and dominant) item corresponds to when it was submitted.  Generally, earlier tasks take precedence.  The second item is determined by the client, and is a way to prioritize tasks within a large graph that may be important, such as if they are on the critical path, or good to run in order to release many dependencies.  This is explained further in <code>:None:doc:`Scheduling Policy &lt;scheduling-policies&gt;`</code>. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; state: str&#39;]</div>
    
        <p>This task&#39;s current state.  Valid states include 
        <code class='verbatim'>released</code>
    , 
        <code class='verbatim'>waiting</code>
    , 
        <code class='verbatim'>no-worker</code>
    , 
        <code class='verbatim'>processing</code>
    , 
        <code class='verbatim'>memory</code>
    , 
        <code class='verbatim'>erred</code>
     and 
        <code class='verbatim'>forgotten</code>
    .  If it is 
        <code class='verbatim'>forgotten</code>
    , the task isn&#39;t stored in the 
        <code class='verbatim'>tasks</code>
     dictionary anymore and will probably disappear soon from memory. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; dependencies: {TaskState}&#39;]</div>
    
        <p>The set of tasks this task depends on for proper execution.  Only tasks still alive are listed in this set.  If, for whatever reason, this task also depends on a forgotten task, the <code>:None:attr:`has_lost_dependencies`</code> flag is set.  A task can only be executed once all its dependencies have already been successfully executed and have their result stored on at least one worker.  This is tracked by progressively draining the <code>:None:attr:`waiting_on`</code> set. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; dependents: {TaskState}&#39;]</div>
    
        <p>The set of tasks which depend on this task.  Only tasks still alive are listed in this set.  This is the reverse mapping of <code>:None:attr:`dependencies`</code>. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; has_lost_dependencies: bool&#39;]</div>
    
        <p>Whether any of the dependencies of this task has been forgotten. For memory consumption reasons, forgotten tasks are not kept in memory even though they may have dependent tasks.  When a task is forgotten, therefore, each of its dependents has their <code>:None:attr:`has_lost_dependencies`</code> attribute set to 
        <code class='verbatim'>True</code>
    .  If <code>:None:attr:`has_lost_dependencies`</code> is true, this task cannot go into the &#34;processing&#34; state anymore. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; waiting_on: {TaskState}&#39;]</div>
    
        <p>The set of tasks this task is waiting on *before* it can be executed. This is always a subset of <code>:None:attr:`dependencies`</code>.  Each time one of the dependencies has finished processing, it is removed from the <code>:None:attr:`waiting_on`</code> set.  Once <code>:None:attr:`waiting_on`</code> becomes empty, this task can move from the &#34;waiting&#34; state to the &#34;processing&#34; state (unless one of the dependencies errored out, in which case this task is instead marked &#34;erred&#34;). </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; waiters: {TaskState}&#39;]</div>
    
        <p>The set of tasks which need this task to remain alive.  This is always a subset of <code>:None:attr:`dependents`</code>.  Each time one of the dependents has finished processing, it is removed from the <code>:None:attr:`waiters`</code> set.  Once both <code>:None:attr:`waiters`</code> and <code>:None:attr:`who_wants`</code> become empty, this task can be released (if it has a non-empty <code>:None:attr:`run_spec`</code>) or forgotten (otherwise) by the scheduler, and by any workers in <code>:None:attr:`who_has`</code>.  .. note:: Counter-intuitively, <code>:None:attr:`waiting_on`</code> and    <code>:None:attr:`waiters`</code> are not reverse mappings of each other. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; who_wants: {ClientState}&#39;]</div>
    
        <p>The set of clients who want this task&#39;s result to remain alive. This is the reverse mapping of <code>:None:attr:`ClientState.wants_what`</code>.  When a client submits a graph to the scheduler it also specifies which output tasks it desires, such that their results are not released from memory.  Once a task has finished executing (i.e. moves into the &#34;memory&#34; or &#34;erred&#34; state), the clients in <code>:None:attr:`who_wants`</code> are notified.  Once both <code>:None:attr:`waiters`</code> and <code>:None:attr:`who_wants`</code> become empty, this task can be released (if it has a non-empty <code>:None:attr:`run_spec`</code>) or forgotten (otherwise) by the scheduler, and by any workers in <code>:None:attr:`who_has`</code>. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; who_has: {WorkerState}&#39;]</div>
    
        <p>The set of workers who have this task&#39;s result in memory. It is non-empty iff the task is in the &#34;memory&#34; state.  There can be more than one worker in this set if, for example, <code><a link href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.scatter.html" class='exists'>Client.scatter</a></code>
         or <code><a link href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.replicate.html" class='exists'>Client.replicate</a></code>
         was used.  This is the reverse mapping of <code>:None:attr:`WorkerState.has_what`</code>. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; processing_on: WorkerState (or None)&#39;]</div>
    
        <p>If this task is in the &#34;processing&#34; state, which worker is currently processing it.  Otherwise this is 
        <code class='verbatim'>None</code>
    .  This attribute is kept in sync with <code>:None:attr:`WorkerState.processing`</code>. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; retries: int&#39;]</div>
    
        <p>The number of times this task can automatically be retried in case of failure.  If a task fails executing (the worker returns with an error), its <code>:None:attr:`retries`</code> attribute is checked.  If it is equal to 0, the task is marked &#34;erred&#34;.  If it is greater than 0, the <code>:None:attr:`retries`</code> attribute is decremented and execution is attempted again. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; nbytes: int (or None)&#39;]</div>
    
        <p>The number of bytes, as determined by 
        <code class='verbatim'>sizeof</code>
    , of the result of a finished task.  This number is used for diagnostics and to help prioritize work. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; type: str&#39;]</div>
    
        <p>The type of the object as a string.  Only present for tasks that have been computed. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; exception: object&#39;]</div>
    
        <p>If this task failed executing, the exception object is stored here. Otherwise this is 
        <code class='verbatim'>None</code>
    . </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; traceback: object&#39;]</div>
    
        <p>If this task failed executing, the traceback object is stored here. Otherwise this is 
        <code class='verbatim'>None</code>
    . </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; exception_blame: TaskState (or None)&#39;]</div>
    
        <p>If this task or one of its dependencies failed executing, the failed task is stored here (possibly itself).  Otherwise this is 
        <code class='verbatim'>None</code>
    . </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; suspicious: int&#39;]</div>
    
        <p>The number of times this task has been involved in a worker death.  Some tasks may cause workers to die (such as calling 
        <code class='verbatim'>os._exit(0)</code>
    ). When a worker dies, all of the tasks on that worker are reassigned to others.  This combination of behaviors can cause a bad task to catastrophically destroy all workers on the cluster, one after another.  Whenever a worker dies, we mark each task currently processing on that worker (as recorded by <code>:None:attr:`WorkerState.processing`</code>) as suspicious.  If a task is involved in three deaths (or some other fixed constant) then we mark the task as 
        <code class='verbatim'>erred</code>
    . </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; host_restrictions: {hostnames}&#39;]</div>
    
        <p>A set of hostnames where this task can be run (or 
        <code class='verbatim'>None</code>
     if empty). Usually this is empty unless the task has been specifically restricted to only run on certain hosts.  A hostname may correspond to one or several connected workers. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; worker_restrictions: {worker addresses}&#39;]</div>
    
        <p>A set of complete worker addresses where this can be run (or 
        <code class='verbatim'>None</code>
     if empty).  Usually this is empty unless the task has been specifically restricted to only run on certain workers.  Note this is tracking worker addresses, not worker states, since the specific workers may not be connected at this time. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; resource_restrictions: {resource: quantity}&#39;]</div>
    
        <p>Resources required by this task, such as 
        <code class='verbatim'>{&#39;gpu&#39;: 1}</code>
     or 
        <code class='verbatim'>{&#39;memory&#39;: 1e9}</code>
     (or 
        <code class='verbatim'>None</code>
     if empty).  These are user-defined names and are matched against the contents of each <code>:None:attr:`WorkerState.resources`</code> dictionary. </p>

    
</div>

        
           
               
           <div class='block_directive'>
    <div class='head'>.. attribute:: [&#39; loose_restrictions: bool&#39;]</div>
    
        <p>If 
        <code class='verbatim'>False</code>
    , each of <code>:None:attr:`host_restrictions`</code>, <code>:None:attr:`worker_restrictions`</code> and <code>:None:attr:`resource_restrictions`</code> is a hard constraint: if no worker is available satisfying those restrictions, the task cannot go into the &#34;processing&#34; state and will instead go into the &#34;no-worker&#34; state.  If 
        <code class='verbatim'>True</code>
    , the above restrictions are mere preferences: if no worker is available satisfying those restrictions, the task can still go into the &#34;processing&#34; state and be sent for execution to another connected worker. </p>

    
</div>

        
           
               
        <p>.. attribute: metadata: dict</p>

    
           
               
        <p>   Metadata related to task.</p>

    
           
               
        <p>.. attribute: actor: bool</p>

    
           
               
        <p>   Whether or not this task is an Actor.</p>

    
           
               
        <p>.. attribute: group: TaskGroup</p>

    
           
               
        <p>    The group of tasks to which this one belongs.</p>

    
           
               
        <p>.. attribute: annotations: dict</p>

    
           
               
        <p>    Task annotations</p>

    
           
       
    


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
    
        <!-- rendering Notes -->
        
           
       
    


    
    
       
   



    <h3 id="section-Examples">Examples</h3>
        
         See :
         
             <code><a link href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.replicate.html" class='exists'>distributed.client.Client.replicate</a></code>
        
         
             <code><a link href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.scatter.html" class='exists'>distributed.client.Client.scatter</a></code>
        
         
     
    




<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg width="800" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>


<hr>

To Be Done: </br>

File: /Users/bussonniermatthias/dev/distributed/distributed/scheduler.py </br>
Line: 868 </br>
type: &lt;class &#39;type&#39;&gt; </br>
Commit: </br>
Tag: </br>
Link to the right github gitalab repository, file and line (maybe range?)</br>
</div>


    
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
        <style type="text/css">
        .node {}

        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; }
    </style>
<script>

var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d"),
    width = canvas.width,
    height = canvas.height;
var searchRadius = 40;



var color = d3.scaleOrdinal()
    .range(d3.schemeCategory10);

var canvas_simulation = d3.forceSimulation()
    .force("charge", d3.forceManyBody().strength(-100))
    .force("link", d3.forceLink().distance(30).strength(0.1).iterations(1).id(function(d) { return d.id; }))
    .force("x", d3.forceX().strength(0.1))
    .force("y", d3.forceY().strength(0.2));


var canvas_graph = {"nodes": [{"id": 1, "val": 9.0, "label": "distributed.client.Client.replicate", "mod": "distributed", "url": "/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.replicate"}, {"id": 2, "val": 9.0, "label": "distributed.client.Client.scatter", "mod": "distributed", "url": "/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.scatter"}], "links": []};

(function() {

  var pages = d3.nest()
      .key(function(d) { return d.mod; })
      .entries(canvas_graph.nodes)
      .sort(function(a, b) { return b.values.length - a.values.length; });

  var c = color.domain(pages.map(function(d) { return d.key; }));

    

  canvas_simulation
      .nodes(canvas_graph.nodes)
      .on("tick", ticked);

  canvas_simulation.force("link")
      .links(canvas_graph.links);

  d3.select(canvas)
      .on("mousemove", mousemoved)
      .call(d3.drag()
          .container(canvas)
          .subject(dragsubject)
          .on("start", dragstarted)
          .on("drag", dragged)
          .on("end", dragended));

  function ticked() {
    context.clearRect(0, 0, width, height);
    context.save();
    context.translate(width / 2, height / 2);

    context.beginPath();
    canvas_graph.links.forEach(drawLink);
    context.strokeStyle = "#aaa";
    context.stroke();
    var margin = 10; 
    
    pages.forEach(function(page) {
      context.beginPath();
      page.values.forEach(drawNode);
      context.fillStyle = color(page.key);
      context.fill();
    });

    context.restore();

  }

  function dragsubject() {
    return canvas_simulation.find(d3.event.x - width / 2, d3.event.y - height / 2, searchRadius);
  }

  function mousemoved() {
    var a = this.parentNode, m = d3.mouse(this), d = canvas_simulation.find(m[0] - width / 2, m[1] - height / 2, searchRadius);
    if (!d) return a.removeAttribute("href"), a.removeAttribute("title");
    //a.setAttribute("href", "http://bl.ocks.org/" + (d.user ? d.user + "/" : "") + d.id);
    a.setAttribute("title", d.label );
  }
})();

function dragstarted() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0.3).restart();
  d3.event.subject.fx = d3.event.subject.x;
  d3.event.subject.fy = d3.event.subject.y;
}

function dragged() {
  d3.event.subject.fx = d3.event.x;
  d3.event.subject.fy = d3.event.y;
}

function dragended() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0);
  d3.event.subject.fx = null;
  d3.event.subject.fy = null;
}

function drawLink(d) {
  context.moveTo(d.source.x, d.source.y);
  context.lineTo(d.target.x, d.target.y);
   //context.moveTo(d.x + 3, d.y);
  //context.arc((d.target.x*9+d.source.x)/10, (d.target.y*9+d.source.y)/10, 2, 0, 2 * Math.PI);
}

function drawNode(d) {
  context.moveTo(d.x + 5, d.y);
  context.arc(d.x, d.y, d.val, 0, 2 * Math.PI);
}

</script>
<script type="text/javascript">
    var colors = d3.scaleOrdinal(d3.schemeCategory10);

    var svg = d3.select("svg");
    var width = svg.attr("width");
    var height = svg.attr("height");
    var node;
    var link;

    // syle for arrow head in the svg...
    svg.append('defs').append('marker')
        .attrs({'id':'arrowhead',
            'viewBox':'-0 -5 10 10',
            'refX':13,
            'refY':0,
            'orient':'auto',
            'markerWidth':13,
            'markerHeight':13,
            'xoverflow':'visible'})
        .append('svg:path')
        .attr('d', 'M 0,-5 L 10 ,0 L 0,5')
        .attr('fill', '#999')
        .style('stroke','none');


    var svg_simulation = d3.forceSimulation()
        .force("charge", d3.forceManyBody().strength(-100))
        .force("link", d3.forceLink().distance(80).strength(0.01).iterations(10).id(function(d) { return d.id; }))
        .force("x", d3.forceX(width/2).strength(0.04))
        .force("y", d3.forceY(height/2).strength(0.06));





    var svg_graph = {"nodes": [{"id": 1, "val": 9.0, "label": "distributed.client.Client.replicate", "mod": "distributed", "url": "/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.replicate"}, {"id": 2, "val": 9.0, "label": "distributed.client.Client.scatter", "mod": "distributed", "url": "/p/distributed/2021.01.1+9.g613b3c820/api/distributed.client.Client.scatter"}], "links": []};
    (function (error, graph) {
            if (error) throw error;
        graph.nodes.forEach(function(d) { d.x = width*Math.random(); d.y = height*Math.random()});
        update(graph.links, graph.nodes);
        })(null, svg_graph);

    var edgelabels;

    function update(links, nodes) {
        link = svg.selectAll(".link")
            .data(links)
            .enter()
            .append("line")
            .attr("class", "link")
            .attr('marker-end','url(#arrowhead)');

        //link.append("title")
        //    .text(function (d) {return d.type;});

        edgepaths = svg.selectAll(".edgepath")
            .data(links)
            .enter()
            .append('path')
            .attrs({
                'class': 'edgepath',
                'fill-opacity': 0,
                'stroke-opacity': 0,
                'id': function (d, i) {return 'edgepath' + i}
            })
            .style("pointer-events", "none");

        edgelabels = svg.selectAll(".edgelabel")
            .data(links)
            .enter()
            .append('text')
            .style("pointer-events", "none")
            .attrs({
                'class': 'edgelabel',
                'id': function (d, i) {return 'edgelabel' + i},
                'font-size': 10,
                'fill': '#aaa'
            });

        edgelabels.append('textPath')
            .attr('xlink:href', function (d, i) {return '#edgepath' + i})
            .style("text-anchor", "middle")
            .style("pointer-events", "none")
            .attr("startOffset", "50%")
            .text(function (d) {return d.type});

        node = svg.selectAll(".node")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended)
            );

        node.append("a")
                .attr("xlink:href", function(node){return node.url})
            .append("circle")
                .attr("r", function(node){return node.val})
                .style("fill", function (d, i) {return colors(d.mod);})
                .style("stroke", "#FFF")

        node.append("title")
            .text(function (d) {return d.label;});

        node.append("text")
                //.attr("dx", function(node){return node.val+1})
                .attr("dy", +10)
                .attr("opacity", "0.5")
            .text(function (d) {arr = d.label.split('.'); return arr[arr.length-1]});

        svg_simulation
            .nodes(nodes)
            .on("tick", ticked);

        svg_simulation.force("link")
                .links(links)

    }

    function ticked() {
        link
            .attr("x1", function (d) {return d.source.x;})
            .attr("y1", function (d) {return d.source.y;})
            .attr("x2", function (d) {return d.target.x;})
            .attr("y2", function (d) {return d.target.y;});

        node
            .attr("transform", function (d) {return "translate(" + d.x + ", " + d.y + ")";});

        edgepaths.attr('d', function (d) {
            return 'M ' + d.source.x + ' ' + d.source.y + ' L ' + d.target.x + ' ' + d.target.y;
        });

        edgelabels.attr('transform', function (d) {
            if (d.target.x < d.source.x) {
                var bbox = this.getBBox();

                rx = bbox.x + bbox.width / 2;
                ry = bbox.y + bbox.height / 2;
                return 'rotate(180 ' + rx + ' ' + ry + ')';
            }
            else {
                return 'rotate(0)';
            }
        });
    }

    function dragstarted(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0.3).restart()
        d.fx = d.x;
        d.fy = d.y;
    }

    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }

    function dragended(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
    }

</script>




</div>
</body>
</html>