<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
      // this should process only math inside  span with tex2jax_process class
      MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
          },
          "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=distributed>distributed</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/IPython/8.4.0/api/IPython.html">IPython</a>
<a href="/p/astropy/5.0/api/astropy.html">astropy</a>
<a href="/p/dask/2021.10.0/api/dask.html">dask</a>
<a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
<a href="/p/networkx/2.8.2/api/networkx.html">networkx</a>
<a href="/p/numpy/1.22.4/api/numpy.html">numpy</a>
<a href="/p/pandas/1.4.2/api/pandas.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
<a href="/p/scipy/1.8.0/api/scipy.html">scipy</a>
<a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/distributed/2021.10.0/api/distributed.html'>2021.10.0</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/distributed/2021.10.0/api/distributed.html">2021.10.0</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/distributed/2021.10.0/api/distributed.html'>API</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/distributed/2021.10.0/api/distributed.html">API</a>
                        <a href="/p/distributed/2021.10.0/gallery">Gallery</a>
                        <a href="/p/distributed/2021.10.0/examples">Examples</a>
                        <a href="/p/distributed/2021.10.0/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='distributed.html'>distributed</a>.                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='distributed.scheduler.html'>scheduler</a>.                            <div class="dropdown-content">
<a href="/p/distributed/2021.10.0/api/distributed._concurrent_futures_thread.html">_concurrent_futures_thread</a>
<a href="/p/distributed/2021.10.0/api/distributed._version.html">_version</a>
<a href="/p/distributed/2021.10.0/api/distributed.active_memory_manager.html">active_memory_manager</a>
<a href="/p/distributed/2021.10.0/api/distributed.actor.html">actor</a>
<a href="/p/distributed/2021.10.0/api/distributed.batched.html">batched</a>
<a href="/p/distributed/2021.10.0/api/distributed.cfexecutor.html">cfexecutor</a>
<a href="/p/distributed/2021.10.0/api/distributed.client.html">client</a>
<a href="/p/distributed/2021.10.0/api/distributed.comm.html">comm</a>
<a href="/p/distributed/2021.10.0/api/distributed.compatibility.html">compatibility</a>
<a href="/p/distributed/2021.10.0/api/distributed.core.html">core</a>
<a href="/p/distributed/2021.10.0/api/distributed.deploy.html">deploy</a>
<a href="/p/distributed/2021.10.0/api/distributed.diagnostics.html">diagnostics</a>
<a href="/p/distributed/2021.10.0/api/distributed.diskutils.html">diskutils</a>
<a href="/p/distributed/2021.10.0/api/distributed.event.html">event</a>
<a href="/p/distributed/2021.10.0/api/distributed.http.html">http</a>
<a href="/p/distributed/2021.10.0/api/distributed.lock.html">lock</a>
<a href="/p/distributed/2021.10.0/api/distributed.locket.html">locket</a>
<a href="/p/distributed/2021.10.0/api/distributed.metrics.html">metrics</a>
<a href="/p/distributed/2021.10.0/api/distributed.multi_lock.html">multi_lock</a>
<a href="/p/distributed/2021.10.0/api/distributed.nanny.html">nanny</a>
<a href="/p/distributed/2021.10.0/api/distributed.node.html">node</a>
<a href="/p/distributed/2021.10.0/api/distributed.objects.html">objects</a>
<a href="/p/distributed/2021.10.0/api/distributed.preloading.html">preloading</a>
<a href="/p/distributed/2021.10.0/api/distributed.process.html">process</a>
<a href="/p/distributed/2021.10.0/api/distributed.proctitle.html">proctitle</a>
<a href="/p/distributed/2021.10.0/api/distributed.profile.html">profile</a>
<a href="/p/distributed/2021.10.0/api/distributed.protocol.html">protocol</a>
<a href="/p/distributed/2021.10.0/api/distributed.publish.html">publish</a>
<a href="/p/distributed/2021.10.0/api/distributed.pubsub.html">pubsub</a>
<a href="/p/distributed/2021.10.0/api/distributed.queues.html">queues</a>
<a href="/p/distributed/2021.10.0/api/distributed.recreate_tasks.html">recreate_tasks</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a>
<a href="/p/distributed/2021.10.0/api/distributed.security.html">security</a>
<a href="/p/distributed/2021.10.0/api/distributed.semaphore.html">semaphore</a>
<a href="/p/distributed/2021.10.0/api/distributed.sizeof.html">sizeof</a>
<a href="/p/distributed/2021.10.0/api/distributed.stealing.html">stealing</a>
<a href="/p/distributed/2021.10.0/api/distributed.system.html">system</a>
<a href="/p/distributed/2021.10.0/api/distributed.system_monitor.html">system_monitor</a>
<a href="/p/distributed/2021.10.0/api/distributed.threadpoolexecutor.html">threadpoolexecutor</a>
<a href="/p/distributed/2021.10.0/api/distributed.utils.html">utils</a>
<a href="/p/distributed/2021.10.0/api/distributed.utils_comm.html">utils_comm</a>
<a href="/p/distributed/2021.10.0/api/distributed.utils_perf.html">utils_perf</a>
<a href="/p/distributed/2021.10.0/api/distributed.variable.html">variable</a>
<a href="/p/distributed/2021.10.0/api/distributed.versions.html">versions</a>
<a href="/p/distributed/2021.10.0/api/distributed.widgets.html">widgets</a>
<a href="/p/distributed/2021.10.0/api/distributed.worker.html">worker</a>
<a href="/p/?/?/?/distributed.worker_client.html.html">worker_client</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='distributed.scheduler.Scheduler.html'>Scheduler</a>.                            <div class="dropdown-content">
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.ClientState.html">ClientState</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.CollectTaskMetaDataPlugin.html">CollectTaskMetaDataPlugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Computation.html">Computation</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.KilledWorker.html">KilledWorker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.MemoryState.html">MemoryState</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.html">Scheduler</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.SchedulerState.html">SchedulerState</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.TaskGroup.html">TaskGroup</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.TaskPrefix.html">TaskPrefix</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.TaskState.html">TaskState</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.WorkerState.html">WorkerState</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.WorkerStatusPlugin.html">WorkerStatusPlugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._OptionalStateLegacyMapping.html">_OptionalStateLegacyMapping</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._StateLegacyMapping.html">_StateLegacyMapping</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._StateLegacySet.html">_StateLegacySet</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._add_to_memory.html">_add_to_memory</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._client_releases_keys.html">_client_releases_keys</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._legacy_client_key_set.html">_legacy_client_key_set</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._legacy_task_key_dict.html">_legacy_task_key_dict</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._legacy_task_key_set.html">_legacy_task_key_set</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._legacy_worker_key_set.html">_legacy_worker_key_set</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._propagate_forgotten.html">_propagate_forgotten</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._reevaluate_occupancy_worker.html">_reevaluate_occupancy_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._remove_from_processing.html">_remove_from_processing</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._task_key_or_none.html">_task_key_or_none</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._task_to_client_msgs.html">_task_to_client_msgs</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._task_to_msg.html">_task_to_msg</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler._task_to_report_msg.html">_task_to_report_msg</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.cast.html">cast</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.ccall.html">ccall</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.cclass.html">cclass</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.cfunc.html">cfunc</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.decide_worker.html">decide_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.declare.html">declare</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.exceptval.html">exceptval</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.final.html">final</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.heartbeat_interval.html">heartbeat_interval</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.inline.html">inline</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.nogil.html">nogil</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.validate_state.html">validate_state</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.validate_task_state.html">validate_task_state</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.validate_worker_state.html">validate_worker_state</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='distributed.scheduler.Scheduler.rebalance.html'>rebalance</a>                            <div class="dropdown-content">
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.__init__.html">__init__</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.__repr__.html">__repr__</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler._rebalance_find_msgs.html">_rebalance_find_msgs</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler._rebalance_move_data.html">_rebalance_move_data</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler._report_event.html">_report_event</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler._repr_html_.html">_repr_html_</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.adaptive_target.html">adaptive_target</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.add_client.html">add_client</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.add_keys.html">add_keys</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.add_nanny.html">add_nanny</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.add_plugin.html">add_plugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.add_resources.html">add_resources</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.add_worker.html">add_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.broadcast.html">broadcast</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.cancel_key.html">cancel_key</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.check_idle.html">check_idle</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.check_worker_ttl.html">check_worker_ttl</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.clear_task_state.html">clear_task_state</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.client_desires_keys.html">client_desires_keys</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.client_heartbeat.html">client_heartbeat</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.client_releases_keys.html">client_releases_keys</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.client_send.html">client_send</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.close.html">close</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.close_worker.html">close_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.coerce_address.html">coerce_address</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.delete_worker_data.html">delete_worker_data</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.feed.html">feed</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.gather.html">gather</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.gather_on_worker.html">gather_on_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_call_stack.html">get_call_stack</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_events.html">get_events</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_has_what.html">get_has_what</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_metadata.html">get_metadata</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_nbytes.html">get_nbytes</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_ncores.html">get_ncores</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_processing.html">get_processing</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_profile.html">get_profile</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_profile_metadata.html">get_profile_metadata</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_task_status.html">get_task_status</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_task_stream.html">get_task_stream</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_who_has.html">get_who_has</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_worker_logs.html">get_worker_logs</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_worker_monitor_info.html">get_worker_monitor_info</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.get_worker_service_addr.html">get_worker_service_addr</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.handle_long_running.html">handle_long_running</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.handle_missing_data.html">handle_missing_data</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.handle_task_erred.html">handle_task_erred</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.handle_task_finished.html">handle_task_finished</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.handle_uncaught_error.html">handle_uncaught_error</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.handle_worker.html">handle_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.handle_worker_status_change.html">handle_worker_status_change</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.heartbeat_worker.html">heartbeat_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.identity.html">identity</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.log_event.html">log_event</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.log_worker_event.html">log_worker_event</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.performance_report.html">performance_report</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.proxy.html">proxy</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.rebalance.html">rebalance</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.reevaluate_occupancy.html">reevaluate_occupancy</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.register_nanny_plugin.html">register_nanny_plugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.register_scheduler_plugin.html">register_scheduler_plugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.register_worker_plugin.html">register_worker_plugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.release_worker_data.html">release_worker_data</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.remove_client.html">remove_client</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.remove_plugin.html">remove_plugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.remove_resources.html">remove_resources</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.remove_worker.html">remove_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.replicate.html">replicate</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.report.html">report</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.report_on_key.html">report_on_key</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.reschedule.html">reschedule</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.restart.html">restart</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.retire_workers.html">retire_workers</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.run_function.html">run_function</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.scatter.html">scatter</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.send_all.html">send_all</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.send_task_to_worker.html">send_task_to_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.set_metadata.html">set_metadata</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.set_restrictions.html">set_restrictions</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.start.html">start</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.start_ipython.html">start_ipython</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.start_task_metadata.html">start_task_metadata</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.stimulus_cancel.html">stimulus_cancel</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.stimulus_retry.html">stimulus_retry</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.stimulus_task_erred.html">stimulus_task_erred</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.stimulus_task_finished.html">stimulus_task_finished</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.stop_task_metadata.html">stop_task_metadata</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.story.html">story</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.subscribe_topic.html">subscribe_topic</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.subscribe_worker_status.html">subscribe_worker_status</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.transition.html">transition</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.transitions.html">transitions</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.unregister_nanny_plugin.html">unregister_nanny_plugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.unregister_worker_plugin.html">unregister_worker_plugin</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.unsubscribe_topic.html">unsubscribe_topic</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.update_data.html">update_data</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.update_graph.html">update_graph</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.update_graph_hlg.html">update_graph_hlg</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_erred.html">validate_erred</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_key.html">validate_key</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_memory.html">validate_memory</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_no_worker.html">validate_no_worker</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_processing.html">validate_processing</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_released.html">validate_released</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_state.html">validate_state</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.validate_waiting.html">validate_waiting</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.worker_send.html">worker_send</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.workers_list.html">workers_list</a>
<a href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.workers_to_close.html">workers_to_close</a>
                            </div>
                    </div><!--end dropdown-->
</nav>
    </header>
    <div class='container'>

    <div class="sidenav">
        <img src="/p/distributed/2021.10.0/img/dask-logo.png"/>
    <a href="#">distributed</a>
    <a href="#">2021.10.0</a>
    <hr/>
    <hr/>
<a href="#section-Parameters">Parameters</a><a href="#section-backrefs">BackRef</a>
    </div><!--end sidenav-->







<code class='signature'>rebalance(self, comm=None, keys: &#39;Iterable[Hashable]&#39; = None, workers: &#39;Iterable[str]&#39; = None) -&gt; dict</code><!-- rendering Extended Summary -->
                                   <div class='admonition'>
    <div>warning</div>
        <p>This operation is generally not well tested against normal operation of the scheduler. It is not recommended to use it while waiting on computations.</p>

</div>


               <p><strong>Algorithm</strong></p>

                          <ol>               <li>               <p>Find the mean occupancy of the cluster, defined as data managed by dask +    unmanaged process memory that has been there for at least 30 seconds    (        <code class='verbatim'>distributed.worker.memory.recent-to-old-time</code>
).    This lets us ignore temporary spikes caused by task heap usage.</p>

               <p>Alternatively, you may change how memory is measured both for the individual    workers as well as to calculate the mean through            <code class='verbatim'>distributed.worker.memory.rebalance.measure</code>
. Namely, this can be useful    to disregard inaccurate OS memory measurements.</p>

</li>
               <li>               <p>Discard workers whose occupancy is within 5% of the mean cluster occupancy    (        <code class='verbatim'>distributed.worker.memory.rebalance.sender-recipient-gap</code>
 / 2).    This helps avoid data from bouncing around the cluster repeatedly.</p>

</li>
               <li>               <p>Workers above the mean are senders; those below are recipients.</p>

</li>
               <li>               <p>Discard senders whose absolute occupancy is below 30%    (        <code class='verbatim'>distributed.worker.memory.rebalance.sender-min</code>
). In other words, no data    is moved regardless of imbalancing as long as all workers are below 30%.</p>

</li>
               <li>               <p>Discard recipients whose absolute occupancy is above 60%    (        <code class='verbatim'>distributed.worker.memory.rebalance.recipient-max</code>
).    Note that this threshold by default is the same as            <code class='verbatim'>distributed.worker.memory.target</code>
 to prevent workers from accepting data    and immediately spilling it out to disk.</p>

</li>
               <li>               <p>Iteratively pick the sender and recipient that are farthest from the mean and    move the <em>least recently inserted</em> key between the two, until either all    senders or all recipients fall within 5% of the mean.</p>

               <p>A recipient will be skipped if it already has a copy of the data. In other    words, this method does not degrade replication.    A key will be skipped if there are no recipients available with enough memory    to accept the key and that don&#39;t already hold a copy.</p>

</li>
            </ol>

               <p>The least recently insertd (LRI) policy is a greedy choice with the advantage of being O(1), trivial to implement (it relies on python dict insertion-sorting) and hopefully good enough in most cases. Discarded alternative policies were:</p>

                          <ul>               <li>               <p>Largest first. O(n*log(n)) save for non-trivial additional data structures and   risks causing the largest chunks of data to repeatedly move around the   cluster like pinballs.</p>

</li>
               <li>               <p>Least recently used (LRU). This information is currently available on the   workers only and not trivial to replicate on the scheduler; transmitting it   over the network would be very expensive. Also, note that dask will go out of   its way to minimise the amount of time intermediate keys are held in memory,   so in such a case LRI is a close approximation of LRU.</p>

</li>
            </ul>

<!-- rendering Notes -->
        <h3 id="section-Parameters">Parameters</h3>
<dl>
<dt><a id="keys: optional">keys: optional</a> : </dt>
<dd>
<p>whitelist of dask keys that should be considered for moving. All other keys will be ignored. Note that this offers no guarantee that a key will actually be moved (e.g. because it is unnecessary or because there are no viable recipient workers for it).</p>

</dd>
<dt><a id="workers: optional">workers: optional</a> : </dt>
<dd>
<p>whitelist of workers addresses to be considered as senders or recipients. All other workers will be ignored. The mean cluster occupancy will be calculated only using the whitelisted workers.</p>

</dd>
</dl>

<!-- rendering Summary -->
                       <p>Rebalance keys so that each worker ends up with roughly the same process memory (managed+unmanaged).</p>

<h3 id="section-Examples">Examples</h3>
         See :
    

    <h3 id='section-backrefs'>Back References</h3>
    <p>The following pages refer to to this document either explicitly or contain code examples using this.</p>

        <code><a link href="/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.replicate.html" class='exists'>distributed.scheduler.Scheduler.replicate</a></code>

<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>

<hr>

    File: /distributed/scheduler.py#6051
<br/>

type: &lt;class &#39;function&#39;&gt; <br/>
Commit: <br/>

        <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
    <style type="text/css">
        .node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };
    </style>
<script>
    window._data_graph = {"nodes": [{"id": 1, "val": 8.0, "label": "distributed.scheduler.Scheduler.replicate", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.scheduler.Scheduler.replicate"}], "links": []};
</script>
<script type="text/javascript" src='/graph_canvas.js'></script>
<script type="text/javascript" src='/graph_svg.js'></script>


</div>
</body>
</html>