<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
<style>
body{
    font-family: 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    color: #606c76;
    font-weight: 350;
    line-height: 1.6;
    max-width: 1000px;
    margin-left:0;

}
          .graph{border: 1px gray solid;}
          .foo:hover{text-decoration:underline}
          .foo{font-weight:bold; color:#4e4e4e}
          .exists{font-weight:bold; color:#4e4e4e;text-decoration:none;}
          .local{font-weight:bold; color:#1e6f04;text-decoration:none;}
          .exists:hover{text-decoration:underline;color:black}
          .missing,.missing:hover{color:darkred;text-decoration:none;font-weight:normal}
          .signature {font-size:100%; margin-bottom: 2rem; display: block; border:none; background-color: #FFFFFF;
              font-weight:600;}
          h1, h2, h3 {color: #4e4e4e; font-weight:400;
              margin-bottom: 1rem;border-bottom: 1px solid var(--nc-bg-3);
          }
          pre{border-radius:0;
              padding:0.6rem;
          border-left: 3px solid #AAA}
          dt {font-weight: 400;}

          header{
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              
              padding-top:0rem;
              padding-bottom:0rem;
              z-index: 2;
              padding-left: 0;
              position: fixed;
              top: 30px;
              left:0; 
              width: 100%;
              height: 42px;
              backdrop-filter: blur(5px);
              background-color: rgba(255, 255, 255, .15);
          }
          dd::before {
            content: '';
          }
          header > brand, header>:first-child {
              border-right: 1px solid #ccc;
              border-left: 1px solid #ccc;
              padding: 16px;
              padding-top: 0.5rem;
              padding-bottom: 0.5rem;
              display: inline-block; 
              width: 167px;
              

          }
          brand > a {color:#606c76}
          brand > i {
              padding-right: 0.5rem;

        }
          nav{display:inline-block;
              padding: 10px;
              padding-left: 1rem;

          }

          dd {
              margin-left: 1rem;
              border-left:  solid #ddd;
              padding-left: 1rem;
          }
          summary > h2 { display: inline }

          .sidenav {
                height: 100%; /* Full-height: remove this if you want "auto" height */
                width: 200px; /* Set the width of the sidebar */
                position: fixed; /* Fixed Sidebar (stay in place on scroll) */
                z-index: 1; /* Stay on top */
                top: 0; /* Stay at the top */
                left: 0;
                background-color: var(--nc-bg-1);; /* Black */
                border-right: thin solid #ccc;
                overflow-x: hidden; /* Disable horizontal scroll */
                padding-top: 3rem;
 
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                
          }

          .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            color: #818181;
            display: block;
          }
          .sidenav img {
              width: 160px;
              padding-left:20px;
              padding-right:20px;
              border-bottom: solid thin #DDD; 
              padding-bottom: .5rem;
              max-width: 100%;
          }
          .sidenav i {
              font-size: 100;
              padding-left: 3.5rem;
              padding-right: 3.5rem;
              padding-bottom: .5rem;
              border-bottom: solid thin #DDD; 

          }
          .container {
              padding-left: 210px;
              
              padding-top: 30px;

          }

          ::selection {
	/* Set background color for selected text */
                background: #59b4fd;
                color: var(--nc-ac-tx);
          }

          img {max-width: 40%;}

          pre.highlight.execed, .admonition {
            border-left: 3px solid #0070f3;
          }
          .admonition {
            padding-left: 1em;
          }
          .admonition > div {
            background-color: rgba(0, 123, 255, 0.1);
            position: relative;
            margin: 0 -1rem;
            padding: 0.4rem 0.1rem 0.4rem 1.5rem;
            font-weight: bold;
            text-transform: capitalize;
        }
          .note {color: #7d77d2}
          .warning {color: #af7b1a}
          .error {color: #f44336}
          pre.highlight.compiled {
            border-left: 3px solid #7d77d2;
          }
          pre.highlight.syntax_error, pre.highlight.exception_in_exec {
            border-left: 3px solid #f44336;
          }

        /* Dropdown Button */
/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
  margin-left: -4px;
}

nav  a {
    color: #606c76;
    text-decoration: none;

}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #ddd;}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {display: block;
    max-height: 80vh;
    overflow: scroll;}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {}


pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */

.nsl {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}


.block_directive{

    border-left: thin solid var(--nc-lk-1);
    padding-bottom: 8px;
    padding-left: 12px;
}

.block_directive.head{

    border: thin solid var(--nc-lk-1);
}


.block_directive > p{
    margin-left: 2em;
    margin-top: 1em;
}
.head {
    font-family: monospace;
    color: var(--nc-lk-1);
}
</style>
</head>
<body class="tex2jax_ignore">
    <header>
            <brand><i class="fab fa-python"></i><a href='/'>Home</a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=distributed>distributed</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/IPython/8.1.0.dev/api/IPython.html">IPython</a>
                            <a href="/p/astropy/5.0/api/astropy.html">astropy</a>
                            <a href="/p/dask/2021.10.0/api/dask.html">dask</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
                            <a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
                            <a href="/p/numpy/1.22.1/api/numpy.html">numpy</a>
                            <a href="/p/pandas/1.4.0/api/pandas.html">pandas</a>
                            <a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
                            <a href="/p/scipy/1.7.1/api/scipy.html">scipy</a>
                            <a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
                            
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/distributed/2021.10.0/api/distributed.html'>2021.10.0</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/distributed/2021.10.0/api/distributed.html">2021.10.0</a>
                            
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/distributed/2021.10.0/api/distributed.html'>api</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/distributed/2021.10.0/api/distributed.html">API</a>
                        <a href="/p/distributed/2021.10.0/gallery">Gallery</a>
                     </div>
                </div>

            
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='distributed.html'>distributed</a>.
                        
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='distributed.deploy.html'>deploy</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/distributed/2021.10.0/api/distributed._concurrent_futures_thread.html">_concurrent_futures_thread</a>
                            <a href="/p/distributed/2021.10.0/api/distributed._version.html">_version</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.active_memory_manager.html">active_memory_manager</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.actor.html">actor</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.batched.html">batched</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.cfexecutor.html">cfexecutor</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.client.html">client</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.comm.html">comm</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.compatibility.html">compatibility</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.core.html">core</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.html">deploy</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.diagnostics.html">diagnostics</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.diskutils.html">diskutils</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.event.html">event</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.http.html">http</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.lock.html">lock</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.locket.html">locket</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.metrics.html">metrics</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.multi_lock.html">multi_lock</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.nanny.html">nanny</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.node.html">node</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.objects.html">objects</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.preloading.html">preloading</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.process.html">process</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.proctitle.html">proctitle</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.profile.html">profile</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.protocol.html">protocol</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.publish.html">publish</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.pubsub.html">pubsub</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.queues.html">queues</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.recreate_tasks.html">recreate_tasks</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.security.html">security</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.semaphore.html">semaphore</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.sizeof.html">sizeof</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.stealing.html">stealing</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.system.html">system</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.system_monitor.html">system_monitor</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.threadpoolexecutor.html">threadpoolexecutor</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.utils.html">utils</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.utils_comm.html">utils_comm</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.utils_perf.html">utils_perf</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.variable.html">variable</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.versions.html">versions</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.widgets.html">widgets</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.worker.html">worker</a>
                            <a href="/p/?/?/api/distributed.worker_client.html">worker_client</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='distributed.deploy.spec.html'>spec</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.adaptive.html">adaptive</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.adaptive_core.html">adaptive_core</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.local.html">local</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.html">spec</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.ssh.html">ssh</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.utils.html">utils</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='distributed.deploy.spec.SpecCluster.html'>SpecCluster</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.NoOpAwaitable.html">NoOpAwaitable</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.ProcessInterface.html">ProcessInterface</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html">SpecCluster</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" >+</a>
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._memory_per_worker.html">_memory_per_worker</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._new_worker_name.html">_new_worker_name</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._threads_per_worker.html">_threads_per_worker</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.adapt.html">adapt</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html">new_worker_spec</a>
                            
                            </div>
                        
                    </div>
                </nav>
    </header>
<div class='container'>
    <div class="sidenav">
    
        <img src="/p/distributed/2021.10.0/img/logo.png"/>
    
    <a href="#">Library: distributed</a>
    <a href="#">Version: 2021.10.0</a>
    <a href="#">Authors:</a>
    <a href="#">PyPI:</a>
    <a href="#">Source</a>
    <a href="#">Homepage</a>
    <a href="#">Fundings</a>
    <a href="#">Stars</a>
    <a href="#">Forks</a>
    <a href="#">Related</a>
    <hr/>
    <a>Narrative Docs</a>
    <hr/>
    <a href="#section-Parameters">Parameters</a>

    <a href="#section-backrefs">BackRef</a>
    

    </div>

    













    <code class='signature'>SpecCluster(workers=None, scheduler=None, worker=None, asynchronous=False, loop=None, security=None, silence_logs=False, name=None, shutdown_on_close=True, scheduler_sync_interval=1)</code>




    
    
       <dl>
           

   </pre>
   


    
    
        <!-- rendering Extended Summary -->
        
           
               
        <p>The SpecCluster class expects a full specification of the Scheduler and Workers to use.  It removes any handling of user inputs (like threads vs processes, number of cores, and so on) and any handling of cluster resource managers (like pods, jobs, and so on).  Instead, it expects this information to be passed in scheduler and worker specifications.  This class does handle all of the logic around asynchronously cleanly setting up and tearing things down at the right times.  Hopefully it can form a base for other more user-centric classes.</p>

    
           
       
    


    
    
       
   


    
    
        <!-- rendering Notes -->
        
           
       
    


    
    
       <dl>
           

   </pre>
   


    
        <h3 id="section-Parameters">Parameters</h3>
    
    
       <dl>
           
            
                <dt><a id="workers: dict">workers: dict</a> : </dt>
            
        </dl>

        <dd>
            
                
        <p>A dictionary mapping names to worker classes and their specifications See example below</p>

    
            
        </dd>
       
            
                <dt><a id="scheduler: dict, optional">scheduler: dict, optional</a> : </dt>
            
        </dl>

        <dd>
            
                
        <p>A similar mapping for a scheduler</p>

    
            
        </dd>
       
            
                <dt><a id="worker: dict">worker: dict</a> : </dt>
            
        </dl>

        <dd>
            
                
        <p>A specification of a single worker. This is used for any new workers that are created.</p>

    
            
        </dd>
       
            
                <dt><a id="asynchronous: bool">asynchronous: bool</a> : </dt>
            
        </dl>

        <dd>
            
                
        <p>If this is intended to be used directly within an event loop with async/await</p>

    
            
        </dd>
       
            
                <dt><a id="silence_logs: bool">silence_logs: bool</a> : </dt>
            
        </dl>

        <dd>
            
                
        <p>Whether or not we should silence logging when setting up the cluster.</p>

    
            
        </dd>
       
            
                <dt><a id="name: str, optional">name: str, optional</a> : </dt>
            
        </dl>

        <dd>
            
                
        <p>A name to use when printing out the cluster, defaults to type name</p>

    
            
        </dd>
       

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
    
       <dl>
           

   </pre>
   


    
    
        <!-- rendering Summary -->
        
           
               
        <p>Cluster that requires a full specification of workers</p>

    
           
       
    


    
    
       
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   



    <h3 id="section-Examples">Examples</h3>
        
                
        <p>To create a SpecCluster you specify how to set up a Scheduler and Workers</p>

    
            
            
         
                <span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="kn">from</span><span class=""> </span><a class="foo nn", href="/p/dask/2021.10.0/api/dask.html">dask</a><span class="nn">.</span><a class="foo nn", href="/p/distributed/2021.10.0/api/distributed.html">distributed</a><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">Scheduler</span><span class="">,</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker.html">Worker</a><span class="">,</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.nanny.Nanny.html">Nanny</a><br><span class='nsl'>...&nbsp;</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><span class="s1">&#39;</span><span class="s1">cls</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><span class="">Scheduler</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">options</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><span class="">{</span><span class="s2">&#34;</span><a class="foo s2", href="/p/distributed/2021.10.0/api/distributed.utils.clean_dashboard_address.html">dashboard_address</a><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">:8787</span><span class="s1">&#39;</span><span class="">}</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><span class="">workers</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">my-worker</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><span class="">{</span><span class="s2">&#34;</span><span class="s2">cls</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker.html">Worker</a><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">options</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="">{</span><span class="s2">&#34;</span><a class="foo s2", href="/p/distributed/2021.10.0/api/distributed.client.Client.nthreads.html">nthreads</a><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="mi">1</span><span class="">}</span><span class="">}</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">my-nanny</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><span class="">{</span><span class="s2">&#34;</span><span class="s2">cls</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.nanny.Nanny.html">Nanny</a><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">options</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="">{</span><span class="s2">&#34;</span><a class="foo s2", href="/p/distributed/2021.10.0/api/distributed.client.Client.nthreads.html">nthreads</a><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="mi">2</span><span class="">}</span><span class="">}</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html">SpecCluster</a><span class="">(</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a><span class="o">=</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a><span class="">,</span><span class=""> </span><span class="">workers</span><span class="o">=</span><span class="">workers</span><span class="">)</span>
</pre>
            
            
         
                
        <p>The worker spec is stored as the 
        <code class='verbatim'>.worker_spec</code>
     attribute</p>

    
            
            
         
                <span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class="o">.</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html">worker_spec</a>
{
   &#39;my-worker&#39;: {&#34;cls&#34;: Worker, &#34;options&#34;: {&#34;nthreads&#34;: 1}},
   &#39;my-nanny&#39;: {&#34;cls&#34;: Nanny, &#34;options&#34;: {&#34;nthreads&#34;: 2}},
}</pre>
            
            
         
                
        <p>While the instantiation of this spec is stored in the 
        <code class='verbatim'>.workers</code>
     attribute</p>

    
            
            
         
                <span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class="o">.</span><span class="">workers</span>
{
    &#39;my-worker&#39;: &lt;Worker ...&gt;
    &#39;my-nanny&#39;: &lt;Nanny ...&gt;
}</pre>
            
            
         
                
        <p>Should the spec change, we can await the cluster or call the 
        <code class='verbatim'>._correct_state</code>
     method to align the actual state to the specified state.</p>

    
            
            
         
                
        <p>We can also 
        <code class='verbatim'>.scale(...)</code>
     the cluster, which adds new workers of a given form.</p>

    
            
            
         
                <span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.worker.html">worker</a><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><span class="s1">&#39;</span><span class="s1">cls</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker.html">Worker</a><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">options</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><span class="">{</span><span class="">}</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html">SpecCluster</a><span class="">(</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a><span class="o">=</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a><span class="">,</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.worker.html">worker</a><span class="o">=</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.worker.html">worker</a><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class="o">.</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html">worker_spec</a>
{}</pre>
            
            
         
                <span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class="o">.</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.Cluster.scale.html">scale</a><span class="">(</span><span class="mi">3</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class="o">.</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html">worker_spec</a>
{
    0: {&#39;cls&#39;: Worker, &#39;options&#39;: {}},
    1: {&#39;cls&#39;: Worker, &#39;options&#39;: {}},
    2: {&#39;cls&#39;: Worker, &#39;options&#39;: {}},
}</pre>
            
            
         
                
        <p>Note that above we are using the standard 
        <code class='verbatim'>Worker</code>
     and 
        <code class='verbatim'>Nanny</code>
     classes, however in practice other classes could be used that handle resource management like 
        <code class='verbatim'>KubernetesPod</code>
     or 
        <code class='verbatim'>SLURMJob</code>
    .  The spec does not need to conform to the expectations of the standard Dask Worker class.  It just needs to be called with the provided options, support 
        <code class='verbatim'>__await__</code>
     and 
        <code class='verbatim'>close</code>
     methods and the 
        <code class='verbatim'>worker_address</code>
     property..</p>

    
            
            
         
                
        <p>Also note that uniformity of the specification is not required.  Other API could be added externally (in subclasses) that adds workers of different specifications into the same dictionary.</p>

    
            
            
         
                
        <p>If a single entry in the spec will generate multiple dask workers then please provide a <code>:None:None:`&#34;group&#34;`</code> element to the spec, that includes the suffixes that will be added to each name (this should be handled by your worker class).</p>

    
            
            
         
                <span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class="o">.</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html">worker_spec</a>
{
    0: {&#34;cls&#34;: MultiWorker, &#34;options&#34;: {&#34;processes&#34;: 3}, &#34;group&#34;: [&#34;-0&#34;, &#34;-1&#34;, -2&#34;]}
    1: {&#34;cls&#34;: MultiWorker, &#34;options&#34;: {&#34;processes&#34;: 2}, &#34;group&#34;: [&#34;-0&#34;, &#34;-1&#34;]}
}</pre>
            
            
         
                
        <p>These suffixes should correspond to the names used by the workers when they deploy.</p>

    
            
            
         
                <span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="">[</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.comm.ws.html">ws</a><span class="o">.</span><span class="">name</span><span class=""> </span><span class="k">for</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.comm.ws.html">ws</a><span class=""> </span><span class="ow">in</span><span class=""> </span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html">cluster</a><span class="o">.</span><a class="foo ", href="/p/distributed/2021.10.0/api/distributed.scheduler.html">scheduler</a><span class="o">.</span><span class="">workers</span><span class="o">.</span><span class="">values</span><span class="">(</span><span class="">)</span><span class="">]</span>
[&#34;0-0&#34;, &#34;0-1&#34;, &#34;0-2&#34;, &#34;1-0&#34;, &#34;1-1&#34;]</pre>
            
            
         
         See :
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.client.Client.nthreads.html" class='exists'>distributed.client.Client.nthreads</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker.html" class='exists'>distributed.deploy.ssh.Worker</a></code>
        
         
             <code><a link href="/p/dask/2021.10.0/api/dask.html" class='exists'>dask</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.scheduler.html" class='exists'>distributed.scheduler</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.html" class='exists'>distributed</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html" class='exists'>distributed.deploy.spec.SpecCluster.new_worker_spec</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.utils.clean_dashboard_address.html" class='exists'>distributed.utils.clean_dashboard_address</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.worker.html" class='exists'>distributed.worker</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.Cluster.scale.html" class='exists'>distributed.deploy.cluster.Cluster.scale</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.nanny.Nanny.html" class='exists'>distributed.nanny.Nanny</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html" class='exists'>distributed.deploy.spec.SpecCluster</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.comm.ws.html" class='exists'>distributed.comm.ws</a></code>
        
         
             <code><a link href="/p/distributed/2021.10.0/api/distributed.deploy.cluster.html" class='exists'>distributed.deploy.cluster</a></code>
        
         
     
    


    <h3 id='section-backrefs'>Back References</h3>
    <p>The following pages refer to to this document either explicitly or contain code examples using this.</p>

    
    
        <code><a link href="/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html" class='exists'>distributed.deploy.spec.SpecCluster</a></code>
        
    
    
    



<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>


<hr>

To Be Done: </br>

File: /distributed/deploy/spec.py </br>
Line: 119 </br>
type: &lt;class &#39;type&#39;&gt; </br>
Commit: </br>
Tag: </br>
Link to the right github gitalab repository, file and line (maybe range?)</br>
</div>


    
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
        <style type="text/css">
        .node {}

        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; }
    </style>
<script>

var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d"),
    width = canvas.width,
    height = canvas.height;
var searchRadius = 40;



var color = d3.scaleOrdinal()
    .range(d3.schemeCategory10);

var canvas_simulation = d3.forceSimulation()
    .force("charge", d3.forceManyBody().strength(-100))
    .force("link", d3.forceLink().distance(30).strength(0.1).iterations(1).id(function(d) { return d.id; }))
    .force("x", d3.forceX().strength(0.1))
    .force("y", d3.forceY().strength(0.2));


var canvas_graph = {"nodes": [{"id": 1, "val": 10.23606797749979, "label": "distributed.worker", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.worker"}, {"id": 3, "val": 15.416198487095663, "label": "dask", "mod": "dask", "url": "/p/dask/2021.10.0/api/dask"}, {"id": 4, "val": 9.414213562373096, "label": "distributed.comm.ws", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.comm.ws"}, {"id": 5, "val": 10.0, "label": "distributed.deploy.ssh.Worker", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker"}, {"id": 6, "val": 9.414213562373096, "label": "distributed.client.Client.nthreads", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.client.Client.nthreads"}, {"id": 7, "val": 10.0, "label": "distributed.scheduler", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.scheduler"}, {"id": 8, "val": 9.732050807568877, "label": "distributed.deploy.cluster.Cluster.scale", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.cluster.Cluster.scale"}, {"id": 9, "val": 9.0, "label": "distributed.deploy.spec.SpecCluster.new_worker_spec", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec"}, {"id": 10, "val": 12.0, "label": "distributed", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed"}, {"id": 11, "val": 10.0, "label": "distributed.utils.clean_dashboard_address", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.utils.clean_dashboard_address"}, {"id": 12, "val": 10.64575131106459, "label": "distributed.deploy.cluster", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.cluster"}, {"id": 13, "val": 9.0, "label": "distributed.nanny.Nanny", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.nanny.Nanny"}], "links": [{"source": 12, "target": 8, "id": 101}]};

(function() {

  var pages = d3.nest()
      .key(function(d) { return d.mod; })
      .entries(canvas_graph.nodes)
      .sort(function(a, b) { return b.values.length - a.values.length; });

  var c = color.domain(pages.map(function(d) { return d.key; }));

    

  canvas_simulation
      .nodes(canvas_graph.nodes)
      .on("tick", ticked);

  canvas_simulation.force("link")
      .links(canvas_graph.links);

  d3.select(canvas)
      .on("mousemove", mousemoved)
      .call(d3.drag()
          .container(canvas)
          .subject(dragsubject)
          .on("start", dragstarted)
          .on("drag", dragged)
          .on("end", dragended));

  function ticked() {
    context.clearRect(0, 0, width, height);
    context.save();
    context.translate(width / 2, height / 2);

    context.beginPath();
    canvas_graph.links.forEach(drawLink);
    context.strokeStyle = "#aaa";
    context.stroke();
    var margin = 10; 
    
    pages.forEach(function(page) {
      context.beginPath();
      page.values.forEach(drawNode);
      context.fillStyle = color(page.key);
      context.fill();
    });

    context.restore();

  }

  function dragsubject() {
    return canvas_simulation.find(d3.event.x - width / 2, d3.event.y - height / 2, searchRadius);
  }

  function mousemoved() {
    var a = this.parentNode, m = d3.mouse(this), d = canvas_simulation.find(m[0] - width / 2, m[1] - height / 2, searchRadius);
    if (!d) return a.removeAttribute("href"), a.removeAttribute("title");
    //a.setAttribute("href", "http://bl.ocks.org/" + (d.user ? d.user + "/" : "") + d.id);
    a.setAttribute("title", d.label );
  }
})();

function dragstarted() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0.3).restart();
  d3.event.subject.fx = d3.event.subject.x;
  d3.event.subject.fy = d3.event.subject.y;
}

function dragged() {
  d3.event.subject.fx = d3.event.x;
  d3.event.subject.fy = d3.event.y;
}

function dragended() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0);
  d3.event.subject.fx = null;
  d3.event.subject.fy = null;
}

function drawLink(d) {
  context.moveTo(d.source.x, d.source.y);
  context.lineTo(d.target.x, d.target.y);
   //context.moveTo(d.x + 3, d.y);
  //context.arc((d.target.x*9+d.source.x)/10, (d.target.y*9+d.source.y)/10, 2, 0, 2 * Math.PI);
}

function drawNode(d) {
  context.moveTo(d.x + 5, d.y);
  context.arc(d.x, d.y, d.val, 0, 2 * Math.PI);
}

</script>
<script type="text/javascript">
    var colors = d3.scaleOrdinal(d3.schemeCategory10);

    var svg = d3.select("svg");
    var width = svg.attr("width");
    var height = svg.attr("height");
    var node;
    var link;

    // syle for arrow head in the svg...
    svg.append('defs').append('marker')
        .attrs({'id':'arrowhead',
            'viewBox':'-0 -5 10 10',
            'refX':13,
            'refY':0,
            'orient':'auto',
            'markerWidth':13,
            'markerHeight':13,
            'xoverflow':'visible'})
        .append('svg:path')
        .attr('d', 'M 0,-5 L 10 ,0 L 0,5')
        .attr('fill', '#999')
        .style('stroke','none');


    var svg_simulation = d3.forceSimulation()
        .force("charge", d3.forceManyBody().strength(-100))
        .force("link", d3.forceLink().distance(80).strength(0.01).iterations(10).id(function(d) { return d.id; }))
        .force("x", d3.forceX(width/2).strength(0.04))
        .force("y", d3.forceY(height/2).strength(0.06));





    var svg_graph = {"nodes": [{"id": 1, "val": 10.23606797749979, "label": "distributed.worker", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.worker"}, {"id": 3, "val": 15.416198487095663, "label": "dask", "mod": "dask", "url": "/p/dask/2021.10.0/api/dask"}, {"id": 4, "val": 9.414213562373096, "label": "distributed.comm.ws", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.comm.ws"}, {"id": 5, "val": 10.0, "label": "distributed.deploy.ssh.Worker", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker"}, {"id": 6, "val": 9.414213562373096, "label": "distributed.client.Client.nthreads", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.client.Client.nthreads"}, {"id": 7, "val": 10.0, "label": "distributed.scheduler", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.scheduler"}, {"id": 8, "val": 9.732050807568877, "label": "distributed.deploy.cluster.Cluster.scale", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.cluster.Cluster.scale"}, {"id": 9, "val": 9.0, "label": "distributed.deploy.spec.SpecCluster.new_worker_spec", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec"}, {"id": 10, "val": 12.0, "label": "distributed", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed"}, {"id": 11, "val": 10.0, "label": "distributed.utils.clean_dashboard_address", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.utils.clean_dashboard_address"}, {"id": 12, "val": 10.64575131106459, "label": "distributed.deploy.cluster", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.deploy.cluster"}, {"id": 13, "val": 9.0, "label": "distributed.nanny.Nanny", "mod": "distributed", "url": "/p/distributed/2021.10.0/api/distributed.nanny.Nanny"}], "links": [{"source": 12, "target": 8, "id": 101}]};
    (function (error, graph) {
            if (error) throw error;
        graph.nodes.forEach(function(d) { d.x = width*Math.random(); d.y = height*Math.random()});
        update(graph.links, graph.nodes);
        })(null, svg_graph);

    var edgelabels;

    function update(links, nodes) {
        link = svg.selectAll(".link")
            .data(links)
            .enter()
            .append("line")
            .attr("class", "link")
            .attr('marker-end','url(#arrowhead)');

        //link.append("title")
        //    .text(function (d) {return d.type;});

        edgepaths = svg.selectAll(".edgepath")
            .data(links)
            .enter()
            .append('path')
            .attrs({
                'class': 'edgepath',
                'fill-opacity': 0,
                'stroke-opacity': 0,
                'id': function (d, i) {return 'edgepath' + i}
            })
            .style("pointer-events", "none");

        edgelabels = svg.selectAll(".edgelabel")
            .data(links)
            .enter()
            .append('text')
            .style("pointer-events", "none")
            .attrs({
                'class': 'edgelabel',
                'id': function (d, i) {return 'edgelabel' + i},
                'font-size': 10,
                'fill': '#aaa'
            });

        edgelabels.append('textPath')
            .attr('xlink:href', function (d, i) {return '#edgepath' + i})
            .style("text-anchor", "middle")
            .style("pointer-events", "none")
            .attr("startOffset", "50%")
            .text(function (d) {return d.type});

        node = svg.selectAll(".node")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended)
            );

        node.append("a")
                .attr("xlink:href", function(node){return node.url})
            .append("circle")
                .attr("r", function(node){return node.val})
                .style("fill", function (d, i) {return colors(d.mod);})
                .style("stroke", "#FFF")

        node.append("title")
            .text(function (d) {return d.label;});

        node.append("text")
                //.attr("dx", function(node){return node.val+1})
                .attr("dy", +10)
                .attr("opacity", "0.5")
            .text(function (d) {arr = d.label.split('.'); return arr[arr.length-1]});

        svg_simulation
            .nodes(nodes)
            .on("tick", ticked);

        svg_simulation.force("link")
                .links(links)

    }

    function ticked() {
        link
            .attr("x1", function (d) {return d.source.x;})
            .attr("y1", function (d) {return d.source.y;})
            .attr("x2", function (d) {return d.target.x;})
            .attr("y2", function (d) {return d.target.y;});

        node
            .attr("transform", function (d) {return "translate(" + d.x + ", " + d.y + ")";});

        edgepaths.attr('d', function (d) {
            return 'M ' + d.source.x + ' ' + d.source.y + ' L ' + d.target.x + ' ' + d.target.y;
        });

        edgelabels.attr('transform', function (d) {
            if (d.target.x < d.source.x) {
                var bbox = this.getBBox();

                rx = bbox.x + bbox.width / 2;
                ry = bbox.y + bbox.height / 2;
                return 'rotate(180 ' + rx + ' ' + ry + ')';
            }
            else {
                return 'rotate(0)';
            }
        });
    }

    function dragstarted(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0.3).restart()
        d.fx = d.x;
        d.fy = d.y;
    }

    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }

    function dragended(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
    }

</script>




</div>
</body>
</html>