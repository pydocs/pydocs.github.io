<!doctypehtml><html lang=en><meta charset=UTF-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Document</title><link href=https://fonts.xz.style/serve/inter.css rel=stylesheet><link crossorigin=anonymous href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css rel=stylesheet><script type=text/x-mathjax-config>
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script><script async src=https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js></script><link href=/papyri.css rel=stylesheet><style>header > brand, header>:first-child {
        border-right: 1px solid #ccc;
        border-left: 1px solid #ccc;
        padding: 16px;
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
        display: inline-block; 
        width: 167px;
    }
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */</style></head><body class=tex2jax_ignore><header><brand><i class="fab fa-python"></i><a href=/>Home</a></brand><nav>/ <a href=/>p</a>  /  <div class=dropdown><a href=distributed>distributed</a> /  <div class=dropdown-content><a href=/p/IPython/8.2.0.dev/api/IPython.html>IPython</a><a href=/p/astropy/5.0/api/astropy.html>astropy</a><a href=/p/dask/2021.10.0/api/dask.html>dask</a><a href=/p/distributed/2021.10.0/api/distributed.html>distributed</a><a href=/p/matplotlib/3.5.1/api/matplotlib.html>matplotlib</a><a href=/p/networkx/2.7.2rc1.dev0/api/networkx.html>networkx</a><a href=/p/numpy/1.22.3/api/numpy.html>numpy</a><a href=/p/pandas/1.4.1/api/pandas.html>pandas</a><a href=/p/papyri/0.0.8/api/papyri.html>papyri</a><a href=/p/scipy/1.8.0/api/scipy.html>scipy</a><a href=/p/skimage/0.17.2/api/skimage.html>skimage</a></div></div><div class=dropdown><a href=/p/distributed/2021.10.0/api/distributed.html>2021.10.0</a> /  <div class=dropdown-content><a href=/p/distributed/2021.10.0/api/distributed.html>2021.10.0</a></div></div><div class=dropdown><a href=/p/distributed/2021.10.0/api/distributed.html>api</a> /  <div class=dropdown-content><a href=/p/distributed/2021.10.0/api/distributed.html>API</a><a href=/p/distributed/2021.10.0/gallery>Gallery</a><a href=/p/distributed/2021.10.0/examples>Examples</a></div></div><div class=dropdown><a class=dropbtn href=distributed.html>distributed</a>.</div><div class=dropdown><a class=dropbtn href=distributed.deploy.html>deploy</a>. <div class=dropdown-content><a href=/p/distributed/2021.10.0/api/distributed._concurrent_futures_thread.html>_concurrent_futures_thread</a><a href=/p/distributed/2021.10.0/api/distributed._version.html>_version</a><a href=/p/distributed/2021.10.0/api/distributed.active_memory_manager.html>active_memory_manager</a><a href=/p/distributed/2021.10.0/api/distributed.actor.html>actor</a><a href=/p/distributed/2021.10.0/api/distributed.batched.html>batched</a><a href=/p/distributed/2021.10.0/api/distributed.cfexecutor.html>cfexecutor</a><a href=/p/distributed/2021.10.0/api/distributed.client.html>client</a><a href=/p/distributed/2021.10.0/api/distributed.comm.html>comm</a><a href=/p/distributed/2021.10.0/api/distributed.compatibility.html>compatibility</a><a href=/p/distributed/2021.10.0/api/distributed.core.html>core</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.html>deploy</a><a href=/p/distributed/2021.10.0/api/distributed.diagnostics.html>diagnostics</a><a href=/p/distributed/2021.10.0/api/distributed.diskutils.html>diskutils</a><a href=/p/distributed/2021.10.0/api/distributed.event.html>event</a><a href=/p/distributed/2021.10.0/api/distributed.http.html>http</a><a href=/p/distributed/2021.10.0/api/distributed.lock.html>lock</a><a href=/p/distributed/2021.10.0/api/distributed.locket.html>locket</a><a href=/p/distributed/2021.10.0/api/distributed.metrics.html>metrics</a><a href=/p/distributed/2021.10.0/api/distributed.multi_lock.html>multi_lock</a><a href=/p/distributed/2021.10.0/api/distributed.nanny.html>nanny</a><a href=/p/distributed/2021.10.0/api/distributed.node.html>node</a><a href=/p/distributed/2021.10.0/api/distributed.objects.html>objects</a><a href=/p/distributed/2021.10.0/api/distributed.preloading.html>preloading</a><a href=/p/distributed/2021.10.0/api/distributed.process.html>process</a><a href=/p/distributed/2021.10.0/api/distributed.proctitle.html>proctitle</a><a href=/p/distributed/2021.10.0/api/distributed.profile.html>profile</a><a href=/p/distributed/2021.10.0/api/distributed.protocol.html>protocol</a><a href=/p/distributed/2021.10.0/api/distributed.publish.html>publish</a><a href=/p/distributed/2021.10.0/api/distributed.pubsub.html>pubsub</a><a href=/p/distributed/2021.10.0/api/distributed.queues.html>queues</a><a href=/p/distributed/2021.10.0/api/distributed.recreate_tasks.html>recreate_tasks</a><a href=/p/distributed/2021.10.0/api/distributed.scheduler.html>scheduler</a><a href=/p/distributed/2021.10.0/api/distributed.security.html>security</a><a href=/p/distributed/2021.10.0/api/distributed.semaphore.html>semaphore</a><a href=/p/distributed/2021.10.0/api/distributed.sizeof.html>sizeof</a><a href=/p/distributed/2021.10.0/api/distributed.stealing.html>stealing</a><a href=/p/distributed/2021.10.0/api/distributed.system.html>system</a><a href=/p/distributed/2021.10.0/api/distributed.system_monitor.html>system_monitor</a><a href=/p/distributed/2021.10.0/api/distributed.threadpoolexecutor.html>threadpoolexecutor</a><a href=/p/distributed/2021.10.0/api/distributed.utils.html>utils</a><a href=/p/distributed/2021.10.0/api/distributed.utils_comm.html>utils_comm</a><a href=/p/distributed/2021.10.0/api/distributed.utils_perf.html>utils_perf</a><a href=/p/distributed/2021.10.0/api/distributed.variable.html>variable</a><a href=/p/distributed/2021.10.0/api/distributed.versions.html>versions</a><a href=/p/distributed/2021.10.0/api/distributed.widgets.html>widgets</a><a href=/p/distributed/2021.10.0/api/distributed.worker.html>worker</a><a href=/p/?/?/api/distributed.worker_client.html>worker_client</a></div></div><div class=dropdown><a class=dropbtn href=distributed.deploy.spec.html>spec</a>. <div class=dropdown-content><a href=/p/distributed/2021.10.0/api/distributed.deploy.adaptive.html>adaptive</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.adaptive_core.html>adaptive_core</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.local.html>local</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.html>spec</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.ssh.html>ssh</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.utils.html>utils</a></div></div><div class=dropdown><a class=dropbtn href=distributed.deploy.spec.SpecCluster.html>SpecCluster</a>. <div class=dropdown-content><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.NoOpAwaitable.html>NoOpAwaitable</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.ProcessInterface.html>ProcessInterface</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html>SpecCluster</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.close_clusters.html>close_clusters</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.run_spec.html>run_spec</a></div></div><div class=dropdown><a class=dropbtn>+</a><div class=dropdown-content><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.__aenter__.html>__aenter__</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.__await__.html>__await__</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.__exit__.html>__exit__</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.__init__.html>__init__</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._close.html>_close</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._correct_state.html>_correct_state</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._correct_state_internal.html>_correct_state_internal</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._memory_per_worker.html>_memory_per_worker</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._new_worker_name.html>_new_worker_name</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._start.html>_start</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._threads_per_worker.html>_threads_per_worker</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster._update_worker_status.html>_update_worker_status</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.adapt.html>adapt</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html>new_worker_spec</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.scale.html>scale</a><a href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.scale_down.html>scale_down</a></div></div></nav></header><div class=container><div class=sidenav><img src=/p/distributed/2021.10.0/img/logo.png><a href=#>distributed</a><a href=#>2021.10.0</a><hr><hr><a href=#section-Parameters>Parameters</a><a href=#section-backrefs>BackRef</a></div><p>The SpecCluster class expects a full specification of the Scheduler and Workers to use. It removes any handling of user inputs (like threads vs processes, number of cores, and so on) and any handling of cluster resource managers (like pods, jobs, and so on). Instead, it expects this information to be passed in scheduler and worker specifications. This class does handle all of the logic around asynchronously cleanly setting up and tearing things down at the right times. Hopefully it can form a base for other more user-centric classes.</p><h3 id=section-Parameters>Parameters</h3><dl><dt><a id="workers: dict">workers: dict</a> :</dt><dd><p>A dictionary mapping names to worker classes and their specifications See example below</p></dd><dt><a id="scheduler: dict, optional">scheduler: dict, optional</a> :</dt><dd><p>A similar mapping for a scheduler</p></dd><dt><a id="worker: dict">worker: dict</a> :</dt><dd><p>A specification of a single worker. This is used for any new workers that are created.</p></dd><dt><a id="asynchronous: bool">asynchronous: bool</a> :</dt><dd><p>If this is intended to be used directly within an event loop with async/await</p></dd><dt><a id="silence_logs: bool">silence_logs: bool</a> :</dt><dd><p>Whether or not we should silence logging when setting up the cluster.</p></dd><dt><a id="name: str, optional">name: str, optional</a> :</dt><dd><p>A name to use when printing out the cluster, defaults to type name</p></dd></dl><p>Cluster that requires a full specification of workers</p><h3 id=section-Examples>Examples</h3><p>To create a SpecCluster you specify how to set up a Scheduler and Workers</p><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><span class=kn>from</span><span> </span><a class="foo nn"href=/p/dask/2021.10.0/api/dask.html>dask</a><span class=nn>.</span><a class="foo nn"href=/p/distributed/2021.10.0/api/distributed.html>distributed</a><span> </span><span class=kn>import</span><span> </span><span>Scheduler</span><span>,</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker.html>Worker</a><span>,</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.nanny.Nanny.html>Nanny</a><br><span class=nsl>... </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.scheduler.html>scheduler</a><span> </span><span class=o>=</span><span> </span><span>{</span><span class=s1>'</span><span class=s1>cls</span><span class=s1>'</span><span>:</span><span> </span><span>Scheduler</span><span>,</span><span> </span><span class=s1>'</span><span class=s1>options</span><span class=s1>'</span><span>:</span><span> </span><span>{</span><span class=s2>"</span><a class="foo s2"href=/p/distributed/2021.10.0/api/distributed.utils.clean_dashboard_address.html>dashboard_address</a><span class=s2>"</span><span>:</span><span> </span><span class=s1>'</span><span class=s1>:8787</span><span class=s1>'</span><span>}</span><span>}</span><br><span class=nsl>... </span><span>workers</span><span> </span><span class=o>=</span><span> </span><span>{</span><br><span class=nsl>... </span><span>    </span><span class=s1>'</span><span class=s1>my-worker</span><span class=s1>'</span><span>:</span><span> </span><span>{</span><span class=s2>"</span><span class=s2>cls</span><span class=s2>"</span><span>:</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker.html>Worker</a><span>,</span><span> </span><span class=s2>"</span><span class=s2>options</span><span class=s2>"</span><span>:</span><span> </span><span>{</span><span class=s2>"</span><a class="foo s2"href=/p/distributed/2021.10.0/api/distributed.client.Client.nthreads.html>nthreads</a><span class=s2>"</span><span>:</span><span> </span><span class=mi>1</span><span>}</span><span>}</span><span>,</span><br><span class=nsl>... </span><span>    </span><span class=s1>'</span><span class=s1>my-nanny</span><span class=s1>'</span><span>:</span><span> </span><span>{</span><span class=s2>"</span><span class=s2>cls</span><span class=s2>"</span><span>:</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.nanny.Nanny.html>Nanny</a><span>,</span><span> </span><span class=s2>"</span><span class=s2>options</span><span class=s2>"</span><span>:</span><span> </span><span>{</span><span class=s2>"</span><a class="foo s2"href=/p/distributed/2021.10.0/api/distributed.client.Client.nthreads.html>nthreads</a><span class=s2>"</span><span>:</span><span> </span><span class=mi>2</span><span>}</span><span>}</span><span>,</span><br><span class=nsl>... </span><span>}</span><br><span class=nsl>... </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span> </span><span class=o>=</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html>SpecCluster</a><span>(</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.scheduler.html>scheduler</a><span class=o>=</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.scheduler.html>scheduler</a><span>,</span><span> </span><span>workers</span><span class=o>=</span><span>workers</span><span>)</span>
</pre><p>The worker spec is stored as the <code class=verbatim>.worker_spec</code> attribute</p><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span class=o>.</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html>worker_spec</a>
{
   'my-worker': {"cls": Worker, "options": {"nthreads": 1}},
   'my-nanny': {"cls": Nanny, "options": {"nthreads": 2}},
}</pre><p>While the instantiation of this spec is stored in the <code class=verbatim>.workers</code> attribute</p><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span class=o>.</span><span>workers</span>
{
    'my-worker': &LTWorker ...>
    'my-nanny': &LTNanny ...>
}</pre><p>Should the spec change, we can await the cluster or call the <code class=verbatim>._correct_state</code> method to align the actual state to the specified state.</p><p>We can also <code class=verbatim>.scale(...)</code> the cluster, which adds new workers of a given form.</p><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.worker.html>worker</a><span> </span><span class=o>=</span><span> </span><span>{</span><span class=s1>'</span><span class=s1>cls</span><span class=s1>'</span><span>:</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker.html>Worker</a><span>,</span><span> </span><span class=s1>'</span><span class=s1>options</span><span class=s1>'</span><span>:</span><span> </span><span>{</span><span>}</span><span>}</span><br><span class=nsl>... </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span> </span><span class=o>=</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html>SpecCluster</a><span>(</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.scheduler.html>scheduler</a><span class=o>=</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.scheduler.html>scheduler</a><span>,</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.worker.html>worker</a><span class=o>=</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.worker.html>worker</a><span>)</span><br><span class=nsl>... </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span class=o>.</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html>worker_spec</a>
{}</pre><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span class=o>.</span><span>scale</span><span>(</span><span class=mi>3</span><span>)</span><br><span class=nsl>... </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span class=o>.</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html>worker_spec</a>
{
    0: {'cls': Worker, 'options': {}},
    1: {'cls': Worker, 'options': {}},
    2: {'cls': Worker, 'options': {}},
}</pre><p>Note that above we are using the standard <code class=verbatim>Worker</code> and <code class=verbatim>Nanny</code> classes, however in practice other classes could be used that handle resource management like <code class=verbatim>KubernetesPod</code> or <code class=verbatim>SLURMJob</code> . The spec does not need to conform to the expectations of the standard Dask Worker class. It just needs to be called with the provided options, support <code class=verbatim>__await__</code> and <code class=verbatim>close</code> methods and the <code class=verbatim>worker_address</code> property..</p><p>Also note that uniformity of the specification is not required. Other API could be added externally (in subclasses) that adds workers of different specifications into the same dictionary.</p><p>If a single entry in the spec will generate multiple dask workers then please provide a <code>:None:None:`"group"`</code> element to the spec, that includes the suffixes that will be added to each name (this should be handled by your worker class).</p><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span class=o>.</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec.html>worker_spec</a>
{
    0: {"cls": MultiWorker, "options": {"processes": 3}, "group": ["-0", "-1", -2"]}
    1: {"cls": MultiWorker, "options": {"processes": 2}, "group": ["-0", "-1"]}
}</pre><p>These suffixes should correspond to the names used by the workers when they deploy.</p><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><span>[</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.comm.ws.html>ws</a><span class=o>.</span><span>name</span><span> </span><span class=k>for</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.comm.ws.html>ws</a><span> </span><span class=ow>in</span><span> </span><a class=foo href=/p/distributed/2021.10.0/api/distributed.deploy.cluster.html>cluster</a><span class=o>.</span><a class=foo href=/p/distributed/2021.10.0/api/distributed.scheduler.html>scheduler</a><span class=o>.</span><span>workers</span><span class=o>.</span><span>values</span><span>(</span><span>)</span><span>]</span>
["0-0", "0-1", "0-2", "1-0", "1-1"]</pre> See : <h3 id=section-backrefs>Back References</h3><p>The following pages refer to to this document either explicitly or contain code examples using this.</p><code><a class=exists href=/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.html link>distributed.deploy.spec.SpecCluster</a></code><h3>Local connectivity graph</h3><p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p><p>Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows or text (beyond on hover)</p><canvas class=graph height=500 width=800></canvas><p>SVG is more flexible but power hungry; and does not scale well to 50 + nodes.</p><svg class=graph height=500 width=600></svg><p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted (or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library they belong to, and scaled with the number of references pointing them</p><hr> File: /distributed/deploy/spec.py#119 <br> type: &LTclass 'type'> <br> Commit: <br><script src=https://d3js.org/d3.v4.min.js></script><script src=https://d3js.org/d3-selection-multi.v1.js></script><style>.node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };</style><script>window._data_graph={nodes:[{id:1,val:12,label:"distributed",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed"},{id:2,val:10,label:"distributed.scheduler",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.scheduler"},{id:3,val:9.732050807568877,label:"distributed.utils.clean_dashboard_address",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.utils.clean_dashboard_address"},{id:4,val:10,label:"distributed.deploy.ssh.Worker",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.deploy.ssh.Worker"},{id:5,val:9,label:"distributed.nanny.Nanny",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.nanny.Nanny"},{id:7,val:9.414213562373096,label:"distributed.comm.ws",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.comm.ws"},{id:8,val:10.64575131106459,label:"distributed.deploy.cluster",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.deploy.cluster"},{id:9,val:10.23606797749979,label:"distributed.worker",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.worker"},{id:10,val:15.416198487095663,label:"dask",mod:"dask",url:"/p/dask/2021.10.0/api/dask"},{id:11,val:9.414213562373096,label:"distributed.client.Client.nthreads",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.client.Client.nthreads"},{id:12,val:9,label:"distributed.deploy.spec.SpecCluster.new_worker_spec",mod:"distributed",url:"/p/distributed/2021.10.0/api/distributed.deploy.spec.SpecCluster.new_worker_spec"}],links:[]};</script><script src=/graph_canvas.js></script><script src=/graph_svg.js></script></div></body></html>