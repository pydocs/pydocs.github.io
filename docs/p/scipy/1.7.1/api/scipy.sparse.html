<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
<style>
body{
    font-family: 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    color: #606c76;
    font-weight: 350;
    line-height: 1.6;
    max-width: 1000px;
    margin-left:0;

}
          .graph{border: 1px gray solid;}
          .foo:hover{text-decoration:underline}
          .foo{font-weight:bold; color:#4e4e4e}
          .exists{font-weight:bold; color:#4e4e4e;text-decoration:none;}
          .local{font-weight:bold; color:#1e6f04;text-decoration:none;}
          .exists:hover{text-decoration:underline;color:black}
          .missing,.missing:hover{color:darkred;text-decoration:none;font-weight:normal}
          .signature {font-size:100%; margin-bottom: 2rem; display: block; border:none; background-color: #FFFFFF;
              font-weight:600;}
          h1, h2, h3 {color: #4e4e4e; font-weight:400;
              margin-bottom: 1rem;border-bottom: 1px solid var(--nc-bg-3);
          }
          pre{border-radius:0;
              padding:0.6rem;
          border-left: 3px solid #AAA}
          dt {font-weight: 400;}

          header{
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              
              padding-top:0rem;
              padding-bottom:0rem;
              z-index: 2;
              padding-left: 0;
              position: fixed;
              top: 30px;
              left:0; 
              width: 100%;
              height: 42px;
              backdrop-filter: blur(5px);
              background-color: rgba(255, 255, 255, .15);
          }
          dd::before {
            content: '';
          }
          header > brand, header>:first-child {
              border-right: 1px solid #ccc;
              border-left: 1px solid #ccc;
              padding: 16px;
              padding-top: 0.5rem;
              padding-bottom: 0.5rem;
              display: inline-block; 
              width: 167px;
              

          }
          brand > a {color:#606c76}
          brand > i {
              padding-right: 0.5rem;

        }
          nav{display:inline-block;
              padding: 10px;
              padding-left: 1rem;

          }

          dd {
              margin-left: 1rem;
              border-left:  solid #ddd;
              padding-left: 1rem;
          }
          summary > h2 { display: inline }

          .sidenav {
                height: 100%; /* Full-height: remove this if you want "auto" height */
                width: 200px; /* Set the width of the sidebar */
                position: fixed; /* Fixed Sidebar (stay in place on scroll) */
                z-index: 1; /* Stay on top */
                top: 0; /* Stay at the top */
                left: 0;
                background-color: var(--nc-bg-1);; /* Black */
                border-right: thin solid #ccc;
                overflow-x: hidden; /* Disable horizontal scroll */
                padding-top: 3rem;
 
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                
          }

          .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            color: #818181;
            display: block;
          }
          .sidenav img {
              width: 160px;
              padding-left:20px;
              padding-right:20px;
              border-bottom: solid thin #DDD; 
              padding-bottom: .5rem;
              max-width: 100%;
          }
          .sidenav i {
              font-size: 100;
              padding-left: 3.5rem;
              padding-right: 3.5rem;
              padding-bottom: .5rem;
              border-bottom: solid thin #DDD; 

          }
          .container {
              padding-left: 210px;
              
              padding-top: 30px;

          }

          ::selection {
	/* Set background color for selected text */
                background: #59b4fd;
                color: var(--nc-ac-tx);
          }

          img {max-width: 40%;}

          pre.highlight.execed, .admonition {
            border-left: 3px solid #0070f3;
          }
          .admonition {
            padding-left: 1em;
          }
          .admonition > div {
            background-color: rgba(0, 123, 255, 0.1);
            position: relative;
            margin: 0 -1rem;
            padding: 0.4rem 0.1rem 0.4rem 1.5rem;
            font-weight: bold;
            text-transform: capitalize;
        }
          .note {color: #7d77d2}
          .warning {color: #af7b1a}
          .error {color: #f44336}
          pre.highlight.compiled {
            border-left: 3px solid #7d77d2;
          }
          pre.highlight.syntax_error, pre.highlight.exception_in_exec {
            border-left: 3px solid #f44336;
          }

        /* Dropdown Button */
/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
  margin-left: -4px;
}

nav  a {
    color: #606c76;
    text-decoration: none;

}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #ddd;}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {display: block;
    max-height: 80vh;
    overflow: scroll;}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {}


pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */

.nsl {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}


.block_directive{

    border-left: thin solid var(--nc-lk-1);
    padding-bottom: 8px;
    padding-left: 12px;
}

.block_directive.head{

    border: thin solid var(--nc-lk-1);
}


.block_directive > p{
    margin-left: 2em;
    margin-top: 1em;
}
.head {
    font-family: monospace;
    color: var(--nc-lk-1);
}
</style>
</head>
<body class="tex2jax_ignore">
    <header>
            <brand><i class="fab fa-python"></i><a href='/'>Home</a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=scipy>scipy</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/IPython/8.0.0.dev/api/IPython.html">IPython</a>
                            <a href="/p/dask/2021.10.0/api/dask.html">dask</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.html">distributed</a>
                            <a href="/p/matplotlib/3.5.0/api/matplotlib.html">matplotlib</a>
                            <a href="/p/numpy/1.21.3/api/numpy.html">numpy</a>
                            <a href="/p/pandas/1.3.4/api/pandas.html">pandas</a>
                            <a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
                            <a href="/p/scipy/1.7.1/api/scipy.html">scipy</a>
                            <a href="/p/skimage/0.18.3/api/skimage.html">skimage</a>
                            <a href="/p/xarray/0.17.0/api/xarray.html">xarray</a>
                            
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/scipy/1.7.1/api/scipy.html'>1.7.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/scipy/1.7.1/api/scipy.html">1.7.1</a>
                            
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/scipy/1.7.1/api/scipy.html'>api</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/scipy/1.7.1/api/scipy.html">API</a>
                        <a href="/p/scipy/1.7.1/gallery">Gallery</a>
                     </div>
                </div>

            
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.html'>scipy</a>.
                        
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.sparse.html'>sparse</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/?/?/api/scipy._lib.html">_lib</a>
                            <a href="/p/scipy/1.7.1/api/scipy.fft.html">fft</a>
                            <a href="/p/scipy/1.7.1/api/scipy.integrate.html">integrate</a>
                            <a href="/p/scipy/1.7.1/api/scipy.interpolate.html">interpolate</a>
                            <a href="/p/?/?/api/scipy.linalg.html">linalg</a>
                            <a href="/p/?/?/api/scipy.ndimage.html">ndimage</a>
                            <a href="/p/scipy/1.7.1/api/scipy.optimize.html">optimize</a>
                            <a href="/p/scipy/1.7.1/api/scipy.signal.html">signal</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.html">sparse</a>
                            <a href="/p/scipy/1.7.1/api/scipy.spatial.html">spatial</a>
                            <a href="/p/scipy/1.7.1/api/scipy.special.html">special</a>
                            <a href="/p/?/?/api/scipy.stats.html">stats</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" >+</a>
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/scipy/1.7.1/api/scipy.sparse._csparsetools.html">_csparsetools</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse._index.html">_index</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse._matrix_io.html">_matrix_io</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse._sparsetools.html">_sparsetools</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.base.html">base</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.bsr.html">bsr</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.compressed.html">compressed</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.construct.html">construct</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.coo.html">coo</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.csc.html">csc</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.csgraph.html">csgraph</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.csr.html">csr</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.data.html">data</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.dia.html">dia</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.dok.html">dok</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.extract.html">extract</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.lil.html">lil</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.linalg.html">linalg</a>
                            <a href="/p/scipy/1.7.1/api/scipy.sparse.sputils.html">sputils</a>
                            
                            </div>
                        
                    </div>
                </nav>
    </header>
<div class='container'>
    <div class="sidenav">
    
        <img src="/p/scipy/1.7.1/img/logo.png"/>
    
    <a href="#">Library: scipy</a>
    <a href="#">Version: 1.7.1</a>
    <a href="#">Authors:</a>
    <a href="#">PyPI:</a>
    <a href="#">Source</a>
    <a href="#">Homepage</a>
    <a href="#">Fundings</a>
    <a href="#">Stars</a>
    <a href="#">Forks</a>
    <a href="#">Related</a>
    <hr/>
    <a>Narrative Docs</a>
    <hr/>
    <a href="#section-backrefs">BackRef</a>
    

    </div>

    
















    
    
        <!-- rendering Summary -->
        
           
               
        <p>To remove in the future –– scipy.sparse</p>

    
           
       
    


    
    
        <!-- rendering Extended Summary -->
        
           
       
    


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
    
        <!-- rendering Notes -->
        
           
       
    


    
    
       
   


    
        <h1>Sparse matrices (:mod:`scipy.sparse`)</h1>
    


           
               
           <div class='block_directive'>
    <div class='head'>.. currentmodule:: []</div>
    
        <p>scipy.sparse </p>

    
</div>

        
           
               
        <p>SciPy 2-D sparse matrix package for numeric data.</p>

    
           
       

    
        <h1>Contents</h1>
    


           
       

    
        <h1>Sparse matrix classes</h1>
    


           
               
           <div class='block_directive'>
    <div class='head'>.. autosummary:: [&#39;:toctree: generated/&#39;]</div>
    
        <p>bsr_matrix - Block Sparse Row matrix coo_matrix - A sparse matrix in COOrdinate format csc_matrix - Compressed Sparse Column matrix csr_matrix - Compressed Sparse Row matrix dia_matrix - Sparse matrix with DIAgonal storage dok_matrix - Dictionary Of Keys based sparse matrix lil_matrix - Row - based list of lists sparse matrix spmatrix - Sparse matrix base class </p>

    
</div>

        
           
       

    
        <h1>Functions</h1>
    


           
               
        <p>Building sparse matrices:</p>

    
           
               
           <div class='block_directive'>
    <div class='head'>.. autosummary:: [&#39;:toctree: generated/&#39;]</div>
    
        <p>eye - Sparse MxN matrix whose k - th diagonal is all ones identity - Identity matrix in sparse format kron - kronecker product of two sparse matrices kronsum - kronecker sum of sparse matrices diags - Return a sparse matrix from diagonals spdiags - Return a sparse matrix from diagonals block_diag - Build a block diagonal sparse matrix tril - Lower triangular portion of a matrix in sparse format triu - Upper triangular portion of a matrix in sparse format bmat - Build a sparse matrix from sparse sub - blocks hstack - Stack sparse matrices horizontally ( column wise) vstack - Stack sparse matrices vertically ( row wise) rand - Random values in a given shape random - Random values in a given shape </p>

    
</div>

        
           
               
        <p>Save and load sparse matrices:</p>

    
           
               
           <div class='block_directive'>
    <div class='head'>.. autosummary:: [&#39;:toctree: generated/&#39;]</div>
    
        <p>save_npz - Save a sparse matrix to a file using ``.npz`` format. load_npz - Load a sparse matrix from a file using ``.npz`` format. </p>

    
</div>

        
           
               
        <p>Sparse matrix tools:</p>

    
           
               
           <div class='block_directive'>
    <div class='head'>.. autosummary:: [&#39;:toctree: generated/&#39;]</div>
    
        <p>find </p>

    
</div>

        
           
               
        <p>Identifying sparse matrices:</p>

    
           
               
           <div class='block_directive'>
    <div class='head'>.. autosummary:: [&#39;:toctree: generated/&#39;]</div>
    
        <p>issparse isspmatrix isspmatrix_csc isspmatrix_csr isspmatrix_bsr isspmatrix_lil isspmatrix_dok isspmatrix_coo isspmatrix_dia </p>

    
</div>

        
           
       

    
        <h1>Submodules</h1>
    


           
               
           <div class='block_directive'>
    <div class='head'>.. autosummary:: []</div>
    
        <p>csgraph - Compressed sparse graph routines linalg - sparse linear algebra routines </p>

    
</div>

        
           
       

    
        <h1>Exceptions</h1>
    


           
               
           <div class='block_directive'>
    <div class='head'>.. autosummary:: [&#39;:toctree: generated/&#39;]</div>
    
        <p>SparseEfficiencyWarning SparseWarning </p>

    
</div>

        
           
       

    
        <h1>Usage information</h1>
    


           
               
        <p>There are seven available sparse matrix types:</p>

    
           
               
            <pre>1. csc_matrix: Compressed Sparse Column format
2. csr_matrix: Compressed Sparse Row format
3. bsr_matrix: Block Sparse Row format
4. lil_matrix: List of Lists format
5. dok_matrix: Dictionary of Keys format
6. coo_matrix: COOrdinate format (aka IJV, triplet format)
7. dia_matrix: DIAgonal format
</pre>

       
           
               
        <p>To construct a matrix efficiently, use either dok_matrix or lil_matrix. The lil_matrix class supports basic slicing and fancy indexing with a similar syntax to NumPy arrays. As illustrated below, the COO format may also be used to efficiently construct matrices. Despite their similarity to NumPy arrays, it is <b>strongly discouraged</b> to use NumPy functions directly on these matrices because NumPy may not properly convert them for computations, leading to unexpected (and incorrect) results. If you do want to apply a NumPy function to these matrices, first check if SciPy has its own implementation for the given sparse matrix class, or <b>convert the
sparse matrix to a NumPy array</b> (e.g., using the <code>:None:None:`toarray()`</code> method of the class) first before applying the method.</p>

    
           
               
        <p>To perform manipulations such as multiplication or inversion, first convert the matrix to either CSC or CSR format. The lil_matrix format is row-based, so conversion to CSR is efficient, whereas conversion to CSC is less so.</p>

    
           
               
        <p>All conversions among the CSR, CSC, and COO formats are efficient, linear-time operations.</p>

    
           
       

    
        <h1>Matrix vector product</h1>
    


           
               
        <p>To do a vector product between a sparse matrix and a vector simply use the matrix <code>:None:None:`dot`</code> method, as described in its docstring:</p>

    
           
               
            <pre>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from scipy.sparse import csr_matrix
&gt;&gt;&gt; A = csr_matrix([[1, 2, 0], [0, 0, 3], [4, 0, 5]])
&gt;&gt;&gt; v = np.array([1, 0, -1])
&gt;&gt;&gt; A.dot(v)
array([ 1, -3, -1], dtype=int64)</pre>
       
           
               
            <div class='admonition'>
    <div>warning</div>
    
        
        <p>therefore using it will result on unexpected results or errors. The corresponding dense array should be obtained first instead : &gt;&gt;&gt; np.dot ( A.toarray ( ), v) array ( [ 1, - 3, - 1], dtype=int64) but then all the performance advantages would be lost. </p>

    
    
</div>

       
           
               
        <p>The CSR format is specially suitable for fast matrix vector products.</p>

    
           
       

    
        <h1>Example 1</h1>
    


           
               
        <p>Construct a 1000x1000 lil_matrix and add some values to it:</p>

    
           
               
            <pre>&gt;&gt;&gt; from scipy.sparse import lil_matrix
&gt;&gt;&gt; from scipy.sparse.linalg import spsolve
&gt;&gt;&gt; from numpy.linalg import solve, norm
&gt;&gt;&gt; from numpy.random import rand</pre>
       
           
               
            <pre>&gt;&gt;&gt; A = lil_matrix((1000, 1000))
&gt;&gt;&gt; A[0, :100] = rand(100)
&gt;&gt;&gt; A[1, 100:200] = A[0, :100]
&gt;&gt;&gt; A.setdiag(rand(1000))</pre>
       
           
               
        <p>Now convert it to CSR format and solve A x = b for x:</p>

    
           
               
            <pre>&gt;&gt;&gt; A = A.tocsr()
&gt;&gt;&gt; b = rand(1000)
&gt;&gt;&gt; x = spsolve(A, b)</pre>
       
           
               
        <p>Convert it to a dense matrix and solve, and check that the result is the same:</p>

    
           
               
            <pre>&gt;&gt;&gt; x_ = solve(A.toarray(), b)</pre>
       
           
               
        <p>Now we can compute norm of the error with:</p>

    
           
               
            <pre>&gt;&gt;&gt; err = norm(x-x_)
&gt;&gt;&gt; err &lt; 1e-10
True</pre>
       
           
               
        <p>It should be small :)</p>

    
           
       

    
        <h1>Example 2</h1>
    


           
               
        <p>Construct a matrix in COO format:</p>

    
           
               
            <pre>&gt;&gt;&gt; from scipy import sparse
&gt;&gt;&gt; from numpy import array
&gt;&gt;&gt; I = array([0,3,1,0])
&gt;&gt;&gt; J = array([0,3,1,2])
&gt;&gt;&gt; V = array([4,5,7,9])
&gt;&gt;&gt; A = sparse.coo_matrix((V,(I,J)),shape=(4,4))</pre>
       
           
               
        <p>Notice that the indices do not need to be sorted.</p>

    
           
               
        <p>Duplicate (i,j) entries are summed when converting to CSR or CSC.</p>

    
           
               
            <pre>&gt;&gt;&gt; I = array([0,0,1,3,1,0,0])
&gt;&gt;&gt; J = array([0,2,1,3,1,0,0])
&gt;&gt;&gt; V = array([1,1,1,1,1,1,1])
&gt;&gt;&gt; B = sparse.coo_matrix((V,(I,J)),shape=(4,4)).tocsr()</pre>
       
           
               
        <p>This is useful for constructing finite-element stiffness and mass matrices.</p>

    
           
       

    
        <h1>Further details</h1>
    


           
               
        <p>CSR column indices are not necessarily sorted. Likewise for CSC row indices. Use the .sorted_indices() and .sort_indices() methods when sorted indices are required (e.g., when passing data to other libraries).</p>

    
           
       


    <h3 id="section-Examples">Examples</h3>
        
         See :
         
     
    


    <h3 id='section-backrefs'>Back References</h3>
    <p>The following pages refer to to this document either explicitly or contain code examples using this.</p>

    
    
        
         <h4>scipy</h4>
         
        <details>
        <summary>81 Elements</summary>
         <dl>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.interpolate.interpolate.RegularGridInterpolator.html" class='exists'>scipy.interpolate.interpolate.RegularGridInterpolator</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse._matrix_io.load_npz.html" class='exists'>scipy.sparse._matrix_io.load_npz</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse._matrix_io.save_npz.html" class='exists'>scipy.sparse._matrix_io.save_npz</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.base.isspmatrix.html" class='exists'>scipy.sparse.base.isspmatrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.base.spmatrix.diagonal.html" class='exists'>scipy.sparse.base.spmatrix.diagonal</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.base.spmatrix.dot.html" class='exists'>scipy.sparse.base.spmatrix.dot</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.base.spmatrix.nonzero.html" class='exists'>scipy.sparse.base.spmatrix.nonzero</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.bsr.bsr_matrix.html" class='exists'>scipy.sparse.bsr.bsr_matrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.bsr.bsr_matrix.diagonal.html" class='exists'>scipy.sparse.bsr.bsr_matrix.diagonal</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.bsr.isspmatrix_bsr.html" class='exists'>scipy.sparse.bsr.isspmatrix_bsr</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.compressed._cs_matrix.diagonal.html" class='exists'>scipy.sparse.compressed._cs_matrix.diagonal</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.block_diag.html" class='exists'>scipy.sparse.construct.block_diag</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.bmat.html" class='exists'>scipy.sparse.construct.bmat</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.diags.html" class='exists'>scipy.sparse.construct.diags</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.eye.html" class='exists'>scipy.sparse.construct.eye</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.hstack.html" class='exists'>scipy.sparse.construct.hstack</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.identity.html" class='exists'>scipy.sparse.construct.identity</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.kron.html" class='exists'>scipy.sparse.construct.kron</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.rand.html" class='exists'>scipy.sparse.construct.rand</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.random.html" class='exists'>scipy.sparse.construct.random</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.spdiags.html" class='exists'>scipy.sparse.construct.spdiags</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.construct.vstack.html" class='exists'>scipy.sparse.construct.vstack</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.coo.coo_matrix.html" class='exists'>scipy.sparse.coo.coo_matrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.coo.coo_matrix.diagonal.html" class='exists'>scipy.sparse.coo.coo_matrix.diagonal</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.coo.coo_matrix.tocsc.html" class='exists'>scipy.sparse.coo.coo_matrix.tocsc</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.coo.coo_matrix.tocsr.html" class='exists'>scipy.sparse.coo.coo_matrix.tocsr</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.coo.isspmatrix_coo.html" class='exists'>scipy.sparse.coo.isspmatrix_coo</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csc.csc_matrix.html" class='exists'>scipy.sparse.csc.csc_matrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csc.csc_matrix.nonzero.html" class='exists'>scipy.sparse.csc.csc_matrix.nonzero</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csc.isspmatrix_csc.html" class='exists'>scipy.sparse.csc.isspmatrix_csc</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._flow.maximum_flow.html" class='exists'>scipy.sparse.csgraph._flow.maximum_flow</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._laplacian.laplacian.html" class='exists'>scipy.sparse.csgraph._laplacian.laplacian</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._matching.maximum_bipartite_matching.html" class='exists'>scipy.sparse.csgraph._matching.maximum_bipartite_matching</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._matching.min_weight_full_bipartite_matching.html" class='exists'>scipy.sparse.csgraph._matching.min_weight_full_bipartite_matching</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._reordering.reverse_cuthill_mckee.html" class='exists'>scipy.sparse.csgraph._reordering.reverse_cuthill_mckee</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._reordering.structural_rank.html" class='exists'>scipy.sparse.csgraph._reordering.structural_rank</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._shortest_path.bellman_ford.html" class='exists'>scipy.sparse.csgraph._shortest_path.bellman_ford</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._shortest_path.dijkstra.html" class='exists'>scipy.sparse.csgraph._shortest_path.dijkstra</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._shortest_path.floyd_warshall.html" class='exists'>scipy.sparse.csgraph._shortest_path.floyd_warshall</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._shortest_path.johnson.html" class='exists'>scipy.sparse.csgraph._shortest_path.johnson</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._shortest_path.shortest_path.html" class='exists'>scipy.sparse.csgraph._shortest_path.shortest_path</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.construct_dist_matrix.html" class='exists'>scipy.sparse.csgraph._tools.construct_dist_matrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.csgraph_from_dense.html" class='exists'>scipy.sparse.csgraph._tools.csgraph_from_dense</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.csgraph_from_masked.html" class='exists'>scipy.sparse.csgraph._tools.csgraph_from_masked</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.csgraph_masked_from_dense.html" class='exists'>scipy.sparse.csgraph._tools.csgraph_masked_from_dense</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.csgraph_to_dense.html" class='exists'>scipy.sparse.csgraph._tools.csgraph_to_dense</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.csgraph_to_masked.html" class='exists'>scipy.sparse.csgraph._tools.csgraph_to_masked</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.reconstruct_path.html" class='exists'>scipy.sparse.csgraph._tools.reconstruct_path</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._traversal.breadth_first_order.html" class='exists'>scipy.sparse.csgraph._traversal.breadth_first_order</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._traversal.connected_components.html" class='exists'>scipy.sparse.csgraph._traversal.connected_components</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csgraph._traversal.depth_first_order.html" class='exists'>scipy.sparse.csgraph._traversal.depth_first_order</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csr.csr_matrix.html" class='exists'>scipy.sparse.csr.csr_matrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.csr.isspmatrix_csr.html" class='exists'>scipy.sparse.csr.isspmatrix_csr</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.dia.dia_matrix.html" class='exists'>scipy.sparse.dia.dia_matrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.dia.dia_matrix.diagonal.html" class='exists'>scipy.sparse.dia.dia_matrix.diagonal</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.dia.isspmatrix_dia.html" class='exists'>scipy.sparse.dia.isspmatrix_dia</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.dok.dok_matrix.html" class='exists'>scipy.sparse.dok.dok_matrix</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.dok.isspmatrix_dok.html" class='exists'>scipy.sparse.dok.isspmatrix_dok</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.extract.find.html" class='exists'>scipy.sparse.extract.find</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.extract.tril.html" class='exists'>scipy.sparse.extract.tril</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.extract.triu.html" class='exists'>scipy.sparse.extract.triu</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.lil.isspmatrix_lil.html" class='exists'>scipy.sparse.lil.isspmatrix_lil</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg._expm_multiply.expm_multiply.html" class='exists'>scipy.sparse.linalg._expm_multiply.expm_multiply</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg._norm.norm.html" class='exists'>scipy.sparse.linalg._norm.norm</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg._onenormest.onenormest.html" class='exists'>scipy.sparse.linalg._onenormest.onenormest</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.dsolve.linsolve.factorized.html" class='exists'>scipy.sparse.linalg.dsolve.linsolve.factorized</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.dsolve.linsolve.spilu.html" class='exists'>scipy.sparse.linalg.dsolve.linsolve.spilu</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.dsolve.linsolve.splu.html" class='exists'>scipy.sparse.linalg.dsolve.linsolve.splu</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.dsolve.linsolve.spsolve.html" class='exists'>scipy.sparse.linalg.dsolve.linsolve.spsolve</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.dsolve.linsolve.spsolve_triangular.html" class='exists'>scipy.sparse.linalg.dsolve.linsolve.spsolve_triangular</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.eigen.arpack.arpack.eigs.html" class='exists'>scipy.sparse.linalg.eigen.arpack.arpack.eigs</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.eigen.arpack.arpack.eigsh.html" class='exists'>scipy.sparse.linalg.eigen.arpack.arpack.eigsh</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.eigen.arpack.arpack.svds.html" class='exists'>scipy.sparse.linalg.eigen.arpack.arpack.svds</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.eigen.lobpcg.lobpcg.lobpcg.html" class='exists'>scipy.sparse.linalg.eigen.lobpcg.lobpcg.lobpcg</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.interface.LinearOperator.html" class='exists'>scipy.sparse.linalg.interface.LinearOperator</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.interface.aslinearoperator.html" class='exists'>scipy.sparse.linalg.interface.aslinearoperator</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.isolve.lgmres.lgmres.html" class='exists'>scipy.sparse.linalg.isolve.lgmres.lgmres</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.isolve.lsmr.lsmr.html" class='exists'>scipy.sparse.linalg.isolve.lsmr.lsmr</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.isolve.lsqr.lsqr.html" class='exists'>scipy.sparse.linalg.isolve.lsqr.lsqr</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.matfuncs.expm.html" class='exists'>scipy.sparse.linalg.matfuncs.expm</a></code>
        </dd>
        
            <dd><code><a link href="/p/scipy/1.7.1/api/scipy.sparse.linalg.matfuncs.inv.html" class='exists'>scipy.sparse.linalg.matfuncs.inv</a></code>
        </dd>
        
         </dl>
        </details>
        
    
    



<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>


<hr>

To Be Done: </br>

File: /scipy/sparse/__init__.py </br>
Line: 0 </br>
type: &lt;class &#39;module&#39;&gt; </br>
Commit: </br>
Tag: </br>
Link to the right github gitalab repository, file and line (maybe range?)</br>
</div>


    
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
        <style type="text/css">
        .node {}

        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; }
    </style>
<script>

var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d"),
    width = canvas.width,
    height = canvas.height;
var searchRadius = 40;



var color = d3.scaleOrdinal()
    .range(d3.schemeCategory10);

var canvas_simulation = d3.forceSimulation()
    .force("charge", d3.forceManyBody().strength(-100))
    .force("link", d3.forceLink().distance(30).strength(0.1).iterations(1).id(function(d) { return d.id; }))
    .force("x", d3.forceX().strength(0.1))
    .force("y", d3.forceY().strength(0.2));


var canvas_graph = {"nodes": [{"id": 1, "val": 9.414213562373096, "label": "scipy.sparse.csc.isspmatrix_csc", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csc.isspmatrix_csc"}, {"id": 2, "val": 9.732050807568877, "label": "scipy.sparse.linalg.interface.LinearOperator", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.linalg.interface.LinearOperator"}, {"id": 3, "val": 9.732050807568877, "label": "scipy.sparse.construct.spdiags", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.spdiags"}, {"id": 4, "val": 9.732050807568877, "label": "scipy.sparse.csgraph._shortest_path.shortest_path", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csgraph._shortest_path.shortest_path"}, {"id": 5, "val": 9.414213562373096, "label": "scipy.sparse._matrix_io.save_npz", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse._matrix_io.save_npz"}, {"id": 6, "val": 9.732050807568877, "label": "scipy.sparse.dok.dok_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.dok.dok_matrix"}, {"id": 7, "val": 9.414213562373096, "label": "scipy.sparse.dia.dia_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.dia.dia_matrix"}, {"id": 8, "val": 9.414213562373096, "label": "scipy.sparse.linalg.eigen.arpack.arpack.eigs", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.linalg.eigen.arpack.arpack.eigs"}, {"id": 9, "val": 14.32455532033676, "label": "scipy.sparse.csr.csr_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csr.csr_matrix"}, {"id": 10, "val": 9.414213562373096, "label": "scipy.sparse.construct.identity", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.identity"}, {"id": 11, "val": 9.414213562373096, "label": "scipy.sparse.construct.eye", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.eye"}, {"id": 12, "val": 10.82842712474619, "label": "scipy.sparse.coo.coo_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.coo.coo_matrix"}, {"id": 13, "val": 10.449489742783179, "label": "scipy.sparse.csgraph._tools.construct_dist_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.construct_dist_matrix"}, {"id": 14, "val": 12.0, "label": "scipy.sparse.csc.csc_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csc.csc_matrix"}, {"id": 15, "val": 9.414213562373096, "label": "scipy.sparse._matrix_io.load_npz", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse._matrix_io.load_npz"}, {"id": 16, "val": 9.414213562373096, "label": "scipy.sparse.bsr.bsr_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.bsr.bsr_matrix"}, {"id": 17, "val": 9.732050807568877, "label": "scipy.sparse.csgraph._matching.maximum_bipartite_matching", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csgraph._matching.maximum_bipartite_matching"}, {"id": 18, "val": 9.414213562373096, "label": "scipy.sparse.construct.hstack", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.hstack"}, {"id": 19, "val": 9.414213562373096, "label": "scipy.sparse.linalg.dsolve.linsolve.splu", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.linalg.dsolve.linsolve.splu"}, {"id": 20, "val": 13.196152422706632, "label": "scipy.sparse.construct.random", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.random"}], "links": [{"source": 15, "target": 5, "id": 2}, {"source": 5, "target": 15, "id": 3}, {"source": 12, "target": 18, "id": 58}, {"source": 14, "target": 15, "id": 68}, {"source": 14, "target": 5, "id": 69}, {"source": 14, "target": 1, "id": 71}, {"source": 14, "target": 19, "id": 76}, {"source": 4, "target": 13, "id": 101}, {"source": 13, "target": 4, "id": 106}, {"source": 9, "target": 1, "id": 128}, {"source": 9, "target": 17, "id": 130}, {"source": 9, "target": 4, "id": 138}, {"source": 9, "target": 13, "id": 139}]};

(function() {

  var pages = d3.nest()
      .key(function(d) { return d.mod; })
      .entries(canvas_graph.nodes)
      .sort(function(a, b) { return b.values.length - a.values.length; });

  var c = color.domain(pages.map(function(d) { return d.key; }));

    

  canvas_simulation
      .nodes(canvas_graph.nodes)
      .on("tick", ticked);

  canvas_simulation.force("link")
      .links(canvas_graph.links);

  d3.select(canvas)
      .on("mousemove", mousemoved)
      .call(d3.drag()
          .container(canvas)
          .subject(dragsubject)
          .on("start", dragstarted)
          .on("drag", dragged)
          .on("end", dragended));

  function ticked() {
    context.clearRect(0, 0, width, height);
    context.save();
    context.translate(width / 2, height / 2);

    context.beginPath();
    canvas_graph.links.forEach(drawLink);
    context.strokeStyle = "#aaa";
    context.stroke();
    var margin = 10; 
    
    pages.forEach(function(page) {
      context.beginPath();
      page.values.forEach(drawNode);
      context.fillStyle = color(page.key);
      context.fill();
    });

    context.restore();

  }

  function dragsubject() {
    return canvas_simulation.find(d3.event.x - width / 2, d3.event.y - height / 2, searchRadius);
  }

  function mousemoved() {
    var a = this.parentNode, m = d3.mouse(this), d = canvas_simulation.find(m[0] - width / 2, m[1] - height / 2, searchRadius);
    if (!d) return a.removeAttribute("href"), a.removeAttribute("title");
    //a.setAttribute("href", "http://bl.ocks.org/" + (d.user ? d.user + "/" : "") + d.id);
    a.setAttribute("title", d.label );
  }
})();

function dragstarted() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0.3).restart();
  d3.event.subject.fx = d3.event.subject.x;
  d3.event.subject.fy = d3.event.subject.y;
}

function dragged() {
  d3.event.subject.fx = d3.event.x;
  d3.event.subject.fy = d3.event.y;
}

function dragended() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0);
  d3.event.subject.fx = null;
  d3.event.subject.fy = null;
}

function drawLink(d) {
  context.moveTo(d.source.x, d.source.y);
  context.lineTo(d.target.x, d.target.y);
   //context.moveTo(d.x + 3, d.y);
  //context.arc((d.target.x*9+d.source.x)/10, (d.target.y*9+d.source.y)/10, 2, 0, 2 * Math.PI);
}

function drawNode(d) {
  context.moveTo(d.x + 5, d.y);
  context.arc(d.x, d.y, d.val, 0, 2 * Math.PI);
}

</script>
<script type="text/javascript">
    var colors = d3.scaleOrdinal(d3.schemeCategory10);

    var svg = d3.select("svg");
    var width = svg.attr("width");
    var height = svg.attr("height");
    var node;
    var link;

    // syle for arrow head in the svg...
    svg.append('defs').append('marker')
        .attrs({'id':'arrowhead',
            'viewBox':'-0 -5 10 10',
            'refX':13,
            'refY':0,
            'orient':'auto',
            'markerWidth':13,
            'markerHeight':13,
            'xoverflow':'visible'})
        .append('svg:path')
        .attr('d', 'M 0,-5 L 10 ,0 L 0,5')
        .attr('fill', '#999')
        .style('stroke','none');


    var svg_simulation = d3.forceSimulation()
        .force("charge", d3.forceManyBody().strength(-100))
        .force("link", d3.forceLink().distance(80).strength(0.01).iterations(10).id(function(d) { return d.id; }))
        .force("x", d3.forceX(width/2).strength(0.04))
        .force("y", d3.forceY(height/2).strength(0.06));





    var svg_graph = {"nodes": [{"id": 1, "val": 9.414213562373096, "label": "scipy.sparse.csc.isspmatrix_csc", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csc.isspmatrix_csc"}, {"id": 2, "val": 9.732050807568877, "label": "scipy.sparse.linalg.interface.LinearOperator", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.linalg.interface.LinearOperator"}, {"id": 3, "val": 9.732050807568877, "label": "scipy.sparse.construct.spdiags", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.spdiags"}, {"id": 4, "val": 9.732050807568877, "label": "scipy.sparse.csgraph._shortest_path.shortest_path", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csgraph._shortest_path.shortest_path"}, {"id": 5, "val": 9.414213562373096, "label": "scipy.sparse._matrix_io.save_npz", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse._matrix_io.save_npz"}, {"id": 6, "val": 9.732050807568877, "label": "scipy.sparse.dok.dok_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.dok.dok_matrix"}, {"id": 7, "val": 9.414213562373096, "label": "scipy.sparse.dia.dia_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.dia.dia_matrix"}, {"id": 8, "val": 9.414213562373096, "label": "scipy.sparse.linalg.eigen.arpack.arpack.eigs", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.linalg.eigen.arpack.arpack.eigs"}, {"id": 9, "val": 14.32455532033676, "label": "scipy.sparse.csr.csr_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csr.csr_matrix"}, {"id": 10, "val": 9.414213562373096, "label": "scipy.sparse.construct.identity", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.identity"}, {"id": 11, "val": 9.414213562373096, "label": "scipy.sparse.construct.eye", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.eye"}, {"id": 12, "val": 10.82842712474619, "label": "scipy.sparse.coo.coo_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.coo.coo_matrix"}, {"id": 13, "val": 10.449489742783179, "label": "scipy.sparse.csgraph._tools.construct_dist_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csgraph._tools.construct_dist_matrix"}, {"id": 14, "val": 12.0, "label": "scipy.sparse.csc.csc_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csc.csc_matrix"}, {"id": 15, "val": 9.414213562373096, "label": "scipy.sparse._matrix_io.load_npz", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse._matrix_io.load_npz"}, {"id": 16, "val": 9.414213562373096, "label": "scipy.sparse.bsr.bsr_matrix", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.bsr.bsr_matrix"}, {"id": 17, "val": 9.732050807568877, "label": "scipy.sparse.csgraph._matching.maximum_bipartite_matching", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.csgraph._matching.maximum_bipartite_matching"}, {"id": 18, "val": 9.414213562373096, "label": "scipy.sparse.construct.hstack", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.hstack"}, {"id": 19, "val": 9.414213562373096, "label": "scipy.sparse.linalg.dsolve.linsolve.splu", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.linalg.dsolve.linsolve.splu"}, {"id": 20, "val": 13.196152422706632, "label": "scipy.sparse.construct.random", "mod": "scipy", "url": "/p/scipy/1.7.1/api/scipy.sparse.construct.random"}], "links": [{"source": 15, "target": 5, "id": 2}, {"source": 5, "target": 15, "id": 3}, {"source": 12, "target": 18, "id": 58}, {"source": 14, "target": 15, "id": 68}, {"source": 14, "target": 5, "id": 69}, {"source": 14, "target": 1, "id": 71}, {"source": 14, "target": 19, "id": 76}, {"source": 4, "target": 13, "id": 101}, {"source": 13, "target": 4, "id": 106}, {"source": 9, "target": 1, "id": 128}, {"source": 9, "target": 17, "id": 130}, {"source": 9, "target": 4, "id": 138}, {"source": 9, "target": 13, "id": 139}]};
    (function (error, graph) {
            if (error) throw error;
        graph.nodes.forEach(function(d) { d.x = width*Math.random(); d.y = height*Math.random()});
        update(graph.links, graph.nodes);
        })(null, svg_graph);

    var edgelabels;

    function update(links, nodes) {
        link = svg.selectAll(".link")
            .data(links)
            .enter()
            .append("line")
            .attr("class", "link")
            .attr('marker-end','url(#arrowhead)');

        //link.append("title")
        //    .text(function (d) {return d.type;});

        edgepaths = svg.selectAll(".edgepath")
            .data(links)
            .enter()
            .append('path')
            .attrs({
                'class': 'edgepath',
                'fill-opacity': 0,
                'stroke-opacity': 0,
                'id': function (d, i) {return 'edgepath' + i}
            })
            .style("pointer-events", "none");

        edgelabels = svg.selectAll(".edgelabel")
            .data(links)
            .enter()
            .append('text')
            .style("pointer-events", "none")
            .attrs({
                'class': 'edgelabel',
                'id': function (d, i) {return 'edgelabel' + i},
                'font-size': 10,
                'fill': '#aaa'
            });

        edgelabels.append('textPath')
            .attr('xlink:href', function (d, i) {return '#edgepath' + i})
            .style("text-anchor", "middle")
            .style("pointer-events", "none")
            .attr("startOffset", "50%")
            .text(function (d) {return d.type});

        node = svg.selectAll(".node")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended)
            );

        node.append("a")
                .attr("xlink:href", function(node){return node.url})
            .append("circle")
                .attr("r", function(node){return node.val})
                .style("fill", function (d, i) {return colors(d.mod);})
                .style("stroke", "#FFF")

        node.append("title")
            .text(function (d) {return d.label;});

        node.append("text")
                //.attr("dx", function(node){return node.val+1})
                .attr("dy", +10)
                .attr("opacity", "0.5")
            .text(function (d) {arr = d.label.split('.'); return arr[arr.length-1]});

        svg_simulation
            .nodes(nodes)
            .on("tick", ticked);

        svg_simulation.force("link")
                .links(links)

    }

    function ticked() {
        link
            .attr("x1", function (d) {return d.source.x;})
            .attr("y1", function (d) {return d.source.y;})
            .attr("x2", function (d) {return d.target.x;})
            .attr("y2", function (d) {return d.target.y;});

        node
            .attr("transform", function (d) {return "translate(" + d.x + ", " + d.y + ")";});

        edgepaths.attr('d', function (d) {
            return 'M ' + d.source.x + ' ' + d.source.y + ' L ' + d.target.x + ' ' + d.target.y;
        });

        edgelabels.attr('transform', function (d) {
            if (d.target.x < d.source.x) {
                var bbox = this.getBBox();

                rx = bbox.x + bbox.width / 2;
                ry = bbox.y + bbox.height / 2;
                return 'rotate(180 ' + rx + ' ' + ry + ')';
            }
            else {
                return 'rotate(0)';
            }
        });
    }

    function dragstarted(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0.3).restart()
        d.fx = d.x;
        d.fy = d.y;
    }

    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }

    function dragended(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
    }

</script>




</div>
</body>
</html>