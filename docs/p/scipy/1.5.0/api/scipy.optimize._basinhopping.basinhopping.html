<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // only process math in math tags (faster and less false positive with `...`)
        MathJax = {
          options: {
            ignoreHtmlClass: 'tex2jax_ignore',    //  class that marks tags not to search
            processHtmlClass: 'tex2jax_process',  //  class that marks tags that should be searched
          }
        };
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
<style>
body{
    font-family: 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    color: #606c76;
    font-weight: 350;
    line-height: 1.6;
    max-width: 1000px;
    margin-left:0;

}
          svg,canvas{border: 1px gray solid;}
          .foo:hover{text-decoration:underline}
          .foo{font-weight:bold; color:#4e4e4e}
          .exists{font-weight:bold; color:#4e4e4e;text-decoration:none;}
          .local{font-weight:bold; color:#1e6f04;text-decoration:none;}
          .exists:hover{text-decoration:underline;color:black}
          .missing,.missing:hover{color:darkred;text-decoration:none;font-weight:normal}
          .signature {font-size:100%; margin-bottom: 2rem; display: block; border:none; background-color: #FFFFFF;
              font-weight:600;}
          h1, h2, h3 {color: #4e4e4e; font-weight:400;
              margin-bottom: 1rem;border-bottom: 1px solid var(--nc-bg-3);
          }
          pre{border-radius:0;
              padding:0.6rem;
          border-left: 3px solid #AAA}
          dt {font-weight: 400;}

          header{
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              
              padding-top:0rem;
              padding-bottom:0rem;
              z-index: 2;
              padding-left: 0;
              position: fixed;
              top: 30px;
              left:0; 
              width: 100%;
              backdrop-filter: blur(5px);
              background-color: rgba(255, 255, 255, .15);
          }
          dd::before {
            content: '';
          }
          header > brand, header>:first-child {
              border-right: 1px solid #ccc;
              border-left: 1px solid #ccc;
              padding: 16px;
              padding-top: 0.5rem;
              padding-bottom: 0.5rem;
              display: inline-block; 
              width: 167px;

          }
          brand > a {color:#606c76}
          brand > i {
              padding-right: 0.5rem;

        }
          nav{display:inline;
          padding-left: 1rem;
          }

          dd {
              margin-left: 1rem;
              border-left:  solid #ddd;
              padding-left: 1rem;
          }
          summary > h2 { display: inline }

          .sidenav {
                height: 100%; /* Full-height: remove this if you want "auto" height */
                width: 200px; /* Set the width of the sidebar */
                position: fixed; /* Fixed Sidebar (stay in place on scroll) */
                z-index: 1; /* Stay on top */
                top: 0; /* Stay at the top */
                left: 0;
                background-color: var(--nc-bg-1);; /* Black */
                border-right: thin solid #ccc;
                overflow-x: hidden; /* Disable horizontal scroll */
                padding-top: 3rem;
 
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
          }

          .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            color: #818181;
            display: block;
          }
          .sidenav img {
              width: 160px;
              padding-left:20px;
              padding-right:20px;
              border-bottom: solid thin #DDD; 
              padding-bottom: .5rem;
              max-width: 100%;
          }
          .sidenav i {
              font-size: 100;
              padding-left: 3.5rem;
              padding-right: 3.5rem;
              padding-bottom: .5rem;
              border-bottom: solid thin #DDD; 

          }
          .container {
              padding-left: 210px;
              padding-top: 30px;

          }

          ::selection {
	/* Set background color for selected text */
                background: #59b4fd;
                color: var(--nc-ac-tx);
          }

          img {max-width: 40%;}

          pre.highlight.execed {
            border-left: 3px solid #0070f3;
          }
          .note {color: #7d77d2}
          .warning {color: #f44336}
          pre.highlight.compiled {
            border-left: 3px solid #7d77d2;
          }
          pre.highlight.syntax_error, pre.highlight.exception_in_exec {
            border-left: 3px solid #f44336;
          }

        /* Dropdown Button */
/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
  margin-left: -4px;
}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #ddd;}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {display: block;
    max-height: 80vh;
    overflow: scroll;}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {}


pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */

.nsl {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}


.block_directive{

    border-left: thin solid var(--nc-lk-1);
    padding-bottom: 8px;
    padding-left: 12px;
}

.block_directive.head{

    border: thin solid var(--nc-lk-1);
}


.block_directive > p{
    margin-left: 2em;
    margin-top: 1em;
}
.head {
    font-family: monospace;
    color: var(--nc-lk-1);
}
</style>
</head>
<body class="tex2jax_ignore">
    <header>
        <brand><i class="fab fa-python"></i><a href='/'>Home</a></brand>
        <nav> <a href='/' >/ p</a>  / 
                <div class="dropdown">
                <a href=scipy>scipy</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/IPython/8.0.0.dev/api/IPython.html">IPython</a>
                            <a href="/p/dask/2021.01.1+8.g34f990a81/api/dask.html">dask</a>
                            <a href="/p/distributed/2021.01.1+9.g613b3c820/api/distributed.html">distributed</a>
                            <a href="/p/matplotlib/3.3.3/api/matplotlib.html">matplotlib</a>
                            <a href="/p/numpy/1.20.0/api/numpy.html">numpy</a>
                            <a href="/p/papyri/0.0.2/api/papyri.html">papyri</a>
                            <a href="/p/scipy/1.5.0/api/scipy.html">scipy</a>
                            
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/scipy/1.5.0/api/scipy.html'>1.5.0</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/scipy/1.5.0/api/scipy.html">1.5.0</a>
                            
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/scipy/1.5.0/api/scipy.html'>api</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/scipy/1.5.0/api/scipy.html">API</a>
                        <a href="/p/scipy/1.5.0/gallery">Gallery</a>
                     </div>
                </div>

            
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.html'>scipy</a>.
                        
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.optimize.html'>optimize</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/scipy/1.5.0/api/scipy.__config__.html">__config__</a>
                            <a href="/p/scipy/1.5.0/api/scipy._distributor_init.html">_distributor_init</a>
                            <a href="/p/scipy/1.5.0/api/scipy._lib.html">_lib</a>
                            <a href="/p/scipy/1.5.0/api/scipy.constants.html">constants</a>
                            <a href="/p/scipy/1.5.0/api/scipy.fft.html">fft</a>
                            <a href="/p/scipy/1.5.0/api/scipy.integrate.html">integrate</a>
                            <a href="/p/scipy/1.5.0/api/scipy.interpolate.html">interpolate</a>
                            <a href="/p/scipy/1.5.0/api/scipy.linalg.html">linalg</a>
                            <a href="/p/scipy/1.5.0/api/scipy.misc.html">misc</a>
                            <a href="/p/scipy/1.5.0/api/scipy.ndimage.html">ndimage</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.html">optimize</a>
                            <a href="/p/scipy/1.5.0/api/scipy.signal.html">signal</a>
                            <a href="/p/scipy/1.5.0/api/scipy.sparse.html">sparse</a>
                            <a href="/p/scipy/1.5.0/api/scipy.spatial.html">spatial</a>
                            <a href="/p/scipy/1.5.0/api/scipy.special.html">special</a>
                            <a href="/p/scipy/1.5.0/api/scipy.stats.html">stats</a>
                            <a href="/p/scipy/1.5.0/api/scipy.version.html">version</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.optimize._basinhopping.html'>_basinhopping</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.__nnls.html">__nnls</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.html">_basinhopping</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._bglu_dense.html">_bglu_dense</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._cobyla.html">_cobyla</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._constraints.html">_constraints</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._differentiable_functions.html">_differentiable_functions</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._differentialevolution.html">_differentialevolution</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._dual_annealing.html">_dual_annealing</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._group_columns.html">_group_columns</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._hessian_update_strategy.html">_hessian_update_strategy</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._lbfgsb.html">_lbfgsb</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._linprog.html">_linprog</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._linprog_ip.html">_linprog_ip</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._linprog_rs.html">_linprog_rs</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._linprog_simplex.html">_linprog_simplex</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._linprog_util.html">_linprog_util</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._lsap.html">_lsap</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._lsap_module.html">_lsap_module</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._lsq.html">_lsq</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._minimize.html">_minimize</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._minpack.html">_minpack</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._nnls.html">_nnls</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._numdiff.html">_numdiff</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._remove_redundancy.html">_remove_redundancy</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._root.html">_root</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._root_scalar.html">_root_scalar</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._shgo.html">_shgo</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._shgo_lib.html">_shgo_lib</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._slsqp.html">_slsqp</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._spectral.html">_spectral</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._trlib.html">_trlib</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._trustregion.html">_trustregion</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._trustregion_constr.html">_trustregion_constr</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._trustregion_dogleg.html">_trustregion_dogleg</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._trustregion_exact.html">_trustregion_exact</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._trustregion_krylov.html">_trustregion_krylov</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._trustregion_ncg.html">_trustregion_ncg</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._zeros.html">_zeros</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.cobyla.html">cobyla</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.lbfgsb.html">lbfgsb</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.linesearch.html">linesearch</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.minpack.html">minpack</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.minpack2.html">minpack2</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.moduleTNC.html">moduleTNC</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.nonlin.html">nonlin</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.optimize.html">optimize</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.slsqp.html">slsqp</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.tnc.html">tnc</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize.zeros.html">zeros</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.optimize._basinhopping.basinhopping.html'>basinhopping</a>
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.AdaptiveStepsize.html">AdaptiveStepsize</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.BasinHoppingRunner.html">BasinHoppingRunner</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.Metropolis.html">Metropolis</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.MinimizerWrapper.html">MinimizerWrapper</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.RandomDisplacement.html">RandomDisplacement</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.Storage.html">Storage</a>
                            <a href="/p/scipy/1.5.0/api/scipy.optimize._basinhopping.basinhopping.html">basinhopping</a>
                            
                            </div>
                        
                    </div>
                </nav>
    </header>
<div class='container'>
    <div class="sidenav">
    
        <img src="/p/scipy/1.5.0/img/logo.png"/>
    
    <a href="#">Library: scipy</a>
    <a href="#">Version: 1.5.0</a>
    <a href="#">Authors:</a>
    <a href="#">PyPI:</a>
    <a href="#">Source</a>
    <a href="#">Homepage</a>
    <a href="#">Fundings</a>
    <a href="#">Stars</a>
    <a href="#">Forks</a>
    <a href="#">Related</a>
    <hr/>
    <a>Narrative Docs</a>
    <hr/>
    <a href="#section-Parameters">Parameters</a>

    <a href="#section-Returns">Returns</a>

    <a href="#section-Notes">Notes</a>

    <a href="#section-backrefs">BackRef</a>
    

    </div>

    













    <code class='signature'>basinhopping(func, x0, niter=100, T=1.0, stepsize=0.5, minimizer_kwargs=None, take_step=None, accept_test=None, callback=None, interval=50, disp=False, niter_success=None, seed=None)</code>




    
    
        <!-- rendering Summary -->
        
           
               
        <p>Find the global minimum of a function using the basin-hopping algorithm</p>

    
           
       
    


    
    
        <!-- rendering Extended Summary -->
        
           
               
        <p>Basin-hopping is a two-phase method that combines a global stepping algorithm with local minimization at each step. Designed to mimic the natural process of energy minimization of clusters of atoms, it works well for similar problems with &#34;funnel-like, but rugged&#34; energy landscapes [5]_.</p>

    
           
               
        <p>As the step-taking, step acceptance, and minimization methods are all customizable, this function can also be used to implement other two-phase methods.</p>

    
           
       
    


    
        <h3 id="section-Parameters">Parameters</h3>
    
    
       <dl>
           
            
                <dt><a id="func">func</a> : callable ``f(x, *args)``</dt>
            
        </dl>

        <dd>
            
                
        <p>Function to be optimized.  
        <code class='verbatim'>args</code>
     can be passed as an optional item in the dict `<code><a link href="#minimizer_kwargs" class='local'>minimizer_kwargs</a></code>`</p>

    
            
        </dd>
       
            
                <dt><a id="x0">x0</a> : array_like</dt>
            
        </dl>

        <dd>
            
                
        <p>Initial guess.</p>

    
            
        </dd>
       
            
                <dt><a id="niter">niter</a> : integer, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>The number of basin-hopping iterations</p>

    
            
        </dd>
       
            
                <dt><a id="T">T</a> : float, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>The &#34;temperature&#34; parameter for the accept or reject criterion. Higher &#34;temperatures&#34; mean that larger jumps in function value will be accepted.  For best results 
        <code class='verbatim'>T</code>
     should be comparable to the separation (in function value) between local minima.</p>

    
            
        </dd>
       
            
                <dt><a id="stepsize">stepsize</a> : float, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Maximum step size for use in the random displacement.</p>

    
            
        </dd>
       
            
                <dt><a id="minimizer_kwargs">minimizer_kwargs</a> : dict, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Extra keyword arguments to be passed to the local minimizer 
        <code class='verbatim'>scipy.optimize.minimize()</code>
     Some important options could be:</p>

    
            
                
          <!-- deflist -->
           <dl>
               
               <dt>
        <p>method : str</p>

    <dt>
               <dd>

                       
        <p>The minimization method (e.g. 
        <code class='verbatim'>&#34;L-BFGS-B&#34;</code>
    )</p>

    
                  
               <dd>
               
               <dt>
        <p>args : tuple</p>

    <dt>
               <dd>

                       
        <p>Extra arguments passed to the objective function (
        <code class='verbatim'>func</code>
    ) and its derivatives (Jacobian, Hessian).</p>

    
                  
               <dd>
                 
           </dl>
       
            
        </dd>
       
            
                <dt><a id="take_step">take_step</a> : callable ``take_step(x)``, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Replace the default step-taking routine with this routine. The default step-taking routine is a random displacement of the coordinates, but other step-taking algorithms may be better for some systems. 
        <code class='verbatim'>take_step</code>
     can optionally have the attribute 
        <code class='verbatim'>take_step.stepsize</code>
    . If this attribute exists, then 
        <code class='verbatim'>basinhopping</code>
     will adjust 
        <code class='verbatim'>take_step.stepsize</code>
     in order to try to optimize the global minimum search.</p>

    
            
        </dd>
       
            
                <dt><a id="accept_test">accept_test</a> : callable, ``accept_test(f_new=f_new, x_new=x_new, f_old=fold, x_old=x_old)``, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Define a test which will be used to judge whether or not to accept the step.  This will be used in addition to the Metropolis test based on &#34;temperature&#34; 
        <code class='verbatim'>T</code>
    .  The acceptable return values are True, False, or 
        <code class='verbatim'>&#34;force accept&#34;</code>
    . If any of the tests return False then the step is rejected. If the latter, then this will override any other tests in order to accept the step. This can be used, for example, to forcefully escape from a local minimum that 
        <code class='verbatim'>basinhopping</code>
     is trapped in.</p>

    
            
        </dd>
       
            
                <dt><a id="callback">callback</a> : callable, ``callback(x, f, accept)``, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>A callback function which will be called for all minima found. 
        <code class='verbatim'>x</code>
     and 
        <code class='verbatim'>f</code>
     are the coordinates and function value of the trial minimum, and 
        <code class='verbatim'>accept</code>
     is whether or not that minimum was accepted. This can be used, for example, to save the lowest N minima found. Also, 
        <code class='verbatim'>callback</code>
     can be used to specify a user defined stop criterion by optionally returning True to stop the 
        <code class='verbatim'>basinhopping</code>
     routine.</p>

    
            
        </dd>
       
            
                <dt><a id="interval">interval</a> : integer, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>interval for how often to update the `<code><a link href="#stepsize" class='local'>stepsize</a></code>`</p>

    
            
        </dd>
       
            
                <dt><a id="disp">disp</a> : bool, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Set to True to print status messages</p>

    
            
        </dd>
       
            
                <dt><a id="niter_success">niter_success</a> : integer, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Stop the run if the global minimum candidate remains the same for this number of iterations.</p>

    
            
        </dd>
       
            
                <dt><a id="seed">seed</a> : {int, `~np.random.RandomState`, `~np.random.Generator`}, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>If <code><a link href="#seed" class='local'>seed</a></code> is not specified the <code>:None:None:`~np.random.RandomState`</code> singleton is used. If <code><a link href="#seed" class='local'>seed</a></code> is an int, a new 
        <code class='verbatim'>RandomState</code>
     instance is used, seeded with seed. If <code><a link href="#seed" class='local'>seed</a></code> is already a 
        <code class='verbatim'>RandomState</code>
     or 
        <code class='verbatim'>Generator</code>
     instance, then that object is used. Specify <code><a link href="#seed" class='local'>seed</a></code> for repeatable minimizations. The random numbers generated with this seed only affect the default Metropolis <code><a link href="#accept_test" class='local'>accept_test</a></code> and the default <code><a link href="#take_step" class='local'>take_step</a></code>. If you supply your own <code><a link href="#take_step" class='local'>take_step</a></code> and <code><a link href="#accept_test" class='local'>accept_test</a></code>, and these functions use random number generation, then those functions are responsible for the state of their random number generator.</p>

    
            
        </dd>
       

   </pre>
   


    
        <h3 id="section-Returns">Returns</h3>
    
    
       <dl>
           
            
                <dt><a id="res">res</a> : OptimizeResult</dt>
            
        </dl>

        <dd>
            
                
        <p>The optimization result represented as a 
        <code class='verbatim'>OptimizeResult</code>
     object. Important attributes are: 
        <code class='verbatim'>x</code>
     the solution array, 
        <code class='verbatim'>fun</code>
     the value of the function at the solution, and 
        <code class='verbatim'>message</code>
     which describes the cause of the termination. The 
        <code class='verbatim'>OptimizeResult</code>
     object returned by the selected minimizer at the lowest minimum is also contained within this object and can be accessed through the 
        <code class='verbatim'>lowest_optimization_result</code>
     attribute.  See <code><a link href="/p/scipy/1.5.0/api/scipy.optimize.optimize.OptimizeResult.html" class='exists'>OptimizeResult</a></code>
         for a description of other attributes.</p>

    
            
        </dd>
       

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
        <h3 id="section-Notes">Notes</h3>
    
    
        <!-- rendering Notes -->
        
           
               
        <p>Basin-hopping is a stochastic algorithm which attempts to find the global minimum of a smooth scalar function of one or more variables [1]_ [2]_ [3]_ [4]_. The algorithm in its current form was described by David Wales and Jonathan Doye [2]_ http://www-wales.ch.cam.ac.uk/.</p>

    
           
               
        <p>The algorithm is iterative with each cycle composed of the following features</p>

    
           
               
        <p>1) random perturbation of the coordinates</p>

    
           
               
        <p>2) local minimization</p>

    
           
               
          <!-- deflist -->
           <dl>
               
               <dt>
        <p>3) accept or reject the new coordinates based on the minimized function</p>

    <dt>
               <dd>

                       
        <p>value </p>

    
                  
               <dd>
                 
           </dl>
       
           
               
        <p>The acceptance test used here is the Metropolis criterion of standard Monte Carlo algorithms, although there are many other possibilities [3]_.</p>

    
           
               
        <p>This global minimization method has been shown to be extremely efficient for a wide variety of problems in physics and chemistry. It is particularly useful when the function has many minima separated by large barriers. See the Cambridge Cluster Database http://www-wales.ch.cam.ac.uk/CCD.html for databases of molecular systems that have been optimized primarily using basin-hopping. This database includes minimization problems exceeding 300 degrees of freedom.</p>

    
           
               
        <p>See the free software program GMIN (http://www-wales.ch.cam.ac.uk/GMIN) for a Fortran implementation of basin-hopping. This implementation has many different variations of the procedure described above, including more advanced step taking algorithms and alternate acceptance criterion.</p>

    
           
               
        <p>For stochastic global optimization there is no way to determine if the true global minimum has actually been found. Instead, as a consistency check, the algorithm can be run from a number of different random starting points to ensure the lowest minimum found in each example has converged to the global minimum. For this reason, 
        <code class='verbatim'>basinhopping</code>
     will by default simply run for the number of iterations 
        <code class='verbatim'>niter</code>
     and return the lowest minimum found. It is left to the user to ensure that this is in fact the global minimum.</p>

    
           
               
        <p>Choosing 
        <code class='verbatim'>stepsize</code>
    :  This is a crucial parameter in 
        <code class='verbatim'>basinhopping</code>
     and depends on the problem being solved. The step is chosen uniformly in the region from x0-stepsize to x0+stepsize, in each dimension. Ideally, it should be comparable to the typical separation (in argument values) between local minima of the function being optimized. 
        <code class='verbatim'>basinhopping</code>
     will, by default, adjust 
        <code class='verbatim'>stepsize</code>
     to find an optimal value, but this may take many iterations. You will get quicker results if you set a sensible initial value for 
        <code class='verbatim'>stepsize</code>
    .</p>

    
           
               
        <p>Choosing 
        <code class='verbatim'>T</code>
    : The parameter 
        <code class='verbatim'>T</code>
     is the &#34;temperature&#34; used in the Metropolis criterion. Basinhopping steps are always accepted if 
        <code class='verbatim'>func(xnew) &lt; func(xold)</code>
    . Otherwise, they are accepted with probability::</p>

    
           
               
            <pre>exp( -(func(xnew) - func(xold)) / T )
</pre>
       
           
               
        <p>So, for best results, 
        <code class='verbatim'>T</code>
     should to be comparable to the typical difference (in function values) between local minima. (The height of &#34;walls&#34; between local minima is irrelevant.)</p>

    
           
               
        <p>If 
        <code class='verbatim'>T</code>
     is 0, the algorithm becomes Monotonic Basin-Hopping, in which all steps that increase energy are rejected.</p>

    
           
               
           <div class='block_directive'>
    <div class='head'>.. versionadded:: [&#39; 0.12.0&#39;]</div>
    
</div>

        
           
       
    


    
    
       
   



    <h3 id="section-Examples">Examples</h3>
        
                
        <p>The following example is a 1-D minimization problem, with many local minima superimposed on a parabola.</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="kn">from</span><span class=""> </span><span class="nn">scipy</span><span class="nn">.</span><span class="nn">optimize</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">basinhopping</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">func</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">lambda</span><span class=""> </span><span class="">x</span><span class="">:</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ufunc.html">cos</a><span class="">(</span><span class="mf">14.5</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mf">0.3</span><span class="">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">(</span><span class="">x</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mf">0.2</span><span class="">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><br><span class='nsl'>...&nbsp;</span><span class="">x0</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="mf">1.0</span><span class="">]</span>
</pre>
            
            
         
                
        <p>Basinhopping, internally, uses a local minimization algorithm. We will use the parameter 
        <code class='verbatim'>minimizer_kwargs</code>
     to tell basinhopping which algorithm to use and how to set up that minimizer. This parameter will be passed to 
        <code class='verbatim'>scipy.optimize.minimize()</code>
    .</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">minimizer_kwargs</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><span class="s2">&#34;</span><span class="s2">method</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">BFGS</span><span class="s2">&#34;</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><span class="">ret</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">basinhopping</span><span class="">(</span><span class="">func</span><span class="">,</span><span class=""> </span><span class="">x0</span><span class="">,</span><span class=""> </span><span class="">minimizer_kwargs</span><span class="o">=</span><span class="">minimizer_kwargs</span><span class="">,</span><span class=""> </span><span class="">niter</span><span class="o">=</span><span class="mi">200</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="nb">print</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">global minimum: x = </span><span class="si">%.4f</span><span class="s2">, f(x0) = </span><span class="si">%.4f</span><span class="s2">&#34;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">ret</span><span class="o">.</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">ret</span><span class="o">.</span><span class="">fun</span><span class="">)</span><span class="">)</span>
global minimum: x = -0.1951, f(x0) = -1.0009</pre>
            
            
         
                
        <p>Next consider a 2-D minimization problem. Also, this time, we will use gradient information to significantly speed up the search.</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="k">def</span><span class=""> </span><span class="nf">func2d</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">f</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ufunc.html">cos</a><span class="">(</span><span class="mf">14.5</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mf">0.3</span><span class="">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">(</span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mf">0.2</span><span class="">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">(</span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mf">0.2</span><span class="">)</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">df</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.zeros.html">zeros</a><span class="">(</span><span class="mi">2</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">df</a><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-</span><span class="mf">14.5</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ufunc.html">sin</a><span class="">(</span><span class="mf">14.5</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="mf">0.3</span><span class="">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mf">2.0</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mf">0.2</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">df</a><span class="">[</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mf">2.0</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mf">0.2</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">return</span><span class=""> </span><span class="">f</span><span class="">,</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">df</a>
</pre>
            
            
         
                
        <p>We&#39;ll also use a different local minimization algorithm. Also, we must tell the minimizer that our function returns both energy and gradient (Jacobian).</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">minimizer_kwargs</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><span class="s2">&#34;</span><span class="s2">method</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">L-BFGS-B</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">jac</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="kc">True</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><span class="">x0</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="mf">1.0</span><span class="">,</span><span class=""> </span><span class="mf">1.0</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">ret</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">basinhopping</span><span class="">(</span><span class="">func2d</span><span class="">,</span><span class=""> </span><span class="">x0</span><span class="">,</span><span class=""> </span><span class="">minimizer_kwargs</span><span class="o">=</span><span class="">minimizer_kwargs</span><span class="">,</span><span class=""> </span><span class="">niter</span><span class="o">=</span><span class="mi">200</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="nb">print</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">global minimum: x = [</span><span class="si">%.4f</span><span class="s2">, </span><span class="si">%.4f</span><span class="s2">], f(x0) = </span><span class="si">%.4f</span><span class="s2">&#34;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">ret</span><span class="o">.</span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">ret</span><span class="o">.</span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">ret</span><span class="o">.</span><span class="">fun</span><span class="">)</span><span class="">)</span>
global minimum: x = [-0.1951, -0.1000], f(x0) = -1.0109</pre>
            
            
         
                
        <p>Here is an example using a custom step-taking routine. Imagine you want the first coordinate to take larger steps than the rest of the coordinates. This can be implemented like so:</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="k">class</span><span class=""> </span><span class="nc">MyTakeStep</span><span class="">(</span><span class="nb">object</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="fm">__init__</span><span class="">(</span><span class="bp">self</span><span class="">,</span><span class=""> </span><span class="">stepsize</span><span class="o">=</span><span class="mf">0.5</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="bp">self</span><span class="o">.</span><span class="">stepsize</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">stepsize</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="fm">__call__</span><span class="">(</span><span class="bp">self</span><span class="">,</span><span class=""> </span><span class="">x</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">self</span><span class="o">.</span><span class="">stepsize</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.random.html">random</a><span class="o">.</span><span class="">uniform</span><span class="">(</span><span class="o">-</span><span class="mf">2.0</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">s</span><span class="">,</span><span class=""> </span><span class="mf">2.0</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">s</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">:</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.random.html">random</a><span class="o">.</span><span class="">uniform</span><span class="">(</span><span class="o">-</span><span class="">s</span><span class="">,</span><span class=""> </span><span class="">s</span><span class="">,</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">:</span><span class="">]</span><span class="o">.</span><span class="">shape</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">return</span><span class=""> </span><span class="">x</span>
</pre>
            
            
         
                
        <p>Since 
        <code class='verbatim'>MyTakeStep.stepsize</code>
     exists basinhopping will adjust the magnitude of 
        <code class='verbatim'>stepsize</code>
     to optimize the search. We&#39;ll use the same 2-D function as before</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">mytakestep</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">MyTakeStep</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ret</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">basinhopping</span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">func2d</span><span class="">,</span><span class=""> </span><span class="">x0</span><span class="">,</span><span class=""> </span><span class="">minimizer_kwargs</span><span class="o">=</span><span class="">minimizer_kwargs</span><span class="">,</span><span class=""> </span><span class="">niter</span><span class="o">=</span><span class="mi">200</span><span class="">,</span><span class=""> </span><span class="">take_step</span><span class="o">=</span><span class="">mytakestep</span><br><span class='nsl'>...&nbsp;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="nb">print</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">global minimum: x = [</span><span class="si">%.4f</span><span class="s2">, </span><span class="si">%.4f</span><span class="s2">], f(x0) = </span><span class="si">%.4f</span><span class="s2">&#34;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">ret</span><span class="o">.</span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">ret</span><span class="o">.</span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">ret</span><span class="o">.</span><span class="">fun</span><span class="">)</span><span class="">)</span>
global minimum: x = [-0.1951, -0.1000], f(x0) = -1.0109</pre>
            
            
         
                
        <p>Now, let&#39;s do an example using a custom callback function which prints the value of every minimum found</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="k">def</span><span class=""> </span><span class="nf">print_fun</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">f</span><span class="">,</span><span class=""> </span><span class="">accepted</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="nb">print</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">at minimum </span><span class="si">%.4f</span><span class="s2"> accepted </span><span class="si">%d</span><span class="s2">&#34;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">f</span><span class="">,</span><span class=""> </span><span class="nb">int</span><span class="">(</span><span class="">accepted</span><span class="">)</span><span class="">)</span><span class="">)</span>
</pre>
            
            
         
                
        <p>We&#39;ll run it for only 10 basinhopping steps this time.</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.random.html">random</a><span class="o">.</span><span class="">seed</span><span class="">(</span><span class="mi">1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ret</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">basinhopping</span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">func2d</span><span class="">,</span><span class=""> </span><span class="">x0</span><span class="">,</span><span class=""> </span><span class="">minimizer_kwargs</span><span class="o">=</span><span class="">minimizer_kwargs</span><span class="">,</span><span class=""> </span><span class="">niter</span><span class="o">=</span><span class="mi">10</span><span class="">,</span><span class=""> </span><span class="">callback</span><span class="o">=</span><span class="">print_fun</span><br><span class='nsl'>...&nbsp;</span><span class="">)</span>
at minimum 0.4159 accepted 1
at minimum -0.9073 accepted 1
at minimum -0.1021 accepted 1
at minimum -0.1021 accepted 1
at minimum 0.9102 accepted 1
at minimum 0.9102 accepted 1
at minimum 2.2945 accepted 0
at minimum -0.1021 accepted 1
at minimum -1.0109 accepted 1
at minimum -1.0109 accepted 1</pre>
            
            
         
                
        <p>The minimum at -1.0109 is actually the global minimum, found already on the 8th iteration.</p>

    
            
            
         
                
        <p>Now let&#39;s implement bounds on the problem using a custom 
        <code class='verbatim'>accept_test</code>
    :</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="k">class</span><span class=""> </span><span class="nc">MyBounds</span><span class="">(</span><span class="nb">object</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="fm">__init__</span><span class="">(</span><span class="bp">self</span><span class="">,</span><span class=""> </span><span class="">xmax</span><span class="o">=</span><span class="">[</span><span class="mf">1.1</span><span class="">,</span><span class=""> </span><span class="mf">1.1</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">xmin</span><span class="o">=</span><span class="">[</span><span class="o">-</span><span class="mf">1.1</span><span class="">,</span><span class=""> </span><span class="o">-</span><span class="mf">1.1</span><span class="">]</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="bp">self</span><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">xmax</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.array.html">array</a><span class="">(</span><span class="">xmax</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="bp">self</span><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">xmin</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.array.html">array</a><span class="">(</span><span class="">xmin</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="fm">__call__</span><span class="">(</span><span class="bp">self</span><span class="">,</span><span class=""> </span><span class="o">*</span><span class="o">*</span><span class="">kwargs</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">kwargs</span><span class="">[</span><span class="s2">&#34;</span><span class="s2">x_new</span><span class="s2">&#34;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">tmax</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">bool</span><span class="">(</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><span class="">all</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="o">&lt;</span><span class="o">=</span><span class=""> </span><span class="bp">self</span><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">xmax</a><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">tmin</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">bool</span><span class="">(</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.html">np</a><span class="o">.</span><span class="">all</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="bp">self</span><span class="o">.</span><a class="foo ", href="/p/numpy/1.20.0/api/numpy.ndarray.html">xmin</a><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">return</span><span class=""> </span><span class="">tmax</span><span class=""> </span><span class="ow">and</span><span class=""> </span><span class="">tmin</span>
</pre>
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">mybounds</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">MyBounds</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ret</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">basinhopping</span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">func2d</span><span class="">,</span><span class=""> </span><span class="">x0</span><span class="">,</span><span class=""> </span><span class="">minimizer_kwargs</span><span class="o">=</span><span class="">minimizer_kwargs</span><span class="">,</span><span class=""> </span><span class="">niter</span><span class="o">=</span><span class="mi">10</span><span class="">,</span><span class=""> </span><span class="">accept_test</span><span class="o">=</span><span class="">mybounds</span><br><span class='nsl'>...&nbsp;</span><span class="">)</span>
</pre>
            
            
         
         See :
         
             <code><a link href="/p/numpy/1.20.0/api/numpy.ndarray.html" class='exists'>numpy.ndarray</a></code>
        
         
             <code><a link href="/p/numpy/1.20.0/api/numpy.zeros.html" class='exists'>numpy.zeros</a></code>
        
         
             <code><a link href="/p/numpy/1.20.0/api/numpy.html" class='exists'>numpy</a></code>
        
         
             <code><a link href="/p/numpy/1.20.0/api/numpy.random.html" class='exists'>numpy.random</a></code>
        
         
             <code><a link href="/p/scipy/1.5.0/api/scipy.optimize.optimize.OptimizeResult.html" class='exists'>scipy.optimize.optimize.OptimizeResult</a></code>
        
         
             <code><a link href="/p/numpy/1.20.0/api/numpy.ufunc.html" class='exists'>numpy.ufunc</a></code>
        
         
             <code><a link href="/p/numpy/1.20.0/api/numpy.array.html" class='exists'>numpy.array</a></code>
        
         
     
    


    <h3 id='section-backrefs'>Back References</h3>
    <p>The following pages refer to to this document either explicitly or contain code examples using this.</p>

    
    
        <code><a link href="/p/papyri/0.0.2/api/papyri.html" class='exists'>papyri</a></code>
        
    
        <code><a link href="/p/scipy/1.5.0/api/scipy.optimize._minimize.minimize.html" class='exists'>scipy.optimize._minimize.minimize</a></code>
        
    
    
    



<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg width="800" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>


<hr>

To Be Done: </br>

File: /Users/bussonniermatthias/miniconda3/lib/python3.8/site-packages/scipy/optimize/_basinhopping.py </br>
Line: 334 </br>
type: &lt;class &#39;function&#39;&gt; </br>
Commit: </br>
Tag: </br>
Link to the right github gitalab repository, file and line (maybe range?)</br>
</div>


    
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
        <style type="text/css">
        .node {}

        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; }
    </style>
<script>

var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d"),
    width = canvas.width,
    height = canvas.height;
var searchRadius = 40;



var color = d3.scaleOrdinal()
    .range(d3.schemeCategory10);

var canvas_simulation = d3.forceSimulation()
    .force("charge", d3.forceManyBody().strength(-100))
    .force("link", d3.forceLink().distance(30).strength(0.1).iterations(1).id(function(d) { return d.id; }))
    .force("x", d3.forceX().strength(0.1))
    .force("y", d3.forceY().strength(0.2));


var canvas_graph = {"nodes": [{"id": 1, "val": 30.891046284519195, "label": "numpy.ndarray", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.ndarray"}, {"id": 2, "val": 20.041594578792296, "label": "numpy.ufunc", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.ufunc"}, {"id": 3, "val": 21.820274961085254, "label": "numpy.array", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.array"}, {"id": 4, "val": 17.899494936611667, "label": "numpy.random", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.random"}, {"id": 5, "val": 11.74165738677394, "label": "scipy.optimize.optimize.OptimizeResult", "mod": "scipy", "url": "/p/scipy/1.5.0/api/scipy.optimize.optimize.OptimizeResult"}, {"id": 6, "val": 30.891046284519195, "label": "numpy", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy"}, {"id": 7, "val": 14.6332495807108, "label": "numpy.zeros", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.zeros"}, {"id": 8, "val": 10.82842712474619, "label": "scipy.optimize._minimize.minimize", "mod": "scipy", "url": "/p/scipy/1.5.0/api/scipy.optimize._minimize.minimize"}, {"id": 9, "val": 8.0, "label": "papyri", "mod": "papyri", "url": "/p/papyri/0.0.2/api/papyri"}], "links": [{"source": 8, "target": 9, "id": 0}, {"source": 7, "target": 1, "id": 533}, {"source": 6, "target": 1, "id": 578}, {"source": 5, "target": 8, "id": 1206}, {"source": 3, "target": 1, "id": 1359}]};

(function() {

  var pages = d3.nest()
      .key(function(d) { return d.mod; })
      .entries(canvas_graph.nodes)
      .sort(function(a, b) { return b.values.length - a.values.length; });

  var c = color.domain(pages.map(function(d) { return d.key; }));

    

  canvas_simulation
      .nodes(canvas_graph.nodes)
      .on("tick", ticked);

  canvas_simulation.force("link")
      .links(canvas_graph.links);

  d3.select(canvas)
      .on("mousemove", mousemoved)
      .call(d3.drag()
          .container(canvas)
          .subject(dragsubject)
          .on("start", dragstarted)
          .on("drag", dragged)
          .on("end", dragended));

  function ticked() {
    context.clearRect(0, 0, width, height);
    context.save();
    context.translate(width / 2, height / 2);

    context.beginPath();
    canvas_graph.links.forEach(drawLink);
    context.strokeStyle = "#aaa";
    context.stroke();
    var margin = 10; 
    
    pages.forEach(function(page) {
      context.beginPath();
      page.values.forEach(drawNode);
      context.fillStyle = color(page.key);
      context.fill();
    });

    context.restore();

  }

  function dragsubject() {
    return canvas_simulation.find(d3.event.x - width / 2, d3.event.y - height / 2, searchRadius);
  }

  function mousemoved() {
    var a = this.parentNode, m = d3.mouse(this), d = canvas_simulation.find(m[0] - width / 2, m[1] - height / 2, searchRadius);
    if (!d) return a.removeAttribute("href"), a.removeAttribute("title");
    //a.setAttribute("href", "http://bl.ocks.org/" + (d.user ? d.user + "/" : "") + d.id);
    a.setAttribute("title", d.label );
  }
})();

function dragstarted() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0.3).restart();
  d3.event.subject.fx = d3.event.subject.x;
  d3.event.subject.fy = d3.event.subject.y;
}

function dragged() {
  d3.event.subject.fx = d3.event.x;
  d3.event.subject.fy = d3.event.y;
}

function dragended() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0);
  d3.event.subject.fx = null;
  d3.event.subject.fy = null;
}

function drawLink(d) {
  context.moveTo(d.source.x, d.source.y);
  context.lineTo(d.target.x, d.target.y);
   //context.moveTo(d.x + 3, d.y);
  //context.arc((d.target.x*9+d.source.x)/10, (d.target.y*9+d.source.y)/10, 2, 0, 2 * Math.PI);
}

function drawNode(d) {
  context.moveTo(d.x + 5, d.y);
  context.arc(d.x, d.y, d.val, 0, 2 * Math.PI);
}

</script>
<script type="text/javascript">
    var colors = d3.scaleOrdinal(d3.schemeCategory10);

    var svg = d3.select("svg");
    var width = svg.attr("width");
    var height = svg.attr("height");
    var node;
    var link;

    // syle for arrow head in the svg...
    svg.append('defs').append('marker')
        .attrs({'id':'arrowhead',
            'viewBox':'-0 -5 10 10',
            'refX':13,
            'refY':0,
            'orient':'auto',
            'markerWidth':13,
            'markerHeight':13,
            'xoverflow':'visible'})
        .append('svg:path')
        .attr('d', 'M 0,-5 L 10 ,0 L 0,5')
        .attr('fill', '#999')
        .style('stroke','none');


    var svg_simulation = d3.forceSimulation()
        .force("charge", d3.forceManyBody().strength(-100))
        .force("link", d3.forceLink().distance(80).strength(0.01).iterations(10).id(function(d) { return d.id; }))
        .force("x", d3.forceX(width/2).strength(0.04))
        .force("y", d3.forceY(height/2).strength(0.06));





    var svg_graph = {"nodes": [{"id": 1, "val": 30.891046284519195, "label": "numpy.ndarray", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.ndarray"}, {"id": 2, "val": 20.041594578792296, "label": "numpy.ufunc", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.ufunc"}, {"id": 3, "val": 21.820274961085254, "label": "numpy.array", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.array"}, {"id": 4, "val": 17.899494936611667, "label": "numpy.random", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.random"}, {"id": 5, "val": 11.74165738677394, "label": "scipy.optimize.optimize.OptimizeResult", "mod": "scipy", "url": "/p/scipy/1.5.0/api/scipy.optimize.optimize.OptimizeResult"}, {"id": 6, "val": 30.891046284519195, "label": "numpy", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy"}, {"id": 7, "val": 14.6332495807108, "label": "numpy.zeros", "mod": "numpy", "url": "/p/numpy/1.20.0/api/numpy.zeros"}, {"id": 8, "val": 10.82842712474619, "label": "scipy.optimize._minimize.minimize", "mod": "scipy", "url": "/p/scipy/1.5.0/api/scipy.optimize._minimize.minimize"}, {"id": 9, "val": 8.0, "label": "papyri", "mod": "papyri", "url": "/p/papyri/0.0.2/api/papyri"}], "links": [{"source": 8, "target": 9, "id": 0}, {"source": 7, "target": 1, "id": 533}, {"source": 6, "target": 1, "id": 578}, {"source": 5, "target": 8, "id": 1206}, {"source": 3, "target": 1, "id": 1359}]};
    (function (error, graph) {
            if (error) throw error;
        graph.nodes.forEach(function(d) { d.x = width*Math.random(); d.y = height*Math.random()});
        update(graph.links, graph.nodes);
        })(null, svg_graph);

    var edgelabels;

    function update(links, nodes) {
        link = svg.selectAll(".link")
            .data(links)
            .enter()
            .append("line")
            .attr("class", "link")
            .attr('marker-end','url(#arrowhead)');

        //link.append("title")
        //    .text(function (d) {return d.type;});

        edgepaths = svg.selectAll(".edgepath")
            .data(links)
            .enter()
            .append('path')
            .attrs({
                'class': 'edgepath',
                'fill-opacity': 0,
                'stroke-opacity': 0,
                'id': function (d, i) {return 'edgepath' + i}
            })
            .style("pointer-events", "none");

        edgelabels = svg.selectAll(".edgelabel")
            .data(links)
            .enter()
            .append('text')
            .style("pointer-events", "none")
            .attrs({
                'class': 'edgelabel',
                'id': function (d, i) {return 'edgelabel' + i},
                'font-size': 10,
                'fill': '#aaa'
            });

        edgelabels.append('textPath')
            .attr('xlink:href', function (d, i) {return '#edgepath' + i})
            .style("text-anchor", "middle")
            .style("pointer-events", "none")
            .attr("startOffset", "50%")
            .text(function (d) {return d.type});

        node = svg.selectAll(".node")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended)
            );

        node.append("a")
                .attr("xlink:href", function(node){return node.url})
            .append("circle")
                .attr("r", function(node){return node.val})
                .style("fill", function (d, i) {return colors(d.mod);})
                .style("stroke", "#FFF")

        node.append("title")
            .text(function (d) {return d.label;});

        node.append("text")
                //.attr("dx", function(node){return node.val+1})
                .attr("dy", +10)
                .attr("opacity", "0.5")
            .text(function (d) {arr = d.label.split('.'); return arr[arr.length-1]});

        svg_simulation
            .nodes(nodes)
            .on("tick", ticked);

        svg_simulation.force("link")
                .links(links)

    }

    function ticked() {
        link
            .attr("x1", function (d) {return d.source.x;})
            .attr("y1", function (d) {return d.source.y;})
            .attr("x2", function (d) {return d.target.x;})
            .attr("y2", function (d) {return d.target.y;});

        node
            .attr("transform", function (d) {return "translate(" + d.x + ", " + d.y + ")";});

        edgepaths.attr('d', function (d) {
            return 'M ' + d.source.x + ' ' + d.source.y + ' L ' + d.target.x + ' ' + d.target.y;
        });

        edgelabels.attr('transform', function (d) {
            if (d.target.x < d.source.x) {
                var bbox = this.getBBox();

                rx = bbox.x + bbox.width / 2;
                ry = bbox.y + bbox.height / 2;
                return 'rotate(180 ' + rx + ' ' + ry + ')';
            }
            else {
                return 'rotate(0)';
            }
        });
    }

    function dragstarted(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0.3).restart()
        d.fx = d.x;
        d.fy = d.y;
    }

    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }

    function dragended(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
    }

</script>




</div>
</body>
</html>