<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
<style>
    body{
        font-family: 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
        color: #606c76;
        font-weight: 350;
        line-height: 1.6;
        max-width: 100%;
        margin-left:0;

    }
    

.external:after {
    font-weight: 900;
    content: "\2009\f35d";
    font-family: "Font Awesome 5 Free";
    display: inline-block;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    line-height: 1;
    font-size: small;
    
}
    .search {

        text-align: center
    }

    .search input {
        width: 80%;<D-r>
        border-radius:0;


    }
    .cards {
        display: grid;
        /*grid-template-columns: repeat(3, 1fr);*/
        grid-template-columns: repeat(auto-fill, 270px);
        grid-auto-rows: auto;
        justify-content: center;
        align-content: center;
        grid-gap: 1rem;
    }

    .helper {
        display: inline-block;
        height: 100%;
        vertical-align: middle;
    }
    
    .card {
        /* Add shadows to create the "card" effect */
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        width: 250px;
        height: 300px;
        padding: 10px;
        text-align: center;
    }

    .card div:nth-child(1){
        height: 200px;
    }

    /* On mouse-over, add a deeper shadow */
    .card:hover {
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
    }
    .card > div {
        padding: 2px 16px;
    }

    .cards h4, .cards a {
        text-decoration: none;
        color: var(--nc-tx-1);
    }

    .card img {
        display: inline-block;
        max-width: 90%;
        max-height: 90%;
        vertical-align: middle;
    }



    .graph{border: 1px gray solid;}
    .foo:hover{text-decoration:underline}
    .foo{font-weight:bold; color:#4e4e4e}
    .exists{font-weight:bold; color:#4e4e4e;text-decoration:none;}
    .local{font-weight:bold; color:#1e6f04;text-decoration:none;}
    .exists:hover{text-decoration:underline;color:black}
    .missing,.missing:hover{color:darkred;text-decoration:none;font-weight:normal}
    .signature {font-size:100%; margin-bottom: 2rem; display: block; border:none; background-color: #FFFFFF;
        font-weight:600;}
    h1, h2, h3 {color: #4e4e4e; font-weight:400;
        margin-bottom: 1rem;border-bottom: 1px solid var(--nc-bg-3);
    }
    pre{border-radius:0;
        padding:0.6rem;
    border-left: 3px solid #AAA}
    dt {font-weight: 400;}

    header{
        box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;

        padding-top:0rem;
        padding-bottom:0rem;
        z-index: 2;
        padding-left: 0;
        position: fixed;
        top: 30px;
        left:0; 
        width: 100%;
        height: 42px;
        backdrop-filter: blur(5px);
        background-color: rgba(255, 255, 255, .15);
    }
      dd::before {
        content: '';
      }
      header > brand, header>:first-child {
          border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;
          padding: 16px;
          padding-top: 0.5rem;
          padding-bottom: 0.5rem;
          display: inline-block; 
          width: 167px;
          

      }
      brand > a {color:#606c76}
      brand > i {
          padding-right: 0.5rem;

        }
          nav{display:inline-block;
              padding: 10px;
              padding-left: 1rem;

          }

          dd {
              margin-left: 1rem;
              border-left:  solid #ddd;
              padding-left: 1rem;
          }
          summary > h2 { display: inline }

          .sidenav {
                height: 100%; /* Full-height: remove this if you want "auto" height */
                width: 200px; /* Set the width of the sidebar */
                position: fixed; /* Fixed Sidebar (stay in place on scroll) */
                z-index: 1; /* Stay on top */
                top: 0; /* Stay at the top */
                left: 0;
                background-color: var(--nc-bg-1);; /* Black */
                border-right: thin solid #ccc;
                overflow-x: hidden; /* Disable horizontal scroll */
                padding-top: 3rem;
 
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                
          }

          .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            color: #818181;
            display: block;
          }
          .sidenav a:hover{
            text-decoration: underline;
          }
          .sidenav img {
              width: 160px;
              padding-left:20px;
              padding-right:20px;
              border-bottom: solid thin #DDD; 
              padding-bottom: .5rem;
              max-width: 100%;
          }
          .sidenav i {
              font-size: 100;
              padding-left: 3.5rem;
              padding-right: 3.5rem;
              padding-bottom: .5rem;
              border-bottom: solid thin #DDD; 

          }
          .container {
              padding-left: 210px;
              
              padding-top: 30px;

          }

          ::selection {
	/* Set background color for selected text */
                background: #59b4fd;
                color: var(--nc-ac-tx);
          }

          img {max-width: 40%;}

          pre.highlight.execed, .admonition {
            border-left: 3px solid #0070f3;
          }
          .admonition {
            padding-left: 1em;
          }
          .admonition > div {
            background-color: rgba(0, 123, 255, 0.1);
            position: relative;
            margin: 0 -1rem;
            padding: 0.4rem 0.1rem 0.4rem 1.5rem;
            font-weight: bold;
            text-transform: capitalize;
        }
          .note {color: #7d77d2}
          .warning {color: #af7b1a}
          .error {color: #f44336}
          pre.highlight.compiled {
            border-left: 3px solid #7d77d2;
          }
          pre.highlight.syntax_error, pre.highlight.exception_in_exec {
            border-left: 3px solid #f44336;
          }

        /* Dropdown Button */
/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
  margin-left: -4px;
}

nav  a {
    color: #606c76;
    text-decoration: none;

}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #ddd;}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {display: block;
    max-height: 80vh;
    overflow: scroll;}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {}


pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */

.nsl {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}


.block_directive{

    border-left: thin solid var(--nc-lk-1);
    padding-bottom: 8px;
    padding-left: 12px;
}

.block_directive.head{

    border: thin solid var(--nc-lk-1);
}


.block_directive > p{
    margin-left: 2em;
    margin-top: 1em;
}
.head {
    font-family: monospace;
    color: var(--nc-lk-1);
}
</style>
</head>
<body class="tex2jax_ignore">
    <header>
            <brand><i class="fab fa-python"></i><a href='/'>Home</a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=scipy>scipy</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/IPython/8.2.0.dev/api/IPython.html">IPython</a>
                            <a href="/p/astropy/5.0/api/astropy.html">astropy</a>
                            <a href="/p/dask/2021.10.0/api/dask.html">dask</a>
                            <a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
                            <a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
                            <a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html">networkx</a>
                            <a href="/p/numpy/1.22.3/api/numpy.html">numpy</a>
                            <a href="/p/pandas/1.4.1/api/pandas.html">pandas</a>
                            <a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
                            <a href="/p/scipy/1.8.0/api/scipy.html">scipy</a>
                            <a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
                            
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/scipy/1.8.0/api/scipy.html'>1.8.0</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                            <a href="/p/scipy/1.8.0/api/scipy.html">1.8.0</a>
                            
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/scipy/1.8.0/api/scipy.html'>api</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/scipy/1.8.0/api/scipy.html">API</a>
                        <a href="/p/scipy/1.8.0/gallery">Gallery</a>
                        <a href="/p/scipy/1.8.0/examples">Examples</a>
                     </div>
                </div>

            
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.html'>scipy</a>.
                        
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.optimize.html'>optimize</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/?/?/api/scipy._lib.html">_lib</a>
                            <a href="/p/scipy/1.8.0/api/scipy.fft.html">fft</a>
                            <a href="/p/scipy/1.8.0/api/scipy.integrate.html">integrate</a>
                            <a href="/p/scipy/1.8.0/api/scipy.interpolate.html">interpolate</a>
                            <a href="/p/scipy/1.8.0/api/scipy.linalg.html">linalg</a>
                            <a href="/p/?/?/api/scipy.ndimage.html">ndimage</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.html">optimize</a>
                            <a href="/p/scipy/1.8.0/api/scipy.signal.html">signal</a>
                            <a href="/p/scipy/1.8.0/api/scipy.sparse.html">sparse</a>
                            <a href="/p/scipy/1.8.0/api/scipy.spatial.html">spatial</a>
                            <a href="/p/scipy/1.8.0/api/scipy.special.html">special</a>
                            <a href="/p/?/?/api/scipy.stats.html">stats</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.optimize._differentialevolution.html'>_differentialevolution</a>.
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.__nnls.html">__nnls</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._basinhopping.html">_basinhopping</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._bglu_dense.html">_bglu_dense</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._cobyla.html">_cobyla</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._cobyla_py.html">_cobyla_py</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._constraints.html">_constraints</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._differentiable_functions.html">_differentiable_functions</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.html">_differentialevolution</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._dual_annealing.html">_dual_annealing</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._group_columns.html">_group_columns</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._hessian_update_strategy.html">_hessian_update_strategy</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._highs.html">_highs</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._lbfgsb.html">_lbfgsb</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._lbfgsb_py.html">_lbfgsb_py</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linesearch.html">_linesearch</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linprog.html">_linprog</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linprog_doc.html">_linprog_doc</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linprog_highs.html">_linprog_highs</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linprog_ip.html">_linprog_ip</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linprog_rs.html">_linprog_rs</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linprog_simplex.html">_linprog_simplex</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._linprog_util.html">_linprog_util</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._lsap.html">_lsap</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._lsap_module.html">_lsap_module</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._lsq.html">_lsq</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._minimize.html">_minimize</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._minpack.html">_minpack</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._minpack2.html">_minpack2</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._minpack_py.html">_minpack_py</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._moduleTNC.html">_moduleTNC</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._nnls.html">_nnls</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._nonlin.html">_nonlin</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._numdiff.html">_numdiff</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._optimize.html">_optimize</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._qap.html">_qap</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._remove_redundancy.html">_remove_redundancy</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._root.html">_root</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._root_scalar.html">_root_scalar</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._shgo.html">_shgo</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._shgo_lib.html">_shgo_lib</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._slsqp.html">_slsqp</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._slsqp_py.html">_slsqp_py</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._spectral.html">_spectral</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._tnc.html">_tnc</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._trlib.html">_trlib</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._trustregion.html">_trustregion</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._trustregion_constr.html">_trustregion_constr</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._trustregion_dogleg.html">_trustregion_dogleg</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._trustregion_exact.html">_trustregion_exact</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._trustregion_krylov.html">_trustregion_krylov</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._trustregion_ncg.html">_trustregion_ncg</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._zeros.html">_zeros</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._zeros_py.html">_zeros_py</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.cobyla.html">cobyla</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.lbfgsb.html">lbfgsb</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.linesearch.html">linesearch</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.minpack.html">minpack</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.minpack2.html">minpack2</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.moduleTNC.html">moduleTNC</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.nonlin.html">nonlin</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.optimize.html">optimize</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.slsqp.html">slsqp</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.tnc.html">tnc</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize.zeros.html">zeros</a>
                            
                            </div>
                        
                    </div>
                
                
                    <div class="dropdown">
                        
                            <a class="dropbtn" href='scipy.optimize._differentialevolution.differential_evolution.html'>differential_evolution</a>
                        
                        
                            <div class="dropdown-content">
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.DifferentialEvolutionSolver.html">DifferentialEvolutionSolver</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution._ConstraintWrapper.html">_ConstraintWrapper</a>
                            <a href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html">differential_evolution</a>
                            
                            </div>
                        
                    </div>
                </nav>
    </header>
<div class='container'>
    <div class="sidenav">
    
        <img src="/p/scipy/1.8.0/img/logo.png"/>
    
    <a href="#">scipy</a>
    <a href="#">1.8.0</a>
    
        <a class='external'  href="https://pypi.org/project/scipy">Pypi</a>
    
    
        <a class='external' href="https://github.com/scipy/scipy">GitHub</a>
    
    
        <a class='external' href="https://scipy.org/">Homepage</a>
    
    <hr/>
    
        <a class='external' href="https://docs.scipy.org/doc/scipy/">Other Docs</a>
    
    <hr/>
    <a href="#section-Notes">Notes</a>

    <a href="#section-Parameters">Parameters</a>

    <a href="#section-Returns">Returns</a>

    <a href="#section-backrefs">BackRef</a>
    

    </div>

    













    <code class='signature'>differential_evolution(func, bounds, args=(), strategy=&#39;best1bin&#39;, maxiter=1000, popsize=15, tol=0.01, mutation=(0.5, 1), recombination=0.7, seed=None, callback=None, disp=False, polish=True, init=&#39;latinhypercube&#39;, atol=0, updating=&#39;immediate&#39;, workers=1, constraints=(), x0=None)</code>




    
    
       <dl>
           

   </pre>
   


    
    
        <!-- rendering Extended Summary -->
        
           
               
        <p>Differential Evolution is stochastic in nature (does not use gradient methods) to find the minimum, and can search large areas of candidate space, but often requires larger numbers of function evaluations than conventional gradient-based techniques.</p>

    
           
               
        <p>The algorithm is due to Storn and Price .</p>

    
           
       
    


    
    
       
   


    
        <h3 id="section-Notes">Notes</h3>
    
    
        <!-- rendering Notes -->
        
           
               
        <p>Differential evolution is a stochastic population based method that is useful for global optimization problems. At each pass through the population the algorithm mutates each candidate solution by mixing with other candidate solutions to create a trial candidate. There are several strategies  for creating trial candidates, which suit some problems more than others. The &#39;best1bin&#39; strategy is a good starting point for many systems. In this strategy two members of the population are randomly chosen. Their difference is used to mutate the best member (the &#39;best&#39; in &#39;best1bin&#39;), 
        <span class="tex2jax_process">$b_0$</span>
    , so far:</p>

    
           
               
        <span class="tex2jax_process">$$b &#39; = b_0 + mutation * ( population [ rand0] - population [ rand1]) $$</span>
       
           
               
        <p>A trial vector is then constructed. Starting with a randomly chosen ith parameter the trial is sequentially filled (in modulo) with parameters from 
        <code class='verbatim'>b&#39;</code>
     or the original candidate. The choice of whether to use 
        <code class='verbatim'>b&#39;</code>
     or the original candidate is made with a binomial distribution (the &#39;bin&#39; in &#39;best1bin&#39;) - a random number in [0, 1) is generated. If this number is less than the <code><a link href="#recombination" class='local'>recombination</a></code> constant then the parameter is loaded from 
        <code class='verbatim'>b&#39;</code>
    , otherwise it is loaded from the original candidate. The final parameter is always loaded from 
        <code class='verbatim'>b&#39;</code>
    . Once the trial candidate is built its fitness is assessed. If the trial is better than the original candidate then it takes its place. If it is also better than the best overall candidate it also replaces that. To improve your chances of finding a global minimum use higher <code><a link href="#popsize" class='local'>popsize</a></code> values, with higher <code><a link href="#mutation" class='local'>mutation</a></code> and (dithering), but lower <code><a link href="#recombination" class='local'>recombination</a></code> values. This has the effect of widening the search radius, but slowing convergence. By default the best solution vector is updated continuously within a single iteration (
        <code class='verbatim'>updating=&#39;immediate&#39;</code>
    ). This is a modification  of the original differential evolution algorithm which can lead to faster convergence as trial vectors can immediately benefit from improved solutions. To use the original Storn and Price behaviour, updating the best solution once per iteration, set 
        <code class='verbatim'>updating=&#39;deferred&#39;</code>
    .</p>

    
           
               
            <div class='admonition'>
    <div>versionadded</div>
    
        
        <p>0.15.0 </p>

    
    
</div>

       
           
       
    


    
    
       <dl>
           

   </pre>
   


    
        <h3 id="section-Parameters">Parameters</h3>
    
    
       <dl>
           
            
                <dt><a id="func">func</a> : callable</dt>
            
        </dl>

        <dd>
            
                
        <p>The objective function to be minimized. Must be in the form 
        <code class='verbatim'>f(x, *args)</code>
    , where 
        <code class='verbatim'>x</code>
     is the argument in the form of a 1-D array and 
        <code class='verbatim'>args</code>
     is a  tuple of any additional fixed parameters needed to completely specify the function.</p>

    
            
        </dd>
       
            
                <dt><a id="bounds">bounds</a> : sequence or `Bounds`</dt>
            
        </dl>

        <dd>
            
                
        <p>Bounds for variables. There are two ways to specify the bounds: 1. Instance of <code><a link href="/p/scipy/1.8.0/api/scipy.optimize._constraints.Bounds.html" class='exists'>Bounds</a></code>
         class. 2. 
        <code class='verbatim'>(min, max)</code>
     pairs for each element in 
        <code class='verbatim'>x</code>
    , defining the finite lower and upper bounds for the optimizing argument of <code><a link href="#func" class='local'>func</a></code>. It is required to have 
        <code class='verbatim'>len(bounds) == len(x)</code>
    . 
        <code class='verbatim'>len(bounds)</code>
     is used to determine the number of parameters in 
        <code class='verbatim'>x</code>
    .</p>

    
            
        </dd>
       
            
                <dt><a id="args">args</a> : tuple, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Any additional fixed parameters needed to completely specify the objective function.</p>

    
            
        </dd>
       
            
                <dt><a id="strategy">strategy</a> : str, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>The differential evolution strategy to use. Should be one of:</p>

    
            
                
            <pre>- &#39;best1bin&#39;
- &#39;best1exp&#39;
- &#39;rand1exp&#39;
- &#39;randtobest1exp&#39;
- &#39;currenttobest1exp&#39;
- &#39;best2exp&#39;
- &#39;rand2exp&#39;
- &#39;randtobest1bin&#39;
- &#39;currenttobest1bin&#39;
- &#39;best2bin&#39;
- &#39;rand2bin&#39;
- &#39;rand1bin&#39;
</pre>

       
            
                
        <p>The default is &#39;best1bin&#39;.</p>

    
            
        </dd>
       
            
                <dt><a id="maxiter">maxiter</a> : int, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>The maximum number of generations over which the entire population is evolved. The maximum number of function evaluations (with no polishing) is: 
        <code class='verbatim'>(maxiter + 1) * popsize * len(x)</code>
    </p>

    
            
        </dd>
       
            
                <dt><a id="popsize">popsize</a> : int, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>A multiplier for setting the total population size. The population has 
        <code class='verbatim'>popsize * len(x)</code>
     individuals. This keyword is overridden if an initial population is supplied via the <code><a link href="#init" class='local'>init</a></code> keyword. When using 
        <code class='verbatim'>init=&#39;sobol&#39;</code>
     the population size is calculated as the next power of 2 after 
        <code class='verbatim'>popsize * len(x)</code>
    .</p>

    
            
        </dd>
       
            
                <dt><a id="tol">tol</a> : float, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Relative tolerance for convergence, the solving stops when 
        <code class='verbatim'>np.std(pop) &lt;= atol + tol * np.abs(np.mean(population_energies))</code>
    , where and <code><a link href="/p/scipy/1.8.0/api/scipy.sparse.linalg._isolve.iterative._get_atol.html" class='exists'>atol</a></code>
         and <code><a link href="#tol" class='local'>tol</a></code> are the absolute and relative tolerance respectively.</p>

    
            
        </dd>
       
            
                <dt><a id="mutation">mutation</a> : float or tuple(float, float), optional</dt>
            
        </dl>

        <dd>
            
                
        <p>The mutation constant. In the literature this is also known as differential weight, being denoted by F. If specified as a float it should be in the range [0, 2]. If specified as a tuple 
        <code class='verbatim'>(min, max)</code>
     dithering is employed. Dithering randomly changes the mutation constant on a generation by generation basis. The mutation constant for that generation is taken from 
        <code class='verbatim'>U[min, max)</code>
    . Dithering can help speed convergence significantly. Increasing the mutation constant increases the search radius, but will slow down convergence.</p>

    
            
        </dd>
       
            
                <dt><a id="recombination">recombination</a> : float, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>The recombination constant, should be in the range [0, 1]. In the literature this is also known as the crossover probability, being denoted by CR. Increasing this value allows a larger number of mutants to progress into the next generation, but at the risk of population stability.</p>

    
            
        </dd>
       
            
                <dt><a id="seed">seed</a> : {None, int, `numpy.random.Generator`,</dt>
            
        </dl>

        <dd>
            
                
            <pre>`numpy.random.RandomState`}, optional
</pre>

       
            
                
        <p>If <code><a link href="/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed.html" class='exists'>seed</a></code>
         is None (or <code>:None:None:`np.random`</code>), the <code><a link href="/p/numpy/*/api/numpy.random.mtrand.RandomState.html" class='exists'>numpy.random.RandomState</a></code>
         singleton is used. If <code><a link href="/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed.html" class='exists'>seed</a></code>
         is an int, a new 
        <code class='verbatim'>RandomState</code>
     instance is used, seeded with <code><a link href="/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed.html" class='exists'>seed</a></code>
        . If <code><a link href="/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed.html" class='exists'>seed</a></code>
         is already a 
        <code class='verbatim'>Generator</code>
     or 
        <code class='verbatim'>RandomState</code>
     instance then that instance is used. Specify <code><a link href="/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed.html" class='exists'>seed</a></code>
         for repeatable minimizations.</p>

    
            
        </dd>
       
            
                <dt><a id="disp">disp</a> : bool, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Prints the evaluated <code><a link href="#func" class='local'>func</a></code> at every iteration.</p>

    
            
        </dd>
       
            
                <dt><a id="callback">callback</a> : callable, `callback(xk, convergence=val)`, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>A function to follow the progress of the minimization. 
        <code class='verbatim'>xk</code>
     is the best solution found so far. 
        <code class='verbatim'>val</code>
     represents the fractional value of the population convergence.  When 
        <code class='verbatim'>val</code>
     is greater than one the function halts. If callback returns 
        <code class='verbatim'>True</code>
    , then the minimization is halted (any polishing is still carried out).</p>

    
            
        </dd>
       
            
                <dt><a id="polish">polish</a> : bool, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>If True (default), then <code><a link href="/p/scipy/*/api/scipy.optimize._minimize.minimize.html" class='exists'>scipy.optimize.minimize</a></code>
         with the <code>:None:None:`L-BFGS-B`</code> method is used to polish the best population member at the end, which can improve the minimization slightly. If a constrained problem is being studied then the <code>:None:None:`trust-constr`</code> method is used instead.</p>

    
            
        </dd>
       
            
                <dt><a id="init">init</a> : str or array-like, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Specify which type of population initialization is performed. Should be one of:</p>

    
            
                
            <pre>- &#39;latinhypercube&#39;
- &#39;sobol&#39;
- &#39;halton&#39;
- &#39;random&#39;
- array specifying the initial population. The array should have
  shape ``(M, len(x))``, where M is the total population size and
  len(x) is the number of parameters.
  `init` is clipped to `bounds` before use.
</pre>

       
            
                
        <p>The default is &#39;latinhypercube&#39;. Latin Hypercube sampling tries to maximize coverage of the available parameter space.</p>

    
            
                
        <p>&#39;sobol&#39; and &#39;halton&#39; are superior alternatives and maximize even more the parameter space. &#39;sobol&#39; will enforce an initial population size which is calculated as the next power of 2 after 
        <code class='verbatim'>popsize * len(x)</code>
    . &#39;halton&#39; has no requirements but is a bit less efficient. See <code><a link href="/p/scipy/*/api/scipy.stats.qmc.html" class='exists'>scipy.stats.qmc</a></code>
         for more details.</p>

    
            
                
        <p>&#39;random&#39; initializes the population randomly - this has the drawback that clustering can occur, preventing the whole of parameter space being covered. Use of an array to specify a population could be used, for example, to create a tight bunch of initial guesses in an location where the solution is known to exist, thereby reducing time for convergence.</p>

    
            
        </dd>
       
            
                <dt><a id="atol">atol</a> : float, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Absolute tolerance for convergence, the solving stops when 
        <code class='verbatim'>np.std(pop) &lt;= atol + tol * np.abs(np.mean(population_energies))</code>
    , where and <code><a link href="/p/scipy/1.8.0/api/scipy.sparse.linalg._isolve.iterative._get_atol.html" class='exists'>atol</a></code>
         and <code><a link href="#tol" class='local'>tol</a></code> are the absolute and relative tolerance respectively.</p>

    
            
        </dd>
       
            
                <dt><a id="updating">updating</a> : {&#39;immediate&#39;, &#39;deferred&#39;}, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>If 
        <code class='verbatim'>&#39;immediate&#39;</code>
    , the best solution vector is continuously updated within a single generation . This can lead to faster convergence as trial vectors can take advantage of continuous improvements in the best solution. With 
        <code class='verbatim'>&#39;deferred&#39;</code>
    , the best solution vector is updated once per generation. Only 
        <code class='verbatim'>&#39;deferred&#39;</code>
     is compatible with parallelization, and the <code><a link href="#workers" class='local'>workers</a></code> keyword can over-ride this option.</p>

    
            
                
            <div class='admonition'>
    <div>versionadded</div>
    
        
        <p>1.2.0 </p>

    
    
</div>

       
            
        </dd>
       
            
                <dt><a id="workers">workers</a> : int or map-like callable, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>If <code><a link href="#workers" class='local'>workers</a></code> is an int the population is subdivided into <code><a link href="#workers" class='local'>workers</a></code> sections and evaluated in parallel (uses <code>:None:None:`multiprocessing.Pool &lt;multiprocessing&gt;`</code>). Supply -1 to use all available CPU cores. Alternatively supply a map-like callable, such as <code>:None:None:`multiprocessing.Pool.map`</code> for evaluating the population in parallel. This evaluation is carried out as 
        <code class='verbatim'>workers(func, iterable)</code>
    . This option will override the <code><a link href="#updating" class='local'>updating</a></code> keyword to 
        <code class='verbatim'>updating=&#39;deferred&#39;</code>
     if 
        <code class='verbatim'>workers != 1</code>
    . Requires that <code><a link href="#func" class='local'>func</a></code> be pickleable.</p>

    
            
                
            <div class='admonition'>
    <div>versionadded</div>
    
        
        <p>1.2.0 </p>

    
    
</div>

       
            
        </dd>
       
            
                <dt><a id="constraints">constraints</a> : {NonLinearConstraint, LinearConstraint, Bounds}</dt>
            
        </dl>

        <dd>
            
                
        <p>Constraints on the solver, over and above those applied by the <code><a link href="#bounds" class='local'>bounds</a></code> kwd. Uses the approach by Lampinen .</p>

    
            
                
            <div class='admonition'>
    <div>versionadded</div>
    
        
        <p>1.4.0 </p>

    
    
</div>

       
            
        </dd>
       
            
                <dt><a id="x0">x0</a> : None or array-like, optional</dt>
            
        </dl>

        <dd>
            
                
        <p>Provides an initial guess to the minimization. Once the population has been initialized this vector replaces the first (best) member. This replacement is done even if <code><a link href="#init" class='local'>init</a></code> is given an initial population.</p>

    
            
                
            <div class='admonition'>
    <div>versionadded</div>
    
        
        <p>1.7.0 </p>

    
    
</div>

       
            
        </dd>
       

   </pre>
   


    
    
       <dl>
           

   </pre>
   


    
    
       
   


    
        <h3 id="section-Returns">Returns</h3>
    
    
       <dl>
           
            
                <dt><a id="res">res</a> : OptimizeResult</dt>
            
        </dl>

        <dd>
            
                
        <p>The optimization result represented as a <code><a link href="/p/scipy/1.8.0/api/scipy.optimize._optimize.OptimizeResult.html" class='exists'>OptimizeResult</a></code>
         object. Important attributes are: 
        <code class='verbatim'>x</code>
     the solution array, 
        <code class='verbatim'>success</code>
     a Boolean flag indicating if the optimizer exited successfully and 
        <code class='verbatim'>message</code>
     which describes the cause of the termination. See <code><a link href="/p/scipy/1.8.0/api/scipy.optimize._optimize.OptimizeResult.html" class='exists'>OptimizeResult</a></code>
         for a description of other attributes. If <code><a link href="#polish" class='local'>polish</a></code> was employed, and a lower minimum was obtained by the polishing, then OptimizeResult also contains the 
        <code class='verbatim'>jac</code>
     attribute. If the eventual solution does not satisfy the applied constraints 
        <code class='verbatim'>success</code>
     will be 
        <code class='verbatim'>False</code>
    .</p>

    
            
        </dd>
       

   </pre>
   


    
    
        <!-- rendering Summary -->
        
           
               
        <p>Finds the global minimum of a multivariate function.</p>

    
           
       
    


    
    
       
   


    
    
       <dl>
           

   </pre>
   


    
    
       <dl>
           

   </pre>
   



    <h3 id="section-Examples">Examples</h3>
        
                
        <p>Let us consider the problem of minimizing the Rosenbrock function. This function is implemented in <code><a link href="/p/scipy/1.8.0/api/scipy.optimize._optimize.rosen.html" class='exists'>rosen</a></code>
         in <code><a link href="/p/scipy/1.8.0/api/scipy.optimize.html" class='exists'>scipy.optimize</a></code>
        .</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="kn">from</span><span class=""> </span><a class="foo nn", href="/p/scipy/1.8.0/api/scipy.html">scipy</a><span class="nn">.</span><a class="foo nn", href="/p/scipy/1.8.0/api/scipy.optimize.html">optimize</a><span class=""> </span><span class="kn">import</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._optimize.rosen.html">rosen</a><span class="">,</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html">differential_evolution</a><br><span class='nsl'>...&nbsp;</span><span class="">bounds</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html">differential_evolution</a><span class="">(</span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._optimize.rosen.html">rosen</a><span class="">,</span><span class=""> </span><span class="">bounds</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class="o">.</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">result</span><span class="o">.</span><span class="">fun</span>
(array([1., 1., 1., 1., 1.]), 1.9216496320061384e-19)</pre>
            
            
         
                
        <p>Now repeat, but with parallelization.</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">bounds</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html">differential_evolution</a><span class="">(</span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._optimize.rosen.html">rosen</a><span class="">,</span><span class=""> </span><span class="">bounds</span><span class="">,</span><span class=""> </span><span class="">updating</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">deferred</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                                </span><span class="">workers</span><span class="o">=</span><span class="mi">2</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class="o">.</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">result</span><span class="o">.</span><span class="">fun</span>
(array([1., 1., 1., 1., 1.]), 1.9216496320061384e-19)</pre>
            
            
         
                
        <p>Let&#39;s try and do a constrained minimization</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="kn">from</span><span class=""> </span><a class="foo nn", href="/p/scipy/1.8.0/api/scipy.html">scipy</a><span class="nn">.</span><a class="foo nn", href="/p/scipy/1.8.0/api/scipy.optimize.html">optimize</a><span class=""> </span><span class="kn">import</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._constraints.NonlinearConstraint.html">NonlinearConstraint</a><span class="">,</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._constraints.Bounds.html">Bounds</a><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">constr_f</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><a class="foo k", href="/p/scipy/1.8.0/api/scipy.integrate._ode.ode.get_return_code.html">return</a><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.array.html">array</a><span class="">(</span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="">)</span>
&gt;&gt;&gt;</pre>
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="c1"># the sum of x[0] and x[1] must be less than 1.9</span><br><span class='nsl'>...&nbsp;</span><span class="">nlc</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._constraints.NonlinearConstraint.html">NonlinearConstraint</a><span class="">(</span><span class="">constr_f</span><span class="">,</span><span class=""> </span><span class="o">-</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><span class="">inf</span><span class="">,</span><span class=""> </span><span class="mf">1.9</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># specify limits using a `Bounds` object.</span><br><span class='nsl'>...&nbsp;</span><span class="">bounds</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._constraints.Bounds.html">Bounds</a><span class="">(</span><span class="">[</span><span class="mf">0.</span><span class="">,</span><span class=""> </span><span class="mf">0.</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">[</span><span class="mf">2.</span><span class="">,</span><span class=""> </span><span class="mf">2.</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html">differential_evolution</a><span class="">(</span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._optimize.rosen.html">rosen</a><span class="">,</span><span class=""> </span><span class="">bounds</span><span class="">,</span><span class=""> </span><span class="">constraints</span><span class="o">=</span><span class="">(</span><span class="">nlc</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                                </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed.html">seed</a><span class="o">=</span><span class="mi">1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class="o">.</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">result</span><span class="o">.</span><span class="">fun</span>
(array([0.96633867, 0.93363577]), 0.0011361355854792312)</pre>
            
            
         
                
        <p>Next find the minimum of the Ackley function (https://en.wikipedia.org/wiki/Test_functions_for_optimization).</p>

    
            
            
         
                <pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="kn">from</span><span class=""> </span><a class="foo nn", href="/p/scipy/1.8.0/api/scipy.html">scipy</a><span class="nn">.</span><a class="foo nn", href="/p/scipy/1.8.0/api/scipy.optimize.html">optimize</a><span class=""> </span><span class="kn">import</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html">differential_evolution</a><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn", href="/p/numpy/1.22.3/api/numpy.html">numpy</a><span class=""> </span><span class="k">as</span><span class=""> </span><a class="foo nn", href="/p/numpy/1.22.3/api/numpy.html">np</a><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">ackley</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">arg1</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="o">-</span><span class="mf">0.2</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.ufunc.html">sqrt</a><span class="">(</span><span class="mf">0.5</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">(</span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class=""> </span><span class="o">*</span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="o">*</span><span class="o">*</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">arg2</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mf">0.5</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">(</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.ufunc.html">cos</a><span class="">(</span><span class="mf">2.</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><span class="">pi</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.ufunc.html">cos</a><span class="">(</span><span class="mf">2.</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><span class="">pi</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><a class="foo k", href="/p/scipy/1.8.0/api/scipy.integrate._ode.ode.get_return_code.html">return</a><span class=""> </span><span class="o">-</span><span class="mf">20.</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.ufunc.html">exp</a><span class="">(</span><span class="">arg1</span><span class="">)</span><span class=""> </span><span class="o">-</span><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.ufunc.html">exp</a><span class="">(</span><span class="">arg2</span><span class="">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mf">20.</span><span class=""> </span><span class="o">+</span><span class=""> </span><a class="foo ", href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><span class="">e</span><br><span class='nsl'>...&nbsp;</span><span class="">bounds</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">(</span><span class="o">-</span><span class="mi">5</span><span class="">,</span><span class=""> </span><span class="mi">5</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="o">-</span><span class="mi">5</span><span class="">,</span><span class=""> </span><span class="mi">5</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo ", href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html">differential_evolution</a><span class="">(</span><span class="">ackley</span><span class="">,</span><span class=""> </span><span class="">bounds</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">result</span><span class="o">.</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">result</span><span class="o">.</span><span class="">fun</span>
(array([ 0.,  0.]), 4.4408920985006262e-16)</pre>
            
            
         
         See :
     
    


    <h3 id='section-backrefs'>Back References</h3>
    <p>The following pages refer to to this document either explicitly or contain code examples using this.</p>

    
    
        <code><a link href="/p/scipy/1.8.0/api/scipy.optimize._differentialevolution.differential_evolution.html" class='exists'>scipy.optimize._differentialevolution.differential_evolution</a></code>
        
    
    
    



<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>


<hr>


    GitHub : <a class='external' href='https://github.com/scipy/scipy/blob/v1.8.0//scipy/optimize/_differentialevolution.py#L22'>/scipy/optimize/_differentialevolution.py#22</a>
<br/>

type: &lt;class &#39;function&#39;&gt; </br>
Commit: </br>
</div>


    
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
        <style type="text/css">
        .node {}

        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; }
    </style>
<script>

var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d"),
    width = canvas.width,
    height = canvas.height;
var searchRadius = 40;



var color = d3.scaleOrdinal()
    .range(d3.schemeCategory10);

var canvas_simulation = d3.forceSimulation()
    .force("charge", d3.forceManyBody().strength(-100))
    .force("link", d3.forceLink().distance(30).strength(0.1).iterations(1).id(function(d) { return d.id; }))
    //.force("x", d3.forceX().strength(0.1))
    //.force("center", d3.forceCenter(width / 2, height / 2))
    .force("r", d3.forceRadial(150))
    //.force("y", d3.forceY().strength(0.2));



var canvas_graph = {"nodes": [{"id": 2, "val": 20.60952021291849, "label": "numpy.ufunc", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.ufunc"}, {"id": 3, "val": 15.14142842854285, "label": "scipy.integrate._ode.ode.get_return_code", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.integrate._ode.ode.get_return_code"}, {"id": 4, "val": 31.748684174075834, "label": "numpy.array", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.array"}, {"id": 5, "val": 12.0, "label": "scipy.linalg.interpolative.seed", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed"}, {"id": 6, "val": 10.82842712474619, "label": "scipy.optimize._minimize.minimize", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._minimize.minimize"}, {"id": 7, "val": 11.464101615137753, "label": "scipy.optimize._optimize.OptimizeResult", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._optimize.OptimizeResult"}, {"id": 8, "val": 9.732050807568877, "label": "scipy.optimize._optimize.rosen", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._optimize.rosen"}, {"id": 9, "val": 9.414213562373096, "label": "scipy.optimize._constraints.NonlinearConstraint", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._constraints.NonlinearConstraint"}, {"id": 10, "val": 14.782329983125269, "label": "scipy.optimize", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize"}, {"id": 11, "val": 9.414213562373096, "label": "scipy.stats.qmc", "mod": "scipy", "url": "/p/scipy/*/api/scipy.stats.qmc"}, {"id": 12, "val": 44.0, "label": "numpy", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy"}, {"id": 13, "val": 12.69041575982343, "label": "numpy.random.mtrand.RandomState", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.random.mtrand.RandomState"}, {"id": 14, "val": 9.732050807568877, "label": "scipy.optimize._constraints.Bounds", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._constraints.Bounds"}, {"id": 15, "val": 32.37211521390788, "label": "scipy", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy"}, {"id": 16, "val": 11.464101615137753, "label": "scipy.sparse.linalg._isolve.iterative._get_atol", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.sparse.linalg._isolve.iterative._get_atol"}], "links": [{"source": 8, "target": 6, "id": 1}, {"source": 7, "target": 6, "id": 10}, {"source": 10, "target": 8, "id": 40}, {"source": 10, "target": 9, "id": 52}, {"source": 10, "target": 6, "id": 69}, {"source": 15, "target": 9, "id": 195}, {"source": 15, "target": 8, "id": 484}, {"source": 15, "target": 6, "id": 631}, {"source": 13, "target": 5, "id": 1323}, {"source": 12, "target": 8, "id": 1523}, {"source": 12, "target": 9, "id": 2375}, {"source": 2, "target": 9, "id": 2772}]};

(function() {

  var pages = d3.nest()
      .key(function(d) { return d.mod; })
      .entries(canvas_graph.nodes)
      .sort(function(a, b) { return b.values.length - a.values.length; });

  var c = color.domain(pages.map(function(d) { return d.key; }));

    

  canvas_simulation
      .nodes(canvas_graph.nodes)
      .on("tick", ticked);

  canvas_simulation.force("link")
      .links(canvas_graph.links);

  d3.select(canvas)
      .on("mousemove", mousemoved)
      .call(d3.drag()
          .container(canvas)
          .subject(dragsubject)
          .on("start", dragstarted)
          .on("drag", dragged)
          .on("end", dragended));

  function ticked() {
    context.clearRect(0, 0, width, height);
    context.save();
    context.translate(width / 2, height / 2);

    context.beginPath();
    canvas_graph.links.forEach(drawLink);
    context.strokeStyle = "#aaa";
    context.stroke();
    var margin = 10; 
    
    pages.forEach(function(page) {
      context.beginPath();
      page.values.forEach(drawNode);
      context.fillStyle = color(page.key);
      context.fill();
    });

    context.restore();

  }

  function dragsubject() {
    return canvas_simulation.find(d3.event.x - width / 2, d3.event.y - height / 2, searchRadius);
  }

  function mousemoved() {
    var a = this.parentNode, m = d3.mouse(this), d = canvas_simulation.find(m[0] - width / 2, m[1] - height / 2, searchRadius);
    if (!d) return a.removeAttribute("href"), a.removeAttribute("title");
    //a.setAttribute("href", "http://bl.ocks.org/" + (d.user ? d.user + "/" : "") + d.id);
    a.setAttribute("title", d.label );
  }
})();

function dragstarted() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0.3).restart();
  d3.event.subject.fx = d3.event.subject.x;
  d3.event.subject.fy = d3.event.subject.y;
}

function dragged() {
  d3.event.subject.fx = d3.event.x;
  d3.event.subject.fy = d3.event.y;
}

function dragended() {
  if (!d3.event.active) canvas_simulation.alphaTarget(0);
  d3.event.subject.fx = null;
  d3.event.subject.fy = null;
}

function drawLink(d) {
  context.moveTo(d.source.x, d.source.y);
  context.lineTo(d.target.x, d.target.y);
   //context.moveTo(d.x + 3, d.y);
  //context.arc((d.target.x*9+d.source.x)/10, (d.target.y*9+d.source.y)/10, 2, 0, 2 * Math.PI);
}

function drawNode(d) {
  context.moveTo(d.x + 5, d.y);
  context.arc(d.x, d.y, d.val, 0, 2 * Math.PI);
}

</script>
<script type="text/javascript">
    var colors = d3.scaleOrdinal(d3.schemeCategory10);

    var svg = d3.select("svg");
    var width = svg.attr("width");
    var height = svg.attr("height");
    var node;
    var link;

    // syle for arrow head in the svg...
    svg.append('defs').append('marker')
        .attrs({'id':'arrowhead',
            'viewBox':'-0 -5 10 10',
            'refX':13,
            'refY':0,
            'orient':'auto',
            'markerWidth':13,
            'markerHeight':13,
            'xoverflow':'visible'})
        .append('svg:path')
        .attr('d', 'M 0,-5 L 10 ,0 L 0,5')
        .attr('fill', '#999')
        .style('stroke','none');


    var svg_simulation = d3.forceSimulation()
        .force("charge", d3.forceManyBody().strength(-30))
        .force("r", d3.forceRadial(200,width/2, height/2))
        .force("link", d3.forceLink().distance(80).strength(0.01).iterations(10).id(function(d) { return d.id; }))
        //.force("x", d3.forceX(width/2).strength(0.04))
        //.force("y", d3.forceY(height/2).strength(0.06));





    var svg_graph = {"nodes": [{"id": 2, "val": 20.60952021291849, "label": "numpy.ufunc", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.ufunc"}, {"id": 3, "val": 15.14142842854285, "label": "scipy.integrate._ode.ode.get_return_code", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.integrate._ode.ode.get_return_code"}, {"id": 4, "val": 31.748684174075834, "label": "numpy.array", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.array"}, {"id": 5, "val": 12.0, "label": "scipy.linalg.interpolative.seed", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.linalg.interpolative.seed"}, {"id": 6, "val": 10.82842712474619, "label": "scipy.optimize._minimize.minimize", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._minimize.minimize"}, {"id": 7, "val": 11.464101615137753, "label": "scipy.optimize._optimize.OptimizeResult", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._optimize.OptimizeResult"}, {"id": 8, "val": 9.732050807568877, "label": "scipy.optimize._optimize.rosen", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._optimize.rosen"}, {"id": 9, "val": 9.414213562373096, "label": "scipy.optimize._constraints.NonlinearConstraint", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._constraints.NonlinearConstraint"}, {"id": 10, "val": 14.782329983125269, "label": "scipy.optimize", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize"}, {"id": 11, "val": 9.414213562373096, "label": "scipy.stats.qmc", "mod": "scipy", "url": "/p/scipy/*/api/scipy.stats.qmc"}, {"id": 12, "val": 44.0, "label": "numpy", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy"}, {"id": 13, "val": 12.69041575982343, "label": "numpy.random.mtrand.RandomState", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.random.mtrand.RandomState"}, {"id": 14, "val": 9.732050807568877, "label": "scipy.optimize._constraints.Bounds", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.optimize._constraints.Bounds"}, {"id": 15, "val": 32.37211521390788, "label": "scipy", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy"}, {"id": 16, "val": 11.464101615137753, "label": "scipy.sparse.linalg._isolve.iterative._get_atol", "mod": "scipy", "url": "/p/scipy/1.8.0/api/scipy.sparse.linalg._isolve.iterative._get_atol"}], "links": [{"source": 8, "target": 6, "id": 1}, {"source": 7, "target": 6, "id": 10}, {"source": 10, "target": 8, "id": 40}, {"source": 10, "target": 9, "id": 52}, {"source": 10, "target": 6, "id": 69}, {"source": 15, "target": 9, "id": 195}, {"source": 15, "target": 8, "id": 484}, {"source": 15, "target": 6, "id": 631}, {"source": 13, "target": 5, "id": 1323}, {"source": 12, "target": 8, "id": 1523}, {"source": 12, "target": 9, "id": 2375}, {"source": 2, "target": 9, "id": 2772}]};
    (function (error, graph) {
            if (error) throw error;
        graph.nodes.forEach(function(d) { d.x = width*Math.random(); d.y = height*Math.random()});
        update(graph.links, graph.nodes);
        })(null, svg_graph);

    var edgelabels;

    function update(links, nodes) {
        link = svg.selectAll(".link")
            .data(links)
            .enter()
            .append("line")
            .attr("class", "link")
            .attr('marker-end','url(#arrowhead)');

        //link.append("title")
        //    .text(function (d) {return d.type;});

        edgepaths = svg.selectAll(".edgepath")
            .data(links)
            .enter()
            .append('path')
            .attrs({
                'class': 'edgepath',
                'fill-opacity': 0,
                'stroke-opacity': 0,
                'id': function (d, i) {return 'edgepath' + i}
            })
            .style("pointer-events", "none");

        edgelabels = svg.selectAll(".edgelabel")
            .data(links)
            .enter()
            .append('text')
            .style("pointer-events", "none")
            .attrs({
                'class': 'edgelabel',
                'id': function (d, i) {return 'edgelabel' + i},
                'font-size': 10,
                'fill': '#aaa'
            });

        edgelabels.append('textPath')
            .attr('xlink:href', function (d, i) {return '#edgepath' + i})
            .style("text-anchor", "middle")
            .style("pointer-events", "none")
            .attr("startOffset", "50%")
            .text(function (d) {return d.type});

        node = svg.selectAll(".node")
            .data(nodes)
            .enter()
            .append("g")
            .attr("class", "node")
            .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended)
            );

        node.append("a")
                .attr("xlink:href", function(node){return node.url})
            .append("circle")
                .attr("r", function(node){return node.val})
                .style("fill", function (d, i) {return colors(d.mod);})
                .style("stroke", "#FFF")

        node.append("title")
            .text(function (d) {return d.label;});

        node.append("text")
                //.attr("dx", function(node){return node.val+1})
                .attr("dy", +10)
                .attr("opacity", "0.5")
            .text(function (d) {arr = d.label.split('.'); return arr[arr.length-1]});

        svg_simulation
            .nodes(nodes)
            .on("tick", ticked);

        svg_simulation.force("link")
                .links(links)

    }

    function ticked() {
        link
            .attr("x1", function (d) {return d.source.x;})
            .attr("y1", function (d) {return d.source.y;})
            .attr("x2", function (d) {return d.target.x;})
            .attr("y2", function (d) {return d.target.y;});

        node
            .attr("transform", function (d) {return "translate(" + d.x + ", " + d.y + ")";});

        edgepaths.attr('d', function (d) {
            return 'M ' + d.source.x + ' ' + d.source.y + ' L ' + d.target.x + ' ' + d.target.y;
        });

        edgelabels.attr('transform', function (d) {
            if (d.target.x < d.source.x) {
                var bbox = this.getBBox();

                rx = bbox.x + bbox.width / 2;
                ry = bbox.y + bbox.height / 2;
                return 'rotate(180 ' + rx + ' ' + ry + ')';
            }
            else {
                return 'rotate(0)';
            }
        });
    }

    function dragstarted(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0.3).restart()
        d.fx = d.x;
        d.fy = d.y;
    }

    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }

    function dragended(d) {
        if (!d3.event.active) svg_simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
    }

</script>




</div>
</body>
</html>