<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
      // this should process only math inside  span with tex2jax_process class
      MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
          },
          "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=pandas>pandas</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/IPython/8.2.0/api/IPython.html">IPython</a>
<a href="/p/astropy/5.0/api/astropy.html">astropy</a>
<a href="/p/dask/2021.10.0/api/dask.html">dask</a>
<a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html">networkx</a>
<a href="/p/numpy/1.22.3/api/numpy.html">numpy</a>
<a href="/p/pandas/1.4.1/api/pandas.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
<a href="/p/scipy/1.8.0/api/scipy.html">scipy</a>
<a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/pandas/1.4.1/api/pandas.html'>1.4.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/pandas/1.4.1/api/pandas.html">1.4.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/pandas/1.4.1/api/pandas.html'>API</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/pandas/1.4.1/api/pandas.html">API</a>
                        <a href="/p/pandas/1.4.1/gallery">Gallery</a>
                        <a href="/p/pandas/1.4.1/examples">Examples</a>
                        <a href="/p/pandas/1.4.1/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.html'>pandas</a>.                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.io.html'>io</a>.                            <div class="dropdown-content">
<a href="/p/pandas/1.4.1/api/pandas.__dir__.html">__dir__</a>
<a href="/p/pandas/1.4.1/api/pandas.__getattr__.html">__getattr__</a>
<a href="/p/pandas/1.4.1/api/pandas._config.html">_config</a>
<a href="/p/pandas/1.4.1/api/pandas._libs.html">_libs</a>
<a href="/p/pandas/1.4.1/api/pandas._testing.html">_testing</a>
<a href="/p/pandas/1.4.1/api/pandas._typing.html">_typing</a>
<a href="/p/pandas/1.4.1/api/pandas._version.html">_version</a>
<a href="/p/pandas/1.4.1/api/pandas.api.html">api</a>
<a href="/p/pandas/1.4.1/api/pandas.arrays.html">arrays</a>
<a href="/p/pandas/1.4.1/api/pandas.compat.html">compat</a>
<a href="/p/pandas/1.4.1/api/pandas.core.html">core</a>
<a href="/p/pandas/1.4.1/api/pandas.errors.html">errors</a>
<a href="/p/pandas/1.4.1/api/pandas.io.html">io</a>
<a href="/p/pandas/1.4.1/api/pandas.plotting.html">plotting</a>
<a href="/p/pandas/1.4.1/api/pandas.testing.html">testing</a>
<a href="/p/pandas/1.4.1/api/pandas.tseries.html">tseries</a>
<a href="/p/pandas/1.4.1/api/pandas.util.html">util</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.io.stata.html'>stata</a>.                            <div class="dropdown-content">
<a href="/p/pandas/1.4.1/api/pandas.io.api.html">api</a>
<a href="/p/pandas/1.4.1/api/pandas.io.clipboards.html">clipboards</a>
<a href="/p/pandas/1.4.1/api/pandas.io.common.html">common</a>
<a href="/p/pandas/1.4.1/api/pandas.io.date_converters.html">date_converters</a>
<a href="/p/pandas/1.4.1/api/pandas.io.excel.html">excel</a>
<a href="/p/pandas/1.4.1/api/pandas.io.feather_format.html">feather_format</a>
<a href="/p/pandas/1.4.1/api/pandas.io.formats.html">formats</a>
<a href="/p/pandas/1.4.1/api/pandas.io.gbq.html">gbq</a>
<a href="/p/pandas/1.4.1/api/pandas.io.html.html">html</a>
<a href="/p/pandas/1.4.1/api/pandas.io.json.html">json</a>
<a href="/p/pandas/1.4.1/api/pandas.io.orc.html">orc</a>
<a href="/p/pandas/1.4.1/api/pandas.io.parquet.html">parquet</a>
<a href="/p/pandas/1.4.1/api/pandas.io.parsers.html">parsers</a>
<a href="/p/pandas/1.4.1/api/pandas.io.pickle.html">pickle</a>
<a href="/p/pandas/1.4.1/api/pandas.io.pytables.html">pytables</a>
<a href="/p/pandas/1.4.1/api/pandas.io.sas.html">sas</a>
<a href="/p/pandas/1.4.1/api/pandas.io.spss.html">spss</a>
<a href="/p/pandas/1.4.1/api/pandas.io.sql.html">sql</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.html">stata</a>
<a href="/p/pandas/1.4.1/api/pandas.io.xml.html">xml</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.io.stata.StataWriter117.html'>StataWriter117</a>.                            <div class="dropdown-content">
<a href="/p/pandas/1.4.1/api/pandas.io.stata.CategoricalConversionWarning.html">CategoricalConversionWarning</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.InvalidColumnName.html">InvalidColumnName</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.PossiblePrecisionLoss.html">PossiblePrecisionLoss</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataMissingValue.html">StataMissingValue</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataNonCatValueLabel.html">StataNonCatValueLabel</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataParser.html">StataParser</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataReader.html">StataReader</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataStrLWriter.html">StataStrLWriter</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataValueLabel.html">StataValueLabel</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter.html">StataWriter</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117.html">StataWriter117</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriterUTF8.html">StataWriterUTF8</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.ValueLabelTypeMismatch.html">ValueLabelTypeMismatch</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._cast_to_stata_types.html">_cast_to_stata_types</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._convert_datetime_to_stata_type.html">_convert_datetime_to_stata_type</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._datetime_to_stata_elapsed_vec.html">_datetime_to_stata_elapsed_vec</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._dtype_to_stata_type.html">_dtype_to_stata_type</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._dtype_to_stata_type_117.html">_dtype_to_stata_type_117</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._maybe_convert_to_int_keys.html">_maybe_convert_to_int_keys</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._pad_bytes.html">_pad_bytes</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._pad_bytes_new.html">_pad_bytes_new</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._set_endianness.html">_set_endianness</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata._stata_elapsed_date_to_datetime_vec.html">_stata_elapsed_date_to_datetime_vec</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.read_stata.html">read_stata</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" >+</a>                            <div class="dropdown-content">
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117.__init__.html">__init__</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._convert_strls.html">_convert_strls</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._set_formats_and_types.html">_set_formats_and_types</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._update_map.html">_update_map</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._update_strl_names.html">_update_strl_names</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_characteristics.html">_write_characteristics</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_data.html">_write_data</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_expansion_fields.html">_write_expansion_fields</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_file_close_tag.html">_write_file_close_tag</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_formats.html">_write_formats</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_header.html">_write_header</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_map.html">_write_map</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_sortlist.html">_write_sortlist</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_strls.html">_write_strls</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_value_label_names.html">_write_value_label_names</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_value_labels.html">_write_value_labels</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_variable_labels.html">_write_variable_labels</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_variable_types.html">_write_variable_types</a>
<a href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117._write_varnames.html">_write_varnames</a>
                            </div>
                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/pandas/1.4.1/img/logo_pandas.png"/>
    <a href="#">pandas</a>
    <a href="#">1.4.1</a>
    <hr/>
    <hr/>
<a href="#section-Parameters">Parameters</a><a href="#section-Raises">Raises</a><a href="#section-Returns">Returns</a>    </div><!--end sidenav-->







<!-- rendering Extended Summary -->
        <!-- rendering Notes -->
        <h3 id="section-Parameters">Parameters</h3>
<dl>
<dt><a id="fname">fname</a> : path (string), buffer or path object</dt>
<dd>
<p>string, path object (pathlib.Path or py._path.local.LocalPath) or object implementing a binary write() functions. If using a buffer then the buffer will not be automatically closed after the file is written.</p>

</dd>
<dt><a id="data">data</a> : DataFrame</dt>
<dd>
<p>Input to save</p>

</dd>
<dt><a id="convert_dates">convert_dates</a> : dict</dt>
<dd>
<p>Dictionary mapping columns containing datetime types to stata internal format to use when writing the dates. Options are &#39;tc&#39;, &#39;td&#39;, &#39;tm&#39;, &#39;tw&#39;, &#39;th&#39;, &#39;tq&#39;, &#39;ty&#39;. Column can be either an integer or a name. Datetime columns that do not have a conversion type specified will be converted to &#39;tc&#39;. Raises NotImplementedError if a datetime column has timezone information</p>

</dd>
<dt><a id="write_index">write_index</a> : bool</dt>
<dd>
<p>Write the index to Stata dataset.</p>

</dd>
<dt><a id="byteorder">byteorder</a> : str</dt>
<dd>
<p>Can be &#34;&gt;&#34;, &#34;&lt;&#34;, &#34;little&#34;, or &#34;big&#34;. default is <code>:None:None:`sys.byteorder`</code></p>

</dd>
<dt><a id="time_stamp">time_stamp</a> : datetime</dt>
<dd>
<p>A datetime to use as file creation date.  Default is the current time</p>

</dd>
<dt><a id="data_label">data_label</a> : str</dt>
<dd>
<p>A label for the data set.  Must be 80 characters or smaller.</p>

</dd>
<dt><a id="variable_labels">variable_labels</a> : dict</dt>
<dd>
<p>Dictionary containing columns as keys and variable labels as values. Each label must be 80 characters or smaller.</p>

</dd>
<dt><a id="convert_strl">convert_strl</a> : list</dt>
<dd>
<p>List of columns names to convert to Stata StrL format.  Columns with more than 2045 characters are automatically written as StrL. Smaller columns can be converted by including the column name.  Using StrLs can reduce output file size when strings are longer than 8 characters, and either frequently repeated or sparse.</p>

</dd>
<dt><a id="{compression_options}">{compression_options}</a> : </dt>
<dd>
            <div class='admonition'>
    <div>versionadded</div>
</div>


            <div class='admonition'>
    <div>versionchanged</div>
</div>


</dd>
<dt><a id="value_labels">value_labels</a> : dict of dicts</dt>
<dd>
<p>Dictionary containing columns as keys and dictionaries of column value to labels as values. The combined length of all labels for a single variable must be 32,000 characters or smaller.</p>

            <div class='admonition'>
    <div>versionadded</div>
</div>


</dd>
</dl>

<h3 id="section-Raises">Raises</h3>
<dl>
<dt>NotImplementedError</dt>
<dd>
           <ul>               <li>               <p>If datetimes contain timezone information</p>

</li>
            </ul>

</dd>
<dt>ValueError</dt>
<dd>
           <ul>               <li>               <p>Columns listed in convert_dates are neither datetime64[ns]   or datetime.datetime</p>

</li>
               <li>               <p>Column dtype is not representable in Stata</p>

</li>
               <li>               <p>Column listed in convert_dates is not in DataFrame</p>

</li>
               <li>               <p>Categorical label contains more than 32,000 characters</p>

</li>
            </ul>

</dd>
</dl>

<h3 id="section-Returns">Returns</h3>
<dl>
<dt><a id="writer">writer</a> : StataWriter117 instance</dt>
<dd>
<p>The StataWriter117 instance has a write_file method, which will write the file to the given <code>:None:None:`fname`</code>.</p>

</dd>
</dl>

<!-- rendering Summary -->
                       <p>A class for writing Stata binary dta files in Stata 13 format (117)</p>

<h3 id="section-Examples">Examples</h3>
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/pandas/1.4.1/api/pandas.html">pandas</a><span class="nn">.</span><a class="foo nn" href="/p/pandas/1.4.1/api/pandas.io.html">io</a><span class="nn">.</span><a class="foo nn" href="/p/pandas/1.4.1/api/pandas.io.stata.html">stata</a><span class=""> </span><span class="kn">import</span><span class=""> </span><a class="foo " href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117.html">StataWriter117</a><br><span class='nsl'>...&nbsp;</span><span class="">data</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">pd</span><span class="o">.</span><span class="">DataFrame</span><span class="">(</span><span class="">[</span><span class="">[</span><span class="mf">1.0</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">a</span><span class="s1">&#39;</span><span class="">]</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">columns</span><span class="o">=</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">a</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">b</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">c</span><span class="s1">&#39;</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117.html">writer</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117.html">StataWriter117</a><span class="">(</span><span class="s1">&#39;</span><span class="s1">./data_file.dta</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">data</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter117.html">writer</a><span class="o">.</span><a class="foo " href="/p/pandas/1.4.1/api/pandas.io.stata.StataWriter.write_file.html">write_file</a><span class="">(</span><span class="">)</span>
</pre>
            
                <p>Directly write a zip file &gt;&gt;&gt; compression = {&#34;method&#34;: &#34;zip&#34;, &#34;archive_name&#34;: &#34;data_file.dta&#34;} &gt;&gt;&gt; writer = StataWriter117(&#39;./data_file.zip&#39;, data, compression=compression) &gt;&gt;&gt; writer.write_file()</p>

            
                <p>Or with long strings stored in strl format &gt;&gt;&gt; data = pd.DataFrame([[&#39;A relatively long string&#39;], [&#39;&#39;], [&#39;&#39;]], ...                     columns=[&#39;strls&#39;]) &gt;&gt;&gt; writer = StataWriter117(&#39;./data_file_with_long_strings.dta&#39;, data, ...                         convert_strl=[&#39;strls&#39;]) &gt;&gt;&gt; writer.write_file()</p>

            
         See :
    


<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>

<hr>

    File: /pandas/io/stata.py#3091
<br/>

type: &lt;class &#39;type&#39;&gt; <br/>
Commit: <br/>

        <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
    <style type="text/css">
        .node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };
    </style>
<script>
    window._data_graph = {"nodes": [], "links": []};
</script>
<script type="text/javascript" src='/graph_canvas.js'></script>
<script type="text/javascript" src='/graph_svg.js'></script>


</div>
</body>
</html>