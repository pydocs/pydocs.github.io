<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
      // this should process only math inside  span with tex2jax_process class
      MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
          },
          "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=pandas>pandas</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/IPython/8.4.0/api/IPython.html">IPython</a>
<a href="/p/astropy/5.0/api/astropy.html">astropy</a>
<a href="/p/dask/2021.10.0/api/dask.html">dask</a>
<a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
<a href="/p/networkx/2.8.2/api/networkx.html">networkx</a>
<a href="/p/numpy/1.22.4/api/numpy.html">numpy</a>
<a href="/p/pandas/1.4.2/api/pandas.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
<a href="/p/readthedocs/8.1.1/api/readthedocs.html">readthedocs</a>
<a href="/p/scipy/1.8.0/api/scipy.html">scipy</a>
<a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/pandas/1.4.2/api/pandas.html'>1.4.2</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/pandas/1.4.2/api/pandas.html">1.4.2</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/pandas/1.4.2/api/pandas.html'>API</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/pandas/1.4.2/api/pandas.html">API</a>
                        <a href="/p/pandas/1.4.2/gallery">Gallery</a>
                        <a href="/p/pandas/1.4.2/examples">Examples</a>
                        <a href="/p/pandas/1.4.2/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.html'>pandas</a>.                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.core.html'>core</a>.                            <div class="dropdown-content">
<a href="/p/pandas/1.4.2/api/pandas.__dir__.html">__dir__</a>
<a href="/p/pandas/1.4.2/api/pandas.__getattr__.html">__getattr__</a>
<a href="/p/pandas/1.4.2/api/pandas._config.html">_config</a>
<a href="/p/pandas/1.4.2/api/pandas._libs.html">_libs</a>
<a href="/p/pandas/1.4.2/api/pandas._testing.html">_testing</a>
<a href="/p/pandas/1.4.2/api/pandas._typing.html">_typing</a>
<a href="/p/pandas/1.4.2/api/pandas._version.html">_version</a>
<a href="/p/pandas/1.4.2/api/pandas.api.html">api</a>
<a href="/p/pandas/1.4.2/api/pandas.arrays.html">arrays</a>
<a href="/p/pandas/1.4.2/api/pandas.compat.html">compat</a>
<a href="/p/pandas/1.4.2/api/pandas.core.html">core</a>
<a href="/p/pandas/1.4.2/api/pandas.errors.html">errors</a>
<a href="/p/pandas/1.4.2/api/pandas.io.html">io</a>
<a href="/p/pandas/1.4.2/api/pandas.plotting.html">plotting</a>
<a href="/p/pandas/1.4.2/api/pandas.testing.html">testing</a>
<a href="/p/pandas/1.4.2/api/pandas.tseries.html">tseries</a>
<a href="/p/pandas/1.4.2/api/pandas.util.html">util</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.core.computation.html'>computation</a>.                            <div class="dropdown-content">
<a href="/p/pandas/1.4.2/api/pandas.core._numba.html">_numba</a>
<a href="/p/pandas/1.4.2/api/pandas.core.accessor.html">accessor</a>
<a href="/p/pandas/1.4.2/api/pandas.core.algorithms.html">algorithms</a>
<a href="/p/pandas/1.4.2/api/pandas.core.api.html">api</a>
<a href="/p/pandas/1.4.2/api/pandas.core.apply.html">apply</a>
<a href="/p/pandas/1.4.2/api/pandas.core.array_algos.html">array_algos</a>
<a href="/p/pandas/1.4.2/api/pandas.core.arraylike.html">arraylike</a>
<a href="/p/pandas/1.4.2/api/pandas.core.arrays.html">arrays</a>
<a href="/p/pandas/1.4.2/api/pandas.core.base.html">base</a>
<a href="/p/pandas/1.4.2/api/pandas.core.common.html">common</a>
<a href="/p/pandas/1.4.2/api/pandas.core.computation.html">computation</a>
<a href="/p/pandas/1.4.2/api/pandas.core.config_init.html">config_init</a>
<a href="/p/pandas/1.4.2/api/pandas.core.construction.html">construction</a>
<a href="/p/pandas/1.4.2/api/pandas.core.describe.html">describe</a>
<a href="/p/pandas/1.4.2/api/pandas.core.dtypes.html">dtypes</a>
<a href="/p/pandas/1.4.2/api/pandas.core.flags.html">flags</a>
<a href="/p/pandas/1.4.2/api/pandas.core.frame.html">frame</a>
<a href="/p/pandas/1.4.2/api/pandas.core.generic.html">generic</a>
<a href="/p/pandas/1.4.2/api/pandas.core.groupby.html">groupby</a>
<a href="/p/pandas/1.4.2/api/pandas.core.indexers.html">indexers</a>
<a href="/p/pandas/1.4.2/api/pandas.core.indexes.html">indexes</a>
<a href="/p/pandas/1.4.2/api/pandas.core.indexing.html">indexing</a>
<a href="/p/pandas/1.4.2/api/pandas.core.internals.html">internals</a>
<a href="/p/pandas/1.4.2/api/pandas.core.missing.html">missing</a>
<a href="/p/pandas/1.4.2/api/pandas.core.nanops.html">nanops</a>
<a href="/p/pandas/1.4.2/api/pandas.core.ops.html">ops</a>
<a href="/p/pandas/1.4.2/api/pandas.core.reshape.html">reshape</a>
<a href="/p/pandas/1.4.2/api/pandas.core.roperator.html">roperator</a>
<a href="/p/pandas/1.4.2/api/pandas.core.sample.html">sample</a>
<a href="/p/pandas/1.4.2/api/pandas.core.series.html">series</a>
<a href="/p/pandas/1.4.2/api/pandas.core.shared_docs.html">shared_docs</a>
<a href="/p/pandas/1.4.2/api/pandas.core.sorting.html">sorting</a>
<a href="/p/pandas/1.4.2/api/pandas.core.strings.html">strings</a>
<a href="/p/pandas/1.4.2/api/pandas.core.tools.html">tools</a>
<a href="/p/pandas/1.4.2/api/pandas.core.util.html">util</a>
<a href="/p/pandas/1.4.2/api/pandas.core.window.html">window</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='pandas.core.computation.eval.html'>eval</a>                            <div class="dropdown-content">
<a href="/p/pandas/1.4.2/api/pandas.core.computation.eval._check_engine.html">_check_engine</a>
<a href="/p/pandas/1.4.2/api/pandas.core.computation.eval._check_expression.html">_check_expression</a>
<a href="/p/pandas/1.4.2/api/pandas.core.computation.eval._check_for_locals.html">_check_for_locals</a>
<a href="/p/pandas/1.4.2/api/pandas.core.computation.eval._check_parser.html">_check_parser</a>
<a href="/p/pandas/1.4.2/api/pandas.core.computation.eval._check_resolvers.html">_check_resolvers</a>
<a href="/p/pandas/1.4.2/api/pandas.core.computation.eval._convert_expression.html">_convert_expression</a>
<a href="/p/pandas/1.4.2/api/pandas.core.computation.eval.eval.html">eval</a>
                            </div>
                    </div><!--end dropdown-->
</nav>
    </header>
    <div class='container'>

    <div class="sidenav">
        <img src="/p/pandas/1.4.2/img/logo_pandas.png"/>
    <a href="#">pandas</a>
    <a href="#">1.4.2</a>
    <hr/>
    <hr/>
<a href="#section-Notes">Notes</a><a href="#section-Parameters">Parameters</a><a href="#section-Raises">Raises</a><a href="#section-Returns">Returns</a>    </div><!--end sidenav-->







<code class='signature'>eval(expr: &#39;str | BinOp&#39;, parser: &#39;str&#39; = &#39;pandas&#39;, engine: &#39;str | None&#39; = None, truediv=&lt;no_default&gt;, local_dict=None, global_dict=None, resolvers=(), level=0, target=None, inplace=False)</code><!-- rendering Extended Summary -->
                       <p>The following arithmetic operations are supported:         <code class='verbatim'>+</code>
,         <code class='verbatim'>-</code>
,         <code class='verbatim'>*</code>
,         <code class='verbatim'>/</code>
,         <code class='verbatim'>**</code>
,         <code class='verbatim'>%</code>
,         <code class='verbatim'>//</code>
 (python engine only) along with the following boolean operations:         <code class='verbatim'>|</code>
 (or),         <code class='verbatim'>&amp;</code>
 (and), and         <code class='verbatim'>~</code>
 (not). Additionally, the         <code class='verbatim'>&#39;pandas&#39;</code>
 parser allows the use of         <code class='verbatim'>and</code>
,         <code class='verbatim'>or</code>
, and         <code class='verbatim'>not</code>
 with the same semantics as the corresponding bitwise operators.          <code class='verbatim'>~pandas.Series</code>
 and         <code class='verbatim'>~pandas.DataFrame</code>
 objects are supported and behave as they would with plain ol&#39; Python evaluation.</p>

<h3 id="section-Notes">Notes</h3>
<!-- rendering Notes -->
                       <p>The         <code class='verbatim'>dtype</code>
 of any objects involved in an arithmetic         <code class='verbatim'>%</code>
 operation are recursively cast to         <code class='verbatim'>float64</code>
.</p>

               <p>See the         <code class='verbatim'>enhancing performance &lt;enhancingperf.eval&gt;</code>
 documentation for more details.</p>

<h3 id="section-Parameters">Parameters</h3>
<dl>
<dt><a id="expr">expr</a> : str</dt>
<dd>
<p>The expression to evaluate. This string cannot contain any Python <code class='not-implemented'>:None:None:`statements
&lt;https://docs.python.org/3/reference/simple_stmts.html#simple-statements&gt;`</code>, only Python <code class='not-implemented'>:None:None:`expressions
&lt;https://docs.python.org/3/reference/simple_stmts.html#expression-statements&gt;`</code>.</p>

</dd>
<dt><a id="parser">parser</a> : {&#39;pandas&#39;, &#39;python&#39;}, default &#39;pandas&#39;</dt>
<dd>
<p>The parser to use to construct the syntax tree from the expression. The default of         <code class='verbatim'>&#39;pandas&#39;</code>
 parses code slightly different than standard Python. Alternatively, you can parse an expression using the         <code class='verbatim'>&#39;python&#39;</code>
 parser to retain strict Python semantics.  See the         <code class='verbatim'>enhancing performance &lt;enhancingperf.eval&gt;</code>
 documentation for more details.</p>

</dd>
<dt><a id="engine">engine</a> : {&#39;python&#39;, &#39;numexpr&#39;}, default &#39;numexpr&#39;</dt>
<dd>
<p>The engine used to evaluate the expression. Supported engines are</p>

           <ul>               <li>               <!-- deflist -->
           <dl>
               <dt><p>None</p>
</dt>
               <dd><p>None</p>
</dd>
           </dl>

</li>
               <li>               <!-- deflist -->
           <dl>
               <dt><p>        <code class='verbatim'>&#39;python&#39;</code>
: Performs operations as if you had         <code class='verbatim'>eval</code>
&#39;d in top</p>
</dt>
               <dd><p>level python. This engine is generally not that useful.</p>
</dd>
           </dl>

</li>
            </ul>

<p>More backends may be available in the future.</p>

</dd>
<dt><a id="truediv">truediv</a> : bool, optional</dt>
<dd>
<p>Whether to use true division, like in Python &gt;= 3.</p>

            <div class='admonition'>
    <div>deprecated</div>
</div>


</dd>
<dt><a id="local_dict">local_dict</a> : dict or None, optional</dt>
<dd>
<p>A dictionary of local variables, taken from locals() by default.</p>

</dd>
<dt><a id="global_dict">global_dict</a> : dict or None, optional</dt>
<dd>
<p>A dictionary of global variables, taken from globals() by default.</p>

</dd>
<dt><a id="resolvers">resolvers</a> : list of dict-like or None, optional</dt>
<dd>
<p>A list of objects implementing the         <code class='verbatim'>__getitem__</code>
 special method that you can use to inject an additional collection of namespaces to use for variable lookup. For example, this is used in the         <code class='verbatim'>~DataFrame.query</code>
 method to inject the         <code class='verbatim'>DataFrame.index</code>
 and         <code class='verbatim'>DataFrame.columns</code>
 variables that refer to their respective         <code class='verbatim'>~pandas.DataFrame</code>
 instance attributes.</p>

</dd>
<dt><a id="level">level</a> : int, optional</dt>
<dd>
<p>The number of prior stack frames to traverse and add to the current scope. Most users will <strong>not</strong> need to change this parameter.</p>

</dd>
<dt><a id="target">target</a> : object, optional, default None</dt>
<dd>
<p>This is the target object for assignment. It is used when there is variable assignment in the expression. If so, then <code class='not-implemented'>:None:None:`target`</code> must support item assignment with string keys, and if a copy is being returned, it must also support <code><a href="/p/copy/*/api/copy.html.html" class='exists'>.copy()</a></code>
.</p>

</dd>
<dt><a id="inplace">inplace</a> : bool, default False</dt>
<dd>
<p>If <code class='not-implemented'>:None:None:`target`</code> is provided, and the expression mutates <code class='not-implemented'>:None:None:`target`</code>, whether to modify <code class='not-implemented'>:None:None:`target`</code> inplace. Otherwise, return a copy of <code class='not-implemented'>:None:None:`target`</code> with the mutation.</p>

</dd>
</dl>

<h3 id="section-Raises">Raises</h3>
<dl>
<dt>ValueError</dt>
<dd>
<p>There are many instances where such an error can be raised:</p>

           <ul>               <li>               <p><code class='not-implemented'>:None:None:`target=None`</code>, but the expression is multiline.</p>

</li>
               <li>               <p>The expression is multiline, but not all them have item assignment.   An example of such an arrangement is this:</p>

               <p>a = b + 1   a + 2</p>

               <p>Here, there are expressions on different lines, making it multiline,   but the last line has no variable assigned to the output of <code class='not-implemented'>:None:None:`a + 2`</code>.</p>

</li>
               <li>               <p><code class='not-implemented'>:None:None:`inplace=True`</code>, but the expression is missing item assignment.</p>

</li>
               <li>               <p>Item assignment is provided, but the <code class='not-implemented'>:None:None:`target`</code> does not support   string item assignment.</p>

</li>
               <li>               <p>Item assignment is provided and <code class='not-implemented'>:None:None:`inplace=False`</code>, but the <code class='not-implemented'>:None:None:`target`</code>   does not support the <code><a href="/p/copy/*/api/copy.html.html" class='exists'>.copy()</a></code>
 method</p>

</li>
            </ul>

</dd>
</dl>

<h3 id="section-Returns">Returns</h3>
<dl>
<dt>ndarray, numeric scalar, DataFrame, Series, or None</dt>
<dd>
<p>The completion value of evaluating the given code or None if         <code class='verbatim'>inplace=True</code>
.</p>

</dd>
</dl>

<!-- rendering Summary -->
                       <p>Evaluate a Python expression as a string using various backends.</p>

<h3> See Also</h3>
<dl>
            <dt><code><a href="/p/pandas/1.4.2/api/pandas.core.frame.DataFrame.eval.html" class='exists'>DataFrame.eval</a></code>
</dt>
            <!-- This See also will be incorrect as the SeeAlsoItems are improperly deserialised. -->
            <dd>        <p>Evaluate a string describing operations on DataFrame columns.</p>
</dd>
        </dl>
<dl>
            <dt><code><a href="/p/pandas/1.4.2/api/pandas.core.frame.DataFrame.query.html" class='exists'>DataFrame.query</a></code>
</dt>
            <!-- This See also will be incorrect as the SeeAlsoItems are improperly deserialised. -->
            <dd>        <p>Evaluates a boolean expression to query the columns of a frame.</p>
</dd>
        </dl>
<h3 id="section-Examples">Examples</h3>
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="">df</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">pd</span><span class="o">.</span><span class="">DataFrame</span><span class="">(</span><span class="">{</span><span class="s2">&#34;</span><span class="s2">animal</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="">[</span><span class="s2">&#34;</span><span class="s2">dog</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">pig</span><span class="s2">&#34;</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">age</span><span class="s2">&#34;</span><span class="">:</span><span class=""> </span><span class="">[</span><span class="mi">10</span><span class="">,</span><span class=""> </span><span class="mi">20</span><span class="">]</span><span class="">}</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">df</span>
  animal  age
0    dog   10
1    pig   20</pre>
            
                <p>We can add a new column using         <code class='verbatim'>pd.eval</code>
:</p>

            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="">pd</span><span class="o">.</span><span class="">eval</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">double_age = df.age * 2</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">target</span><span class="o">=</span><span class="">df</span><span class="">)</span>
  animal  age  double_age
0    dog   10          20
1    pig   20          40</pre>
            
         See :
    


<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>

<hr>

    File: /pandas/core/computation/eval.py#166
<br/>

type: &lt;class &#39;function&#39;&gt; <br/>
Commit: <br/>

        <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
    <style type="text/css">
        .node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };
    </style>
<script>
    window._data_graph = {"nodes": [{"id": 1, "val": 11.0, "label": "copy", "mod": "copy", "url": "/p/copy/*/api/copy"}, {"id": 2, "val": 9.732050807568877, "label": "pandas.core.frame.DataFrame.eval", "mod": "pandas", "url": "/p/pandas/1.4.2/api/pandas.core.frame.DataFrame.eval"}, {"id": 3, "val": 9.414213562373096, "label": "pandas.core.frame.DataFrame.query", "mod": "pandas", "url": "/p/pandas/1.4.2/api/pandas.core.frame.DataFrame.query"}], "links": [{"source": 3, "target": 2, "id": 10}, {"source": 2, "target": 3, "id": 12}]};
</script>
<script type="text/javascript" src='/graph_canvas.js'></script>
<script type="text/javascript" src='/graph_svg.js'></script>


</div>
</body>
</html>