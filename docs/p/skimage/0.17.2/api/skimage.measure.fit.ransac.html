<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=skimage>skimage</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/IPython/8.3.0.dev/api/IPython.html">IPython</a>
<a href="/p/astropy/5.0/api/astropy.html">astropy</a>
<a href="/p/dask/2021.10.0/api/dask.html">dask</a>
<a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html">networkx</a>
<a href="/p/numpy/1.22.3/api/numpy.html">numpy</a>
<a href="/p/pandas/1.4.1/api/pandas.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
<a href="/p/scipy/1.8.0/api/scipy.html">scipy</a>
<a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/skimage/0.17.2/api/skimage.html'>0.17.2</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/skimage/0.17.2/api/skimage.html">0.17.2</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/skimage/0.17.2/api/skimage.html'>API</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/skimage/0.17.2/api/skimage.html">API</a>
                        <a href="/p/skimage/0.17.2/gallery">Gallery</a>
                        <a href="/p/skimage/0.17.2/examples">Examples</a>
                        <a href="/p/skimage/0.17.2/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='skimage.html'>skimage</a>.                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='skimage.measure.html'>measure</a>.                            <div class="dropdown-content">
<a href="/p/skimage/0.17.2/api/skimage._raise_build_error.html">_raise_build_error</a>
<a href="/p/skimage/0.17.2/api/skimage._shared.html">_shared</a>
<a href="/p/skimage/0.17.2/api/skimage.color.html">color</a>
<a href="/p/skimage/0.17.2/api/skimage.data.html">data</a>
<a href="/p/skimage/0.17.2/api/skimage.draw.html">draw</a>
<a href="/p/skimage/0.17.2/api/skimage.exposure.html">exposure</a>
<a href="/p/skimage/0.17.2/api/skimage.feature.html">feature</a>
<a href="/p/skimage/0.17.2/api/skimage.filters.html">filters</a>
<a href="/p/skimage/0.17.2/api/skimage.graph.html">graph</a>
<a href="/p/skimage/0.17.2/api/skimage.io.html">io</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.html">measure</a>
<a href="/p/skimage/0.17.2/api/skimage.metrics.html">metrics</a>
<a href="/p/skimage/0.17.2/api/skimage.morphology.html">morphology</a>
<a href="/p/skimage/0.17.2/api/skimage.restoration.html">restoration</a>
<a href="/p/skimage/0.17.2/api/skimage.segmentation.html">segmentation</a>
<a href="/p/skimage/0.17.2/api/skimage.transform.html">transform</a>
<a href="/p/skimage/0.17.2/api/skimage.util.html">util</a>
<a href="/p/skimage/0.17.2/api/skimage.viewer.html">viewer</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='skimage.measure.fit.html'>fit</a>.                            <div class="dropdown-content">
<a href="/p/skimage/0.17.2/api/skimage.measure._ccomp.html">_ccomp</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._find_contours.html">_find_contours</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._find_contours_cy.html">_find_contours_cy</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._label.html">_label</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._marching_cubes_classic.html">_marching_cubes_classic</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._marching_cubes_classic_cy.html">_marching_cubes_classic_cy</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._marching_cubes_lewiner.html">_marching_cubes_lewiner</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._marching_cubes_lewiner_cy.html">_marching_cubes_lewiner_cy</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._marching_cubes_lewiner_luts.html">_marching_cubes_lewiner_luts</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._moments.html">_moments</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._moments_cy.html">_moments_cy</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._pnpoly.html">_pnpoly</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._polygon.html">_polygon</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._regionprops.html">_regionprops</a>
<a href="/p/skimage/0.17.2/api/skimage.measure._structural_similarity.html">_structural_similarity</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.block.html">block</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.entropy.html">entropy</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit.html">fit</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.pnpoly.html">pnpoly</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.profile.html">profile</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.simple_metrics.html">simple_metrics</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='skimage.measure.fit.ransac.html'>ransac</a>                            <div class="dropdown-content">
<a href="/p/skimage/0.17.2/api/skimage.measure.fit.BaseModel.html">BaseModel</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit.CircleModel.html">CircleModel</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit.EllipseModel.html">EllipseModel</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit.LineModelND.html">LineModelND</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit._check_data_atleast_2D.html">_check_data_atleast_2D</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit._check_data_dim.html">_check_data_dim</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit._dynamic_max_trials.html">_dynamic_max_trials</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit._norm_along_axis.html">_norm_along_axis</a>
<a href="/p/skimage/0.17.2/api/skimage.measure.fit.ransac.html">ransac</a>
                            </div>
                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/skimage/0.17.2/img/skimage-logo.png"/>
    <a href="#">skimage</a>
    <a href="#">0.17.2</a>
    <hr/>
    <hr/>
<a href="#section-Parameters">Parameters</a><a href="#section-Returns">Returns</a><a href="#section-backrefs">BackRef</a>
    </div><!--end sidenav-->







<code class='signature'>ransac(data, model_class, min_samples, residual_threshold, is_data_valid=None, is_model_valid=None, max_trials=100, stop_sample_num=inf, stop_residuals_sum=0, stop_probability=1, random_state=None, initial_inliers=None)</code><!-- rendering Extended Summary -->
                       <p>RANSAC is an iterative algorithm for the robust estimation of parameters from a subset of inliers from the complete data set. Each iteration performs the following tasks:</p>

                          <ol>               <li>               <p>Select <code><a link href="#min_samples" class='local'>min_samples</a></code> random samples from the original data and check    whether the set of data is valid (see <code><a link href="#is_data_valid" class='local'>is_data_valid</a></code>).</p>

</li>
               <li>               <p>Estimate a model to the random subset    (<code>:None:None:`model_cls.estimate(*data[random_subset]`</code>) and check whether the    estimated model is valid (see <code><a link href="#is_model_valid" class='local'>is_model_valid</a></code>).</p>

</li>
               <li>               <p>Classify all data as inliers or outliers by calculating the residuals    to the estimated model (<code>:None:None:`model_cls.residuals(*data)`</code>) - all data samples    with residuals smaller than the <code><a link href="#residual_threshold" class='local'>residual_threshold</a></code> are considered as    inliers.</p>

</li>
               <li>               <p>Save estimated model as best model if number of inlier samples is    maximal. In case the current estimated model has the same number of    inliers, it is only considered as the best model if it has less sum of    residuals.</p>

</li>
            </ol>

               <p>These steps are performed either a maximum number of times or until one of the special stop criteria are met. The final model is estimated using all inlier samples of the previously determined best model.</p>


<!-- rendering Notes -->
        
<h3 id="section-Parameters">Parameters</h3>
<dl>
<dt><a id="data">data</a> : [list, tuple of] (N, ...) array</dt>
<dd>
<p>Data set to which the model is fitted, where N is the number of data points and the remaining dimension are depending on model requirements. If the model class requires multiple input data arrays (e.g. source and destination coordinates of          <code class='verbatim'>skimage.transform.AffineTransform</code>
), they can be optionally passed as tuple or list. Note, that in this case the functions         <code class='verbatim'>estimate(*data)</code>
,         <code class='verbatim'>residuals(*data)</code>
,         <code class='verbatim'>is_model_valid(model, *random_data)</code>
 and         <code class='verbatim'>is_data_valid(*random_data)</code>
 must all take each data array as separate arguments.</p>

</dd>
<dt><a id="model_class">model_class</a> : object</dt>
<dd>
<p>Object with the following object methods:</p>

            <pre>* ``success = estimate(*data)``
* ``residuals(*data)``
</pre>


<p>where <code>:None:None:`success`</code> indicates whether the model estimation succeeded (        <code class='verbatim'>True</code>
 or         <code class='verbatim'>None</code>
 for success,         <code class='verbatim'>False</code>
 for failure).</p>

</dd>
<dt><a id="min_samples">min_samples</a> : int in range (0, N)</dt>
<dd>
<p>The minimum number of data points to fit a model to.</p>

</dd>
<dt><a id="residual_threshold">residual_threshold</a> : float larger than 0</dt>
<dd>
<p>Maximum distance for a data point to be classified as an inlier.</p>

</dd>
<dt><a id="is_data_valid">is_data_valid</a> : function, optional</dt>
<dd>
<p>This function is called with the randomly selected data before the model is fitted to it: <code>:None:None:`is_data_valid(*random_data)`</code>.</p>

</dd>
<dt><a id="is_model_valid">is_model_valid</a> : function, optional</dt>
<dd>
<p>This function is called with the estimated model and the randomly selected data: <code>:None:None:`is_model_valid(model, *random_data)`</code>, .</p>

</dd>
<dt><a id="max_trials">max_trials</a> : int, optional</dt>
<dd>
<p>Maximum number of iterations for random sample selection.</p>

</dd>
<dt><a id="stop_sample_num">stop_sample_num</a> : int, optional</dt>
<dd>
<p>Stop iteration if at least this number of inliers are found.</p>

</dd>
<dt><a id="stop_residuals_sum">stop_residuals_sum</a> : float, optional</dt>
<dd>
<p>Stop iteration if sum of residuals is less than or equal to this threshold.</p>

</dd>
<dt><a id="stop_probability">stop_probability</a> : float in range [0, 1], optional</dt>
<dd>
<p>RANSAC iteration stops if at least one outlier-free set of the training data is sampled with         <code class='verbatim'>probability &gt;= stop_probability</code>
, depending on the current best model&#39;s inlier ratio and the number of trials. This requires to generate at least N samples (trials):</p>

            <pre>N &gt;= log(1 - probability) / log(1 - e**m)
</pre>


<p>where the probability (confidence) is typically set to a high value such as 0.99, e is the current fraction of inliers w.r.t. the total number of samples, and m is the min_samples value.</p>

</dd>
<dt><a id="random_state">random_state</a> : int, RandomState instance or None, optional</dt>
<dd>
<p>If int, random_state is the seed used by the random number generator; If RandomState instance, random_state is the random number generator; If None, the random number generator is the RandomState instance used by <code>:None:None:`np.random`</code>.</p>

</dd>
<dt><a id="initial_inliers">initial_inliers</a> : array-like of bool, shape (N,), optional</dt>
<dd>
<p>Initial samples selection for model estimation</p>

</dd>
</dl>

<h3 id="section-Returns">Returns</h3>
<dl>
<dt><a id="model">model</a> : object</dt>
<dd>
<p>Best model with largest consensus set.</p>

</dd>
<dt><a id="inliers">inliers</a> : (N, ) array</dt>
<dd>
<p>Boolean mask of inliers classified as         <code class='verbatim'>True</code>
.</p>

</dd>
</dl>

<!-- rendering Summary -->
                       <p>Fit a model to data with the RANSAC (random sample consensus) algorithm.</p>


<h3 id="section-Examples">Examples</h3>
                <p>Generate ellipse data without tilt and add noise:</p>

            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.linspace.html">linspace</a><span class="">(</span><a class="foo mi" href="/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000.html">0</a><span class="">,</span><span class=""> </span><span class="mi">2</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><span class="">pi</span><span class="">,</span><span class=""> </span><span class="mi">50</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">xc</span><span class="">,</span><span class=""> </span><span class="">yc</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo mi" href="/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000.html">20</a><span class="">,</span><span class=""> </span><span class="mi">30</span><br><span class='nsl'>...&nbsp;</span><span class="">a</span><span class="">,</span><span class=""> </span><span class="">b</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">5</span><span class="">,</span><span class=""> </span><span class="mi">10</span><br><span class='nsl'>...&nbsp;</span><span class="">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">xc</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">a</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><span class="">cos</span><span class="">(</span><span class="">t</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">yc</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">b</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><span class="">sin</span><span class="">(</span><span class="">t</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.column_stack.html">column_stack</a><span class="">(</span><span class="">[</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.random.html">random</a><span class="o">.</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.util._regular_grid.regular_seeds.html">seed</a><span class="">(</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.util._regular_grid.regular_seeds.html">seed</a><span class="o">=</span><span class="mi">1234</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.random.html">random</a><span class="o">.</span><span class="">normal</span><span class="">(</span><span class="">size</span><span class="o">=</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class="o">.</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.util.shape.html">shape</a><span class="">)</span>
</pre>
            
                <p>Add some faulty data:</p>

            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class="">[</span><a class="foo mi" href="/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000.html">0</a><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="mi">100</span><span class="">,</span><span class=""> </span><span class="mi">100</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class="">[</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="mi">110</span><span class="">,</span><span class=""> </span><span class="mi">120</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class="">[</span><span class="mi">2</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="mi">120</span><span class="">,</span><span class=""> </span><span class="mi">130</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class="">[</span><span class="mi">3</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="mi">140</span><span class="">,</span><span class=""> </span><span class="mi">130</span><span class="">)</span>
</pre>
            
                <p>Estimate ellipse model using all available data:</p>

            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="">model</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.measure.fit.EllipseModel.html">EllipseModel</a><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">model</span><span class="o">.</span><span class="">estimate</span><span class="">(</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.data.html">data</a><span class="">)</span>
True</pre>
            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.round_.html">round</a><span class="">(</span><span class="">model</span><span class="o">.</span><span class="">params</span><span class="">)</span><span class="">  </span><span class="c1"># doctest: +SKIP</span>
array([ 72.,  75.,  77.,  14.,   1.])</pre>
            
                <p>Estimate ellipse model using RANSAC:</p>

            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="">ransac_model</span><span class="">,</span><span class=""> </span><span class="">inliers</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.measure.fit.ransac.html">ransac</a><span class="">(</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.ndarray.html">data</a><span class="">,</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.measure.fit.EllipseModel.html">EllipseModel</a><span class="">,</span><span class=""> </span><a class="foo mi" href="/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000.html">20</a><span class="">,</span><span class=""> </span><span class="mi">3</span><span class="">,</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.measure.fit._dynamic_max_trials.html">max_trials</a><span class="o">=</span><span class="mi">50</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo nb" href="/p/skimage/0.17.2/api/skimage.filters.ridges._sortbyabs.html">abs</a><span class="">(</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.round_.html">round</a><span class="">(</span><span class="">ransac_model</span><span class="o">.</span><span class="">params</span><span class="">)</span><span class="">)</span>
array([20., 30.,  5., 10.,  0.])</pre>
            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="">inliers</span><span class=""> </span><span class="c1"># doctest: +SKIP</span>
array([False, False, False, False,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True], dtype=bool)</pre>
            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><a class="foo nb" href="/p/skimage/0.17.2/api/skimage.filters.rank.generic.sum.html">sum</a><span class="">(</span><span class="">inliers</span><span class="">)</span><span class=""> </span><a class="foo o" href="/p/skimage/0.17.2/api/skimage.io.collection.imread_collection_wrapper.&lt;locals&gt;.imread_collection.html">&gt;</a><span class=""> </span><span class="mi">40</span>
True</pre>
            
                <p>RANSAC can be used to robustly estimate a geometric transformation. In this section, we also show how to use a proportion of the total samples, rather than an absolute number.</p>

            
<span class='note'>This example is valid syntax, but we were not able to check execution</span><pre class='highlight compiled'><span class='nsl'>&gt;&gt;&gt; </span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/skimage/0.17.2/api/skimage.html">skimage</a><span class="nn">.</span><a class="foo nn" href="/p/skimage/0.17.2/api/skimage.transform.html">transform</a><span class=""> </span><span class="kn">import</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.transform._geometric.SimilarityTransform.html">SimilarityTransform</a><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.random.html">random</a><span class="o">.</span><a class="foo " href="/p/skimage/0.17.2/api/skimage.util._regular_grid.regular_seeds.html">seed</a><span class="">(</span><a class="foo mi" href="/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000.html">0</a><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">src</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">100</span><span class=""> </span><span class="o">*</span><span class=""> </span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.random.html">random</a><span class="o">.</span><span class="">rand</span><span class="">(</span><span class="mi">50</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">model0</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.transform._geometric.SimilarityTransform.html">SimilarityTransform</a><span class="">(</span><span class="">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="">,</span><span class=""> </span><span class="">rotation</span><span class="o">=</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="">translation</span><span class="o">=</span><span class="">(</span><span class="mi">10</span><span class="">,</span><span class=""> </span><a class="foo mi" href="/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000.html">20</a><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">dst</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">model0</span><span class="">(</span><span class="">src</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">dst</span><span class="">[</span><a class="foo mi" href="/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000.html">0</a><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="mi">10000</span><span class="">,</span><span class=""> </span><span class="mi">10000</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">dst</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="o">-</span><span class="mi">100</span><span class="">,</span><span class=""> </span><span class="mi">100</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">dst</span><span class="">[</span><span class="mi">2</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="mi">50</span><span class="">,</span><span class=""> </span><span class="mi">50</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ratio</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mf">0.5</span><span class="">  </span><span class="c1"># use half of the samples</span><br><span class='nsl'>...&nbsp;</span><span class="">min_samples</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">int</span><span class="">(</span><span class="">ratio</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="nb">len</span><span class="">(</span><span class="">src</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">model</span><span class="">,</span><span class=""> </span><span class="">inliers</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.measure.fit.ransac.html">ransac</a><span class="">(</span><span class="">(</span><span class="">src</span><span class="">,</span><span class=""> </span><span class="">dst</span><span class="">)</span><span class="">,</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.transform._geometric.SimilarityTransform.html">SimilarityTransform</a><span class="">,</span><span class=""> </span><span class="">min_samples</span><span class="">,</span><span class=""> </span><span class="mi">10</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                        </span><span class="">initial_inliers</span><span class="o">=</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/1.22.3/api/numpy.ones.html">ones</a><span class="">(</span><span class="nb">len</span><span class="">(</span><span class="">src</span><span class="">)</span><span class="">,</span><span class=""> </span><a class="foo " href="/p/skimage/0.17.2/api/skimage.util.dtype.html">dtype</a><span class="o">=</span><a class="foo nb" href="/p/skimage/0.17.2/api/skimage.util.dtype.img_as_bool.html">bool</a><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">inliers</span>
array([False, False, False,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True,  True])</pre>
            
         See :
    

    <h3 id='section-backrefs'>Back References</h3>
    <p>The following pages refer to to this document either explicitly or contain code examples using this.</p>

        <code><a link href="/p/skimage/0.17.2/api/skimage.measure.fit.ransac.html" class='exists'>skimage.measure.fit.ransac</a></code>

<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>

<hr>

    File: /skimage/measure/fit.py#620
<br/>

type: &lt;class &#39;function&#39;&gt; <br/>
Commit: <br/>

        <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
    <style type="text/css">
        .node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };
    </style>
<script>
    window._data_graph = {"nodes": [{"id": 1, "val": 10.23606797749979, "label": "numpy.column_stack", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.column_stack"}, {"id": 2, "val": 11.60555127546399, "label": "skimage.transform", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.transform"}, {"id": 3, "val": 17.643650760992955, "label": "skimage.data", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.data"}, {"id": 4, "val": 15.615773105863909, "label": "skimage.util.dtype", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.util.dtype"}, {"id": 5, "val": 14.70820393249937, "label": "skimage.util.shape", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.util.shape"}, {"id": 6, "val": 20.96148139681572, "label": "skimage", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage"}, {"id": 7, "val": 9.732050807568877, "label": "skimage.filters.rank.generic.sum", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.filters.rank.generic.sum"}, {"id": 8, "val": 12.898979485566356, "label": "skimage.io.collection.imread_collection_wrapper.<locals>.imread_collection", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.io.collection.imread_collection_wrapper.<locals>.imread_collection"}, {"id": 9, "val": 46.0, "label": "numpy", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy"}, {"id": 10, "val": 9.414213562373096, "label": "skimage.measure.fit.EllipseModel", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.measure.fit.EllipseModel"}, {"id": 11, "val": 19.357816691600547, "label": "numpy.random", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.random"}, {"id": 12, "val": 10.64575131106459, "label": "skimage.util.dtype.img_as_bool", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.util.dtype.img_as_bool"}, {"id": 13, "val": 9.732050807568877, "label": "skimage.transform._geometric.SimilarityTransform", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.transform._geometric.SimilarityTransform"}, {"id": 14, "val": 10.449489742783179, "label": "skimage.util._regular_grid.regular_seeds", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.util._regular_grid.regular_seeds"}, {"id": 15, "val": 10.449489742783179, "label": "numpy.round_", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.round_"}, {"id": 16, "val": 20.767145334803704, "label": "numpy.linspace", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.linspace"}, {"id": 17, "val": 14.70820393249937, "label": "numpy.ones", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.ones"}, {"id": 18, "val": 9.732050807568877, "label": "skimage.filters.ridges._sortbyabs", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.filters.ridges._sortbyabs"}, {"id": 19, "val": 18.0, "label": "skimage.color.delta_e.deltaE_ciede2000", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.color.delta_e.deltaE_ciede2000"}, {"id": 21, "val": 9.0, "label": "skimage.measure.fit._dynamic_max_trials", "mod": "skimage", "url": "/p/skimage/0.17.2/api/skimage.measure.fit._dynamic_max_trials"}, {"id": 22, "val": 32.899799195977465, "label": "numpy.ndarray", "mod": "numpy", "url": "/p/numpy/1.22.3/api/numpy.ndarray"}], "links": [{"source": 4, "target": 7, "id": 35}, {"source": 9, "target": 22, "id": 475}, {"source": 9, "target": 10, "id": 652}, {"source": 9, "target": 7, "id": 794}, {"source": 18, "target": 10, "id": 1802}, {"source": 6, "target": 7, "id": 1945}, {"source": 22, "target": 10, "id": 2310}, {"source": 22, "target": 7, "id": 2571}, {"source": 19, "target": 10, "id": 2630}, {"source": 19, "target": 7, "id": 2709}, {"source": 15, "target": 10, "id": 2773}, {"source": 16, "target": 10, "id": 2803}]};
</script>
<script type="text/javascript" src='/graph_canvas.js'></script>
<script type="text/javascript" src='/graph_svg.js'></script>


</div>
</body>
</html>