<!doctypehtml><html lang=en><meta charset=UTF-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Document</title><link href=https://fonts.xz.style/serve/inter.css rel=stylesheet><link crossorigin=anonymous href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css rel=stylesheet><script type=text/x-mathjax-config>
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script><script async src=https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js></script><link href=/papyri.css rel=stylesheet><style>header > brand, header>:first-child {
        border-right: 1px solid #ccc;
        border-left: 1px solid #ccc;
        padding: 16px;
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
        display: inline-block; 
        width: 167px;
    }
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */</style></head><body class=tex2jax_ignore><header><brand><i class="fab fa-python"></i><a href=/>Home</a></brand><nav>/ <a href=/>p</a>  /  <div class=dropdown><a href=skimage>skimage</a> /  <div class=dropdown-content><a href=/p/IPython/8.2.0.dev/api/IPython.html>IPython</a><a href=/p/astropy/5.0/api/astropy.html>astropy</a><a href=/p/dask/2021.10.0/api/dask.html>dask</a><a href=/p/distributed/2021.10.0/api/distributed.html>distributed</a><a href=/p/matplotlib/3.5.1/api/matplotlib.html>matplotlib</a><a href=/p/networkx/2.7.2rc1.dev0/api/networkx.html>networkx</a><a href=/p/numpy/1.22.3/api/numpy.html>numpy</a><a href=/p/pandas/1.4.1/api/pandas.html>pandas</a><a href=/p/papyri/0.0.8/api/papyri.html>papyri</a><a href=/p/scipy/1.8.0/api/scipy.html>scipy</a><a href=/p/skimage/0.17.2/api/skimage.html>skimage</a></div></div><div class=dropdown><a href=/p/skimage/0.17.2/api/skimage.html>0.17.2</a> /  <div class=dropdown-content><a href=/p/skimage/0.17.2/api/skimage.html>0.17.2</a></div></div><div class=dropdown><a href=/p/skimage/0.17.2/api/skimage.html>api</a> /  <div class=dropdown-content><a href=/p/skimage/0.17.2/api/skimage.html>API</a><a href=/p/skimage/0.17.2/gallery>Gallery</a><a href=/p/skimage/0.17.2/examples>Examples</a></div></div><div class=dropdown><a class=dropbtn href=skimage.html>skimage</a>.</div><div class=dropdown><a class=dropbtn href=skimage.feature.html>feature</a>. <div class=dropdown-content><a href=/p/skimage/0.17.2/api/skimage._raise_build_error.html>_raise_build_error</a><a href=/p/skimage/0.17.2/api/skimage._shared.html>_shared</a><a href=/p/skimage/0.17.2/api/skimage.color.html>color</a><a href=/p/skimage/0.17.2/api/skimage.data.html>data</a><a href=/p/skimage/0.17.2/api/skimage.draw.html>draw</a><a href=/p/skimage/0.17.2/api/skimage.exposure.html>exposure</a><a href=/p/skimage/0.17.2/api/skimage.feature.html>feature</a><a href=/p/skimage/0.17.2/api/skimage.filters.html>filters</a><a href=/p/skimage/0.17.2/api/skimage.graph.html>graph</a><a href=/p/skimage/0.17.2/api/skimage.io.html>io</a><a href=/p/skimage/0.17.2/api/skimage.measure.html>measure</a><a href=/p/skimage/0.17.2/api/skimage.metrics.html>metrics</a><a href=/p/skimage/0.17.2/api/skimage.morphology.html>morphology</a><a href=/p/skimage/0.17.2/api/skimage.restoration.html>restoration</a><a href=/p/skimage/0.17.2/api/skimage.segmentation.html>segmentation</a><a href=/p/skimage/0.17.2/api/skimage.transform.html>transform</a><a href=/p/skimage/0.17.2/api/skimage.util.html>util</a><a href=/p/skimage/0.17.2/api/skimage.viewer.html>viewer</a></div></div><div class=dropdown><a class=dropbtn href=skimage.feature._canny.html>_canny</a>. <div class=dropdown-content><a href=/p/skimage/0.17.2/api/skimage.feature._canny.html>_canny</a><a href=/p/skimage/0.17.2/api/skimage.feature._cascade.html>_cascade</a><a href=/p/skimage/0.17.2/api/skimage.feature._daisy.html>_daisy</a><a href=/p/skimage/0.17.2/api/skimage.feature._haar.html>_haar</a><a href=/p/skimage/0.17.2/api/skimage.feature._hessian_det_appx.html>_hessian_det_appx</a><a href=/p/skimage/0.17.2/api/skimage.feature._hog.html>_hog</a><a href=/p/skimage/0.17.2/api/skimage.feature._hoghistogram.html>_hoghistogram</a><a href=/p/skimage/0.17.2/api/skimage.feature._orb_descriptor_positions.html>_orb_descriptor_positions</a><a href=/p/skimage/0.17.2/api/skimage.feature._texture.html>_texture</a><a href=/p/skimage/0.17.2/api/skimage.feature.blob.html>blob</a><a href=/p/skimage/0.17.2/api/skimage.feature.brief.html>brief</a><a href=/p/skimage/0.17.2/api/skimage.feature.brief_cy.html>brief_cy</a><a href=/p/skimage/0.17.2/api/skimage.feature.censure.html>censure</a><a href=/p/skimage/0.17.2/api/skimage.feature.censure_cy.html>censure_cy</a><a href=/p/skimage/0.17.2/api/skimage.feature.corner.html>corner</a><a href=/p/skimage/0.17.2/api/skimage.feature.corner_cy.html>corner_cy</a><a href=/p/skimage/0.17.2/api/skimage.feature.haar.html>haar</a><a href=/p/skimage/0.17.2/api/skimage.feature.masked_register_translation.html>masked_register_translation</a><a href=/p/skimage/0.17.2/api/skimage.feature.match.html>match</a><a href=/p/skimage/0.17.2/api/skimage.feature.orb.html>orb</a><a href=/p/skimage/0.17.2/api/skimage.feature.orb_cy.html>orb_cy</a><a href=/p/skimage/0.17.2/api/skimage.feature.peak.html>peak</a><a href=/p/skimage/0.17.2/api/skimage.feature.register_translation.html>register_translation</a><a href=/p/skimage/0.17.2/api/skimage.feature.template.html>template</a><a href=/p/skimage/0.17.2/api/skimage.feature.texture.html>texture</a><a href=/p/skimage/0.17.2/api/skimage.feature.util.html>util</a></div></div><div class=dropdown><a class=dropbtn href=skimage.feature._canny.canny.html>canny</a><div class=dropdown-content><a href=/p/skimage/0.17.2/api/skimage.feature._canny.canny.html>canny</a><a href=/p/skimage/0.17.2/api/skimage.feature._canny.smooth_with_function_and_mask.html>smooth_with_function_and_mask</a></div></div></nav></header><div class=container><div class=sidenav><img src=/p/skimage/0.17.2/img/logo.png><a href=#>skimage</a><a href=#>0.17.2</a><hr><hr><a href=#section-Notes>Notes</a><a href=#section-Parameters>Parameters</a><a href=#section-Returns>Returns</a><a href=#section-backrefs>BackRef</a></div><code class=signature>canny(image, sigma=1.0, low_threshold=None, high_threshold=None, mask=None, use_quantiles=False)</code><h3 id=section-Notes>Notes</h3><p>The steps of the algorithm are as follows:</p><ul><li><p>Smooth the image using a Gaussian with <code class=verbatim>sigma</code> width.</p></li></ul><ul><li><p>Apply the horizontal and vertical Sobel operators to get the gradients within the image. The edge strength is the norm of the gradient.</p></li></ul><ul><li><p>Thin potential edges to 1-pixel wide curves. First, find the normal to the edge at each point. This is done by looking at the signs and the relative magnitude of the X-Sobel and Y-Sobel to sort the points into 4 categories: horizontal, vertical, diagonal and antidiagonal. Then look in the normal and reverse directions to see if the values in either of those directions are greater than the point in question. Use interpolation to get a mix of points instead of picking the one that's the closest to the normal.</p></li></ul><ul><li><p>Perform a hysteresis thresholding: first label all points above the high threshold as edges. Then recursively label any point above the low threshold that is 8-connected to a labeled point as an edge.</p></li></ul><h3 id=section-Parameters>Parameters</h3><dl><dt><a id=image>image</a> : 2D array</dt><dd><p>Grayscale input image to detect edges on; can be of any dtype.</p></dd><dt><a id=sigma>sigma</a> : float, optional</dt><dd><p>Standard deviation of the Gaussian filter.</p></dd><dt><a id=low_threshold>low_threshold</a> : float, optional</dt><dd><p>Lower bound for hysteresis thresholding (linking edges). If None, low_threshold is set to 10% of dtype's max.</p></dd><dt><a id=high_threshold>high_threshold</a> : float, optional</dt><dd><p>Upper bound for hysteresis thresholding (linking edges). If None, high_threshold is set to 20% of dtype's max.</p></dd><dt><a id=mask>mask</a> : array, dtype=bool, optional</dt><dd><p>Mask to limit the application of Canny to a certain area.</p></dd><dt><a id=use_quantiles>use_quantiles</a> : bool, optional</dt><dd><p>If True then treat low_threshold and high_threshold as quantiles of the edge magnitude image, rather than absolute edge magnitude values. If True then the thresholds must be in the range [0, 1].</p></dd></dl><h3 id=section-Returns>Returns</h3><dl><dt><a id=output>output</a> : 2D array (image)</dt><dd><p>The binary edge map.</p></dd></dl><p>Edge filter an image using the Canny algorithm.</p><h3 id=section-Examples>Examples</h3><span class=note>This example is valid syntax, but we were not able to check execution</span><pre class="highlight compiled"><span class=nsl>>>> </span><span class=kn>from</span><span> </span><a class="foo nn"href=/p/skimage/0.17.2/api/skimage.html>skimage</a><span> </span><span class=kn>import</span><span> </span><a class=foo href=/p/skimage/0.17.2/api/skimage.feature.html>feature</a><br><span class=nsl>... </span><span class=c1># Generate noisy image of a square</span><br><span class=nsl>... </span><a class=foo href=/p/numpy/1.22.3/api/numpy.ndarray.html>im</a><span> </span><span class=o>=</span><span> </span><a class=foo href=/p/numpy/1.22.3/api/numpy.html>np</a><span class=o>.</span><a class=foo href=/p/numpy/1.22.3/api/numpy.zeros.html>zeros</a><span>(</span><span>(</span><span class=mi>256</span><span>,</span><span> </span><span class=mi>256</span><span>)</span><span>)</span><br><span class=nsl>... </span><a class=foo href=/p/numpy/1.22.3/api/numpy.ndarray.html>im</a><span>[</span><a class="foo mi"href=/p/skimage/0.17.2/api/skimage.util.dtype.img_as_float64.html>64</a><span>:</span><span class=o>-</span><a class="foo mi"href=/p/skimage/0.17.2/api/skimage.util.dtype.img_as_float64.html>64</a><span>,</span><span> </span><a class="foo mi"href=/p/skimage/0.17.2/api/skimage.util.dtype.img_as_float64.html>64</a><span>:</span><span class=o>-</span><a class="foo mi"href=/p/skimage/0.17.2/api/skimage.util.dtype.img_as_float64.html>64</a><span>]</span><span> </span><span class=o>=</span><span> </span><span class=mi>1</span><br><span class=nsl>... </span><span>im</span><span> </span><span class=o>+</span><span class=o>=</span><span> </span><span class=mf>0.2</span><span> </span><span class=o>*</span><span> </span><a class=foo href=/p/numpy/1.22.3/api/numpy.html>np</a><span class=o>.</span><a class=foo href=/p/numpy/1.22.3/api/numpy.random.html>random</a><span class=o>.</span><span>rand</span><span>(</span><span class=o>*</span><a class=foo href=/p/numpy/1.22.3/api/numpy.ndarray.html>im</a><span class=o>.</span><a class=foo href=/p/skimage/0.17.2/api/skimage.util.shape.html>shape</a><span>)</span><br><span class=nsl>... </span><span class=c1># First trial with the Canny filter, with the default smoothing</span><br><span class=nsl>... </span><span>edges1</span><span> </span><span class=o>=</span><span> </span><a class=foo href=/p/skimage/0.17.2/api/skimage.feature.html>feature</a><span class=o>.</span><a class=foo href=/p/skimage/0.17.2/api/skimage.feature._canny.canny.html>canny</a><span>(</span><span>im</span><span>)</span><br><span class=nsl>... </span><span class=c1># Increase the smoothing for better results</span><br><span class=nsl>... </span><span>edges2</span><span> </span><span class=o>=</span><span> </span><a class=foo href=/p/skimage/0.17.2/api/skimage.feature.html>feature</a><span class=o>.</span><a class=foo href=/p/skimage/0.17.2/api/skimage.feature._canny.canny.html>canny</a><span>(</span><span>im</span><span>,</span><span> </span><span>sigma</span><span class=o>=</span><span class=mi>3</span><span>)</span>
</pre> See : <h3 id=section-backrefs>Back References</h3><p>The following pages refer to to this document either explicitly or contain code examples using this.</p><code><a class=exists href=/p/skimage/0.17.2/api/skimage.feature._canny.canny.html link>skimage.feature._canny.canny</a></code><h3>Local connectivity graph</h3><p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p><p>Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows or text (beyond on hover)</p><canvas class=graph height=500 width=800></canvas><p>SVG is more flexible but power hungry; and does not scale well to 50 + nodes.</p><svg class=graph height=500 width=600></svg><p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted (or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library they belong to, and scaled with the number of references pointing them</p><hr> File: /skimage/feature/_canny.py#53 <br> type: &LTclass 'function'> <br> Commit: <br><script src=https://d3js.org/d3.v4.min.js></script><script src=https://d3js.org/d3-selection-multi.v1.js></script><style>.node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };</style><script>window._data_graph={nodes:[{id:1,val:20.922847983320086,label:"skimage",mod:"skimage",url:"/p/skimage/0.17.2/api/skimage"},{id:2,val:13.099019513592784,label:"skimage.feature",mod:"skimage",url:"/p/skimage/0.17.2/api/skimage.feature"},{id:3,val:14.928203230275509,label:"skimage.util.shape",mod:"skimage",url:"/p/skimage/0.17.2/api/skimage.util.shape"},{id:4,val:19.18033988749895,label:"numpy.zeros",mod:"numpy",url:"/p/numpy/1.22.3/api/numpy.zeros"},{id:5,val:33.96150997149434,label:"numpy.ndarray",mod:"numpy",url:"/p/numpy/1.22.3/api/numpy.ndarray"},{id:7,val:44,label:"numpy",mod:"numpy",url:"/p/numpy/1.22.3/api/numpy"},{id:8,val:9.732050807568877,label:"skimage.util.dtype.img_as_float64",mod:"skimage",url:"/p/skimage/0.17.2/api/skimage.util.dtype.img_as_float64"},{id:9,val:19.269427669584644,label:"numpy.random",mod:"numpy",url:"/p/numpy/1.22.3/api/numpy.random"}],links:[{source:7,target:5,id:1170},{source:8,target:1,id:1497},{source:4,target:5,id:1522}]};</script><script src=/graph_canvas.js></script><script src=/graph_svg.js></script></div></body></html>