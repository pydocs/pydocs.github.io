<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
      // this should process only math inside  span with tex2jax_process class
      MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
          },
          "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=IPython>IPython</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/IPython/8.4.0/api/IPython'>8.4.0</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/IPython/8.4.0/api/IPython">8.4.0</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/IPython/8.4.0/api/IPython'>docs</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/IPython/8.4.0/api/IPython">API</a>
                        <a href="/p/IPython/8.4.0/gallery">Gallery</a>
                        <a href="/p/IPython/8.4.0/examples">Examples</a>
                        <a href="/p/IPython/8.4.0/docs">Narrative</a>
                     </div>
                </div>

</nav>
    </header>
    <div class='container'>

    <div class="sidenav">
        <img src="/p/IPython/8.4.0/img/ipython-logo.png"/>
    <a href="#">IPython</a>
    <a href="#">8.4.0</a>
        <a class='external'  href="https://pypi.org/project/ipython">Pypi</a>
        <a class='external' href="https://github.com/IPython/IPython">GitHub</a>
        <a class='external' href="https://ipython.org/">Homepage</a>
    <hr/>
        <a class='external' href="https://ipython.readthedocs.org/">Other Docs</a>
    <hr/>
    </div><!--end sidenav-->







                          <pre class='not-implemented'>
            &lt;Unimplemented &#39;target&#39; &#39;.. _ipython_as_shell:&#39;&gt;
           </pre>

                           <div class='admonition'>
    <div>note</div>
        <p>This page has been kept for historical reason. You most likely want to use <code class='not-implemented'>:None:None:`Xonsh &lt;https://xon.sh/&gt;`</code> instead of this.</p>

</div>



<h1>IPython as a system shell</h1>

<h2>Overview</h2>
               <p>It is possible to adapt IPython for system shell usage. In the past, IPython shipped a special &#39;sh&#39; profile for this purpose, but it had been quarantined since 0.11 release, and in 1.0 it was removed altogether. Nevertheless, much of this section relies on machinery which does not require a custom profile.</p>

               <p>You can set up your own &#39;sh&#39;         <code class='verbatim'>profile &lt;Profiles&gt;</code>
 to be different from the default profile such that:</p>

                           <blockquote>           <ul>               <li>               <p>Prompt shows the current directory (see <code class='not-implemented'>:None:None:`Prompt customization`</code>)</p>

</li>
               <li>               <p>Make system commands directly available (in alias table) by running the            <code class='verbatim'>%rehashx</code>
 magic. If you install new programs along your PATH, you might    want to run         <code class='verbatim'>%rehashx</code>
 to update the alias table</p>

</li>
               <li>               <p>turn         <code class='verbatim'>%autocall</code>
 to full mode</p>

</li>
            </ul>
</blockquote>


<h2>Environment variables</h2>
               <p>Rather than manipulating os.environ directly, you may like to use the magic <code class='not-implemented'>:None:None:`%env`</code> command.  With no arguments, this displays all environment variables and values.  To get the value of a specific variable, use <code class='not-implemented'>:None:None:`%env var`</code>.  To set the value of a specific variable, use <code class='not-implemented'>:None:None:`%env foo bar`</code>, <code class='not-implemented'>:None:None:`%env foo=bar`</code>.  By default values are considered to be strings so quoting them is unnecessary. However, Python variables are expanded as usual in the magic command, so <code class='not-implemented'>:None:None:`%env foo=$bar`</code> means &#34;set the environment variable foo to the value of the Python variable <code class='not-implemented'>:None:None:`bar`</code>&#34;.</p>


<h2>Aliases</h2>
               <p>Once you run         <code class='verbatim'>%rehashx</code>
, all of your $PATH has been loaded as IPython aliases, so you should be able to type any normal system command and have it executed. See         <code class='verbatim'>%alias?</code>
  and         <code class='verbatim'>%unalias?</code>
 for details on the alias facilities. See also         <code class='verbatim'>%rehashx?</code>
 for details on the mechanism used to load $PATH.</p>

                           <div class='admonition'>
    <div>warning</div>
        <p>See info at the top of the page. You most likely want to use <code class='not-implemented'>:None:None:`Xonsh &lt;https://xon.sh/&gt;`</code> instead of this.</p>

</div>



<h2>Directory management</h2>
               <p>Since each command passed by IPython to the underlying system is executed in a subshell which exits immediately, you can NOT use !cd to navigate the filesystem.</p>

               <p>IPython provides its own builtin         <code class='verbatim'>%cd</code>
 magic command to move in the filesystem (the % is not required with automagic on). It also maintains a list of visited directories (use         <code class='verbatim'>%dhist</code>
 to see it) and allows direct switching to any of them. Type         <code class='verbatim'>cd?</code>
 for more details.</p>

               <p>        <code class='verbatim'>%pushd</code>
,         <code class='verbatim'>%popd</code>
 and         <code class='verbatim'>%dirs</code>
 are provided for directory stack handling.</p>


<h2>Prompt customization</h2>
               <p>See         <code class='verbatim'>custom_prompts</code>
.</p>

                          <pre class='not-implemented'>
            &lt;Unimplemented &#39;target&#39; &#39;.. _string_lists:&#39;&gt;
           </pre>


<h2>String lists</h2>
               <p>String lists (IPython.utils.text.SList) are handy way to process output from system commands. They are produced by         <code class='verbatim'>var = !cmd</code>
 syntax.</p>

               <p>First, we acquire the output of &#39;ls -l&#39;:      </p>

               <pre>[Q:doc/examples]|2&gt; lines = !ls -l
 ==
[&#39;total 23&#39;,
 &#39;-rw-rw-rw- 1 ville None 1163 Sep 30  2006 example-demo.py&#39;,
 &#39;-rw-rw-rw- 1 ville None 1927 Sep 30  2006 example-embed-short.py&#39;,
 &#39;-rwxrwxrwx 1 ville None 4606 Sep  1 17:15 example-embed.py&#39;,
 &#39;-rwxrwxrwx 1 ville None 1017 Sep 30  2006 example-gnuplot.py&#39;,
 &#39;-rwxrwxrwx 1 ville None  339 Jun 11 18:01 extension.py&#39;,
 &#39;-rwxrwxrwx 1 ville None  113 Dec 20  2006 seteditor.py&#39;,
 &#39;-rwxrwxrwx 1 ville None  245 Dec 12  2006 seteditor.pyc&#39;]</pre>
               <p>Now, let&#39;s take a look at the contents of &#39;lines&#39; (the first number is the list element number):      </p>

               <pre>[Q:doc/examples]|3&gt; lines
                &lt;3&gt; SList (.p, .n, .l, .s, .grep(), .fields() available). Value:

0: total 23
1: -rw-rw-rw- 1 ville None 1163 Sep 30  2006 example-demo.py
2: -rw-rw-rw- 1 ville None 1927 Sep 30  2006 example-embed-short.py
3: -rwxrwxrwx 1 ville None 4606 Sep  1 17:15 example-embed.py
4: -rwxrwxrwx 1 ville None 1017 Sep 30  2006 example-gnuplot.py
5: -rwxrwxrwx 1 ville None  339 Jun 11 18:01 extension.py
6: -rwxrwxrwx 1 ville None  113 Dec 20  2006 seteditor.py
7: -rwxrwxrwx 1 ville None  245 Dec 12  2006 seteditor.pyc</pre>
               <p>Now, let&#39;s filter out the &#39;embed&#39; lines:      </p>

               <pre>[Q:doc/examples]|4&gt; l2 = lines.grep(&#39;embed&#39;,prune=1)
[Q:doc/examples]|5&gt; l2
                &lt;5&gt; SList (.p, .n, .l, .s, .grep(), .fields() available). Value:

0: total 23
1: -rw-rw-rw- 1 ville None 1163 Sep 30  2006 example-demo.py
2: -rwxrwxrwx 1 ville None 1017 Sep 30  2006 example-gnuplot.py
3: -rwxrwxrwx 1 ville None  339 Jun 11 18:01 extension.py
4: -rwxrwxrwx 1 ville None  113 Dec 20  2006 seteditor.py
5: -rwxrwxrwx 1 ville None  245 Dec 12  2006 seteditor.pyc</pre>
               <p>Now, we want strings having just file names and permissions:      </p>

               <pre>[Q:doc/examples]|6&gt; l2.fields(8,0)
                &lt;6&gt; SList (.p, .n, .l, .s, .grep(), .fields() available). Value:

0: total
1: example-demo.py -rw-rw-rw-
2: example-gnuplot.py -rwxrwxrwx
3: extension.py -rwxrwxrwx
4: seteditor.py -rwxrwxrwx
5: seteditor.pyc -rwxrwxrwx</pre>
               <p>Note how the line with &#39;total&#39; does not raise IndexError.</p>

               <p>If you want to split these (yielding lists), call fields() without arguments:      </p>

               <pre>[Q:doc/examples]|7&gt; _.fields()
                &lt;7&gt;
[[&#39;total&#39;],
 [&#39;example-demo.py&#39;, &#39;-rw-rw-rw-&#39;],
 [&#39;example-gnuplot.py&#39;, &#39;-rwxrwxrwx&#39;],
 [&#39;extension.py&#39;, &#39;-rwxrwxrwx&#39;],
 [&#39;seteditor.py&#39;, &#39;-rwxrwxrwx&#39;],
 [&#39;seteditor.pyc&#39;, &#39;-rwxrwxrwx&#39;]]</pre>
               <p>If you want to pass these separated with spaces to a command (typical for lists if files), use the .s property:       </p>

               <pre>[Q:doc/examples]|13&gt; files = l2.fields(8).s
[Q:doc/examples]|14&gt; files
                &lt;14&gt; &#39;example-demo.py example-gnuplot.py extension.py seteditor.py seteditor.pyc&#39;
[Q:doc/examples]|15&gt; ls $files
example-demo.py  example-gnuplot.py  extension.py  seteditor.py  seteditor.pyc</pre>
               <p>SLists are inherited from normal Python lists, so every list method is available:      </p>

               <pre>[Q:doc/examples]|21&gt; lines.append(&#39;hey&#39;)</pre>

<h3>Real world example: remove all files outside version control</h3>
               <p>First, capture output of &#34;hg status&#34;:      </p>

               <pre>[Q:/ipython]|28&gt; out = !hg status
 ==
[&#39;M IPython\\extensions\\ipy_kitcfg.py&#39;,
 &#39;M IPython\\extensions\\ipy_rehashdir.py&#39;,
...
 &#39;? build\\lib\\IPython\\Debugger.py&#39;,
 &#39;? build\\lib\\IPython\\extensions\\InterpreterExec.py&#39;,
 &#39;? build\\lib\\IPython\\extensions\\InterpreterPasteInput.py&#39;,
...</pre>
               <p>(lines starting with ? are not under version control).</p>

               <pre>[Q:/ipython]|35&gt; junk = out.grep(r&#39;^\?&#39;).fields(1)
[Q:/ipython]|36&gt; junk
            &lt;36&gt; SList (.p, .n, .l, .s, .grep(), .fields() availab
...
10: build\bdist.win32\winexe\temp\_ctypes.py
11: build\bdist.win32\winexe\temp\_hashlib.py
12: build\bdist.win32\winexe\temp\_socket.py</pre>
               <p>Now we can just remove these files by doing &#39;rm $junk.s&#39;.</p>


<h3>The .n, .s, .p properties</h3>
               <p>Properties of <a link href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.utils.text.html?highlight=SList#IPython.utils.text.SList" class='external'>SList</a> wrapper provide a convenient ways to use contained text in different formats:</p>

                          <ul>               <li>               <p>        <code class='verbatim'>.n</code>
 returns (original) string with lines separated by a newline</p>

</li>
               <li>               <p>        <code class='verbatim'>.s</code>
 returns string with lines separated by single space (for   convenient passing to system commands)</p>

</li>
               <li>               <p>        <code class='verbatim'>.p</code>
 returns list of &#34;path&#34; objects from detected file names</p>

</li>
            </ul>

               <pre class='not-implemented'>
.. error:: 
    You went too far scroll back up. You most likely want to use
    `Xonsh &lt;https://xon.sh/&gt;`__ instead of this.</pre>



<h3 id="section-Examples">Examples</h3>
         See :
    


<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>

<hr>

    GitHub : <a class='external' href='https://github.com/IPython/IPython/blob/8.2.0/None#LNone'>None#None</a>
<br/>

type: None <br/>
Commit: <br/>

        <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
    <style type="text/css">
        .node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };
    </style>
<script>
    window._data_graph = {};
</script>
<script type="text/javascript" src='/graph_canvas.js'></script>
<script type="text/javascript" src='/graph_svg.js'></script>


</div>
</body>
</html>