<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=networkx>networkx</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/IPython/8.3.0.dev/api/IPython.html">IPython</a>
<a href="/p/astropy/5.0/api/astropy.html">astropy</a>
<a href="/p/dask/2021.10.0/api/dask.html">dask</a>
<a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html">networkx</a>
<a href="/p/numpy/1.22.3/api/numpy.html">numpy</a>
<a href="/p/pandas/1.4.1/api/pandas.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
<a href="/p/scipy/1.8.0/api/scipy.html">scipy</a>
<a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/networkx/2.7.2rc1.dev0/api/networkx.html'>2.7.2rc1.dev0</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html">2.7.2rc1.dev0</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/networkx/2.7.2rc1.dev0/api/networkx.html'>API</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html">API</a>
                        <a href="/p/networkx/2.7.2rc1.dev0/gallery">Gallery</a>
                        <a href="/p/networkx/2.7.2rc1.dev0/examples">Examples</a>
                        <a href="/p/networkx/2.7.2rc1.dev0/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='networkx.html'>networkx</a>.                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='networkx.linalg.html'>linalg</a>.                            <div class="dropdown-content">
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.__getattr__.html">__getattr__</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.algorithms.html">algorithms</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.classes.html">classes</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.convert.html">convert</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.convert_matrix.html">convert_matrix</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.drawing.html">drawing</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.exception.html">exception</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.generators.html">generators</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.lazy_imports.html">lazy_imports</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.html">linalg</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.readwrite.html">readwrite</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.relabel.html">relabel</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.testing.html">testing</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.utils.html">utils</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='networkx.linalg.attrmatrix.html'>attrmatrix</a>.                            <div class="dropdown-content">
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.algebraicconnectivity.html">algebraicconnectivity</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.html">attrmatrix</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.bethehessianmatrix.html">bethehessianmatrix</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.graphmatrix.html">graphmatrix</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.laplacianmatrix.html">laplacianmatrix</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.modularitymatrix.html">modularitymatrix</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.spectrum.html">spectrum</a>
                            </div>
                    </div><!--end dropdown-->
                    <div class="dropdown">
                            <a class="dropbtn" href='networkx.linalg.attrmatrix.attr_matrix.html'>attr_matrix</a>                            <div class="dropdown-content">
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix._edge_value.html">_edge_value</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix._node_value.html">_node_value</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.attr_matrix.html">attr_matrix</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.attr_sparse_matrix.html">attr_sparse_matrix</a>
                            </div>
                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/networkx/2.7.2rc1.dev0/img/nx.png"/>
    <a href="#">networkx</a>
    <a href="#">2.7.2rc1.dev0</a>
        <a class='external'  href="https://pypi.org/project/networkx">Pypi</a>
        <a class='external' href="https://github.com/networkx/networkx">GitHub</a>
        <a class='external' href="https://networkx.org/">Homepage</a>
    <hr/>
        <a class='external' href="https://networkx.org/documentation/stable/">Other Docs</a>
    <hr/>
<a href="#section-Other Parameters">Other Parameters</a><a href="#section-Parameters">Parameters</a><a href="#section-Returns">Returns</a><a href="#section-backrefs">BackRef</a>
    </div><!--end sidenav-->







<code class='signature'>attr_matrix(G, edge_attr=None, node_attr=None, normalized=False, rc_order=None, dtype=None, order=None)</code><!-- rendering Extended Summary -->
                       <p>If only <code><a link href="#G" class='local'>G</a></code> is passed in, then the adjacency matrix is constructed.</p>

               <p>Let A be a discrete set of values for the node attribute <code><a link href="#node_attr" class='local'>node_attr</a></code>. Then the elements of A represent the rows and columns of the constructed matrix. Now, iterate through every edge e=(u,v) in <code><a link href="#G" class='local'>G</a></code> and consider the value of the edge attribute <code><a link href="#edge_attr" class='local'>edge_attr</a></code>.  If ua and va are the values of the node attribute <code><a link href="#node_attr" class='local'>node_attr</a></code> for u and v, respectively, then the value of the edge attribute is added to the matrix element at (ua, va).</p>


<!-- rendering Notes -->
        
<h3 id="section-Other Parameters">Other Parameters</h3>
<dl>
<dt><a id="dtype">dtype</a> : NumPy data-type, optional</dt>
<dd>
<p>A valid NumPy dtype used to initialize the array. Keep in mind certain dtypes can yield unexpected results if the array is to be normalized. The parameter is passed to numpy.zeros(). If unspecified, the NumPy default is used.</p>

</dd>
<dt><a id="order">order</a> : {&#39;C&#39;, &#39;F&#39;}, optional</dt>
<dd>
<p>Whether to store multidimensional data in C- or Fortran-contiguous (row- or column-wise) order in memory. This parameter is passed to numpy.zeros(). If unspecified, the NumPy default is used.</p>

</dd>
</dl>

<h3 id="section-Parameters">Parameters</h3>
<dl>
<dt><a id="G">G</a> : graph</dt>
<dd>
<p>The NetworkX graph used to construct the NumPy matrix.</p>

</dd>
<dt><a id="edge_attr">edge_attr</a> : str, optional</dt>
<dd>
<p>Each element of the matrix represents a running total of the specified edge attribute for edges whose node attributes correspond to the rows/cols of the matirx. The attribute must be present for all edges in the graph. If no attribute is specified, then we just count the number of edges whose node attributes correspond to the matrix element.</p>

</dd>
<dt><a id="node_attr">node_attr</a> : str, optional</dt>
<dd>
<p>Each row and column in the matrix represents a particular value of the node attribute.  The attribute must be present for all nodes in the graph. Note, the values of this attribute should be reliably hashable. So, float values are not recommended. If no attribute is specified, then the rows and columns will be the nodes of the graph.</p>

</dd>
<dt><a id="normalized">normalized</a> : bool, optional</dt>
<dd>
<p>If True, then each row is normalized by the summation of its values.</p>

</dd>
<dt><a id="rc_order">rc_order</a> : list, optional</dt>
<dd>
<p>A list of the node attribute values. This list specifies the ordering of rows and columns of the array. If no ordering is provided, then the ordering will be random (and also, a return value).</p>

</dd>
</dl>

<h3 id="section-Returns">Returns</h3>
<dl>
<dt><a id="M">M</a> : NumPy matrix</dt>
<dd>
<p>The attribute matrix.</p>

</dd>
<dt><a id="ordering">ordering</a> : list</dt>
<dd>
<p>If <code><a link href="#rc_order" class='local'>rc_order</a></code> was specified, then only the matrix is returned. However, if <code><a link href="#rc_order" class='local'>rc_order</a></code> was None, then the ordering used to construct the matrix is returned as well.</p>

</dd>
</dl>

<!-- rendering Summary -->
                       <p>Returns a NumPy matrix using attributes from G.</p>


<h3 id="section-Examples">Examples</h3>
                <p>Construct an adjacency matrix:</p>

            
<pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">G</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">nx</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.classes.graph.Graph.html">Graph</a><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">G</span><span class="o">.</span><span class="">add_edge</span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="">thickness</span><span class="o">=</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="">weight</span><span class="o">=</span><a class="foo mi" href="/p/networkx/2.7.2rc1.dev0/api/networkx.generators.degree_seq.DegreeSequenceRandomGraph.phase3.html">3</a><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">G</span><span class="o">.</span><span class="">add_edge</span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="">thickness</span><span class="o">=</span><span class="mi">2</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">G</span><span class="o">.</span><span class="">add_edge</span><span class="">(</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="">thickness</span><span class="o">=</span><a class="foo mi" href="/p/networkx/2.7.2rc1.dev0/api/networkx.generators.degree_seq.DegreeSequenceRandomGraph.phase3.html">3</a><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">nx</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.attr_matrix.html">attr_matrix</a><span class="">(</span><span class="">G</span><span class="">,</span><span class=""> </span><span class="">rc_order</span><span class="o">=</span><span class="">[</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">]</span><span class="">)</span>
matrix([[0., 1., 1.],
        [1., 0., 1.],
        [1., 1., 0.]])</pre>
            
                <p>Alternatively, we can obtain the matrix describing edge thickness.</p>

            
<pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">nx</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.attr_matrix.html">attr_matrix</a><span class="">(</span><span class="">G</span><span class="">,</span><span class=""> </span><span class="">edge_attr</span><span class="o">=</span><span class="s2">&#34;</span><span class="s2">thickness</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">rc_order</span><span class="o">=</span><span class="">[</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">]</span><span class="">)</span>
matrix([[0., 1., 2.],
        [1., 0., 3.],
        [2., 3., 0.]])</pre>
            
                <p>We can also color the nodes and ask for the probability distribution over all edges (u,v) describing:</p>

            
                            <pre>Pr(v has color Y | u has color X)
</pre>


            
<pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">G</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.classes.function.nodes.html">nodes</a><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="">[</span><span class="s2">&#34;</span><a class="foo s2" href="/p/networkx/2.7.2rc1.dev0/api/networkx.algorithms.bipartite.basic.color.html">color</a><span class="s2">&#34;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">red</span><span class="s2">&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="">G</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.classes.function.nodes.html">nodes</a><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="">[</span><span class="s2">&#34;</span><a class="foo s2" href="/p/networkx/2.7.2rc1.dev0/api/networkx.algorithms.bipartite.basic.color.html">color</a><span class="s2">&#34;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">red</span><span class="s2">&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="">G</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.classes.function.nodes.html">nodes</a><span class="">[</span><span class="mi">2</span><span class="">]</span><span class="">[</span><span class="s2">&#34;</span><a class="foo s2" href="/p/networkx/2.7.2rc1.dev0/api/networkx.algorithms.bipartite.basic.color.html">color</a><span class="s2">&#34;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">blue</span><span class="s2">&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="">rc</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="s2">&#34;</span><span class="s2">red</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">blue</span><span class="s2">&#34;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">nx</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.attr_matrix.html">attr_matrix</a><span class="">(</span><span class="">G</span><span class="">,</span><span class=""> </span><span class="">node_attr</span><span class="o">=</span><span class="s2">&#34;</span><a class="foo s2" href="/p/networkx/2.7.2rc1.dev0/api/networkx.algorithms.bipartite.basic.color.html">color</a><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">normalized</span><span class="o">=</span><span class="kc">True</span><span class="">,</span><span class=""> </span><span class="">rc_order</span><span class="o">=</span><span class="">rc</span><span class="">)</span>
matrix([[0.33333333, 0.66666667],
        [1.        , 0.        ]])</pre>
            
                <p>For example, the above tells us that for all edges (u,v):</p>

            
                            <pre>Pr( v is red  | u is red)  = 1/3
Pr( v is blue | u is red)  = 2/3
</pre>


            
                            <pre>Pr( v is red  | u is blue) = 1
Pr( v is blue | u is blue) = 0
</pre>


            
                <p>Finally, we can obtain the total weights listed by the node colors.</p>

            
<pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="">nx</span><span class="o">.</span><a class="foo " href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.attr_matrix.html">attr_matrix</a><span class="">(</span><span class="">G</span><span class="">,</span><span class=""> </span><span class="">edge_attr</span><span class="o">=</span><span class="s2">&#34;</span><span class="s2">weight</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">node_attr</span><span class="o">=</span><span class="s2">&#34;</span><a class="foo s2" href="/p/networkx/2.7.2rc1.dev0/api/networkx.algorithms.bipartite.basic.color.html">color</a><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">rc_order</span><span class="o">=</span><span class="">rc</span><span class="">)</span>
matrix([[3., 2.],
        [2., 0.]])</pre>
            
                <p>Thus, the total weight over all edges (u,v) with u and v having colors:</p>

            
                            <pre>(red, red)   is 3   # the sole contribution is from edge (0,1)
(red, blue)  is 2   # contributions from edges (0,2) and (1,2)
(blue, red)  is 2   # same as (red, blue) since graph is undirected
(blue, blue) is 0   # there are no edges with blue endpoints
</pre>


            
         See :
    

    <h3 id='section-backrefs'>Back References</h3>
    <p>The following pages refer to to this document either explicitly or contain code examples using this.</p>

        <code><a link href="/p/networkx/2.7.2rc1.dev0/api/networkx.linalg.attrmatrix.attr_matrix.html" class='exists'>networkx.linalg.attrmatrix.attr_matrix</a></code>

<h3>Local connectivity graph</h3>
<p>Hover to see nodes names; edges to Self not shown, Caped at 50 nodes.</p>

<p> Using a canvas is more power efficient and can get hundred of nodes ; but does not allow hyperlinks; , arrows
or text (beyond on hover) </p> 
<canvas class='graph' width="800" height="500"></canvas>
<p> SVG is more flexible but power hungry; and does not scale well to 50 + nodes. </p> 

<svg class='graph' width="600" height="500"></svg>

<p>All aboves nodes referred to, (or are referred from) current nodes; Edges from Self to other have been omitted
(or all nodes would be connected to the central node "self" which is not useful). Nodes are colored by the library
they belong to, and scaled with the number of references pointing them</p>

<hr>

    GitHub : <a class='external' href='https://github.com/networkx/networkx/blob/networkx-2.7.1/networkx/linalg/attrmatrix.py#L144'>networkx/linalg/attrmatrix.py#144</a>
<br/>

type: &lt;class &#39;function&#39;&gt; <br/>
Commit: <br/>

        <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.js"></script>
    <style type="text/css">
        .node {};
        .link { stroke: #999; stroke-opacity: .6; stroke-width: 1px; };
    </style>
<script>
    window._data_graph = {"nodes": [{"id": 1, "val": 23.0, "label": "networkx.generators.degree_seq.DegreeSequenceRandomGraph.phase3", "mod": "networkx", "url": "/p/networkx/2.7.2rc1.dev0/api/networkx.generators.degree_seq.DegreeSequenceRandomGraph.phase3"}, {"id": 2, "val": 15.21110255092798, "label": "networkx.classes.function.nodes", "mod": "networkx", "url": "/p/networkx/2.7.2rc1.dev0/api/networkx.classes.function.nodes"}, {"id": 3, "val": 18.3440804327886, "label": "networkx.classes.graph.Graph", "mod": "networkx", "url": "/p/networkx/2.7.2rc1.dev0/api/networkx.classes.graph.Graph"}, {"id": 5, "val": 13.099019513592784, "label": "networkx.algorithms.bipartite.basic.color", "mod": "networkx", "url": "/p/networkx/2.7.2rc1.dev0/api/networkx.algorithms.bipartite.basic.color"}], "links": [{"source": 5, "target": 3, "id": 111}, {"source": 1, "target": 3, "id": 253}, {"source": 2, "target": 3, "id": 364}, {"source": 2, "target": 5, "id": 391}]};
</script>
<script type="text/javascript" src='/graph_canvas.js'></script>
<script type="text/javascript" src='/graph_svg.js'></script>


</div>
</body>
</html>