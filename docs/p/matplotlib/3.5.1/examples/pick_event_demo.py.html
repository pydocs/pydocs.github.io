<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
      // this should process only math inside  span with tex2jax_process class
      MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
          },
          "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=matplotlib>matplotlib</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/dask/2021.10.0/api/dask.html.html">dask</a>
<a href="/p/IPython/8.2.0/api/IPython.html.html">IPython</a>
<a href="/p/skimage/0.17.2/api/skimage.html.html">skimage</a>
<a href="/p/pandas/1.4.1/api/pandas.html.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html.html">papyri</a>
<a href="/p/distributed/2021.10.0/api/distributed.html.html">distributed</a>
<a href="/p/astropy/5.0/api/astropy.html.html">astropy</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html.html">matplotlib</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html.html">networkx</a>
<a href="/p/numpy/1.22.3/api/numpy.html.html">numpy</a>
<a href="/p/scipy/1.8.0/api/scipy.html.html">scipy</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>3.5.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">3.5.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>Examples</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/matplotlib/3.5.1/api/matplotlib.html">API</a>
                        <a href="/p/matplotlib/3.5.1/gallery">Gallery</a>
                        <a href="/p/matplotlib/3.5.1/examples">Examples</a>
                        <a href="/p/matplotlib/3.5.1/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='.html'>matplotlib</a>                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/matplotlib/3.5.1/img/matplotlib_logo.png"/>
    <a href="#">matplotlib</a>
    <a href="#">3.5.1</a>
    <hr/>
    <hr/>
    </div><!--end sidenav-->



<pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="sd">&#34;&#34;&#34;
===============
Pick Event Demo
===============


You can enable picking by setting the &#34;picker&#34; property of an artist
(for example, a matplotlib Line2D, Text, Patch, Polygon, AxesImage,
etc...)

There are a variety of meanings of the picker property:

* *None* - picking is disabled for this artist (default)

* bool - if *True* then picking will be enabled and the artist will fire a pick
  event if the mouse event is over the artist.

  Setting ``pickradius`` will add an epsilon tolerance in points and the artist
  will fire off an event if its data is within epsilon of the mouse event.  For
  some artists like lines and patch collections, the artist may provide
  additional data to the pick event that is generated, for example, the indices
  of the data within epsilon of the pick event

* function - if picker is callable, it is a user supplied function which
  determines whether the artist is hit by the mouse event.

     hit, props = picker(artist, mouseevent)

  to determine the hit test.  If the mouse event is over the artist, return
  hit=True and props is a dictionary of properties you want added to the
  PickEvent attributes.

After you have enabled an artist for picking by setting the &#34;picker&#34;
property, you need to connect to the figure canvas pick_event to get
pick callbacks on mouse press events.  For example,

  def pick_handler(event):
      mouseevent = event.mouseevent
      artist = event.artist
      # now do something with this...


The pick event (matplotlib.backend_bases.PickEvent) which is passed to
your callback is always fired with two attributes:

  mouseevent - the mouse event that generate the pick event.  The
    mouse event in turn has attributes like x and y (the coordinates in
    display space, such as pixels from left, bottom) and xdata, ydata (the
    coords in data space).  Additionally, you can get information about
    which buttons were pressed, which keys were pressed, which Axes
    the mouse is over, etc.  See matplotlib.backend_bases.MouseEvent
    for details.

  artist - the matplotlib.artist that generated the pick event.

Additionally, certain artists like Line2D and PatchCollection may
attach additional meta data like the indices into the data that meet
the picker criteria (for example, all the points in the line that are within
the specified epsilon tolerance)

The examples below illustrate each of these methods.
&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">pyplot</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">plt</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">lines</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">Line2D</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">patches</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">Rectangle</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">text</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">Text</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">image</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">AxesImage</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/numpy/1.22.3/api/numpy.html">numpy</a><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">np</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/numpy/1.22.3/api/numpy.html">numpy</a><span class="nn">.</span><span class="nn">random</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">rand</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Fixing random state for reproducibility</span><br><span class='nsl'>...&nbsp;</span><span class="">np</span><span class="o">.</span><span class="">random</span><span class="o">.</span><span class="">seed</span><span class="">(</span><span class="mi">19680801</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">pick_simple</span><span class="">(</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># simple picking, lines, rectangles and text</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="">ax1</span><span class="">,</span><span class=""> </span><span class="">ax2</span><span class="">)</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax1</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">click on points, rectangles or text</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax1</span><span class="o">.</span><span class="">set_ylabel</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">ylabel</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">,</span><span class=""> </span><span class="">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="">(</span><span class="">facecolor</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">red</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">line</span><span class="">,</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">ax1</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">rand</span><span class="">(</span><span class="mi">100</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">,</span><span class=""> </span><span class="">pickradius</span><span class="o">=</span><span class="mi">5</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># pick the rectangle</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax2</span><span class="o">.</span><span class="">bar</span><span class="">(</span><span class="nb">range</span><span class="">(</span><span class="mi">10</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">rand</span><span class="">(</span><span class="mi">10</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">for</span><span class=""> </span><span class="">label</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">ax2</span><span class="o">.</span><span class="">get_xticklabels</span><span class="">(</span><span class="">)</span><span class="">:</span><span class="">  </span><span class="c1"># make the xtick labels pickable</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">label</span><span class="o">.</span><span class="">set_picker</span><span class="">(</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="nf">onpick1</span><span class="">(</span><span class="">event</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="nb">isinstance</span><span class="">(</span><span class="">event</span><span class="o">.</span><span class="">artist</span><span class="">,</span><span class=""> </span><span class="">Line2D</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">thisline</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">artist</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">xdata</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">thisline</span><span class="o">.</span><span class="">get_xdata</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">ydata</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">thisline</span><span class="o">.</span><span class="">get_ydata</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">ind</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">ind</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onpick1 line:</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">column_stack</span><span class="">(</span><span class="">[</span><span class="">xdata</span><span class="">[</span><span class="">ind</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">ydata</span><span class="">[</span><span class="">ind</span><span class="">]</span><span class="">]</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">elif</span><span class=""> </span><span class="nb">isinstance</span><span class="">(</span><span class="">event</span><span class="o">.</span><span class="">artist</span><span class="">,</span><span class=""> </span><span class="">Rectangle</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">patch</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">artist</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onpick1 patch:</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">patch</span><span class="o">.</span><span class="">get_path</span><span class="">(</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">elif</span><span class=""> </span><span class="nb">isinstance</span><span class="">(</span><span class="">event</span><span class="o">.</span><span class="">artist</span><span class="">,</span><span class=""> </span><span class="">Text</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">text</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">artist</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onpick1 text:</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">text</span><span class="o">.</span><span class="">get_text</span><span class="">(</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="o">.</span><span class="">canvas</span><span class="o">.</span><span class="">mpl_connect</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">pick_event</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">onpick1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">pick_custom_hit</span><span class="">(</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># picking with a custom hit test function</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># you can define custom pickers by setting picker to a callable</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># function.  The function has the signature</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#  hit, props = func(artist, mouseevent)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># to determine the hit test.  if the mouse event is over the artist,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># return hit=True and props is a dictionary of</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># properties you want added to the PickEvent attributes</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="nf">line_picker</span><span class="">(</span><span class="">line</span><span class="">,</span><span class=""> </span><span class="">mouseevent</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="sd">&#34;&#34;&#34;
        Find the points within a certain distance from the mouseclick in
        data coords and attach some extra attributes, pickx and picky
        which are the data points that were picked.
        &#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="">mouseevent</span><span class="o">.</span><span class="">xdata</span><span class=""> </span><span class="ow">is</span><span class=""> </span><span class="kc">None</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">return</span><span class=""> </span><span class="kc">False</span><span class="">,</span><span class=""> </span><span class="nb">dict</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">xdata</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">line</span><span class="o">.</span><span class="">get_xdata</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">ydata</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">line</span><span class="o">.</span><span class="">get_ydata</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">maxd</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mf">0.05</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">d</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">sqrt</span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">(</span><span class="">xdata</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="">mouseevent</span><span class="o">.</span><span class="">xdata</span><span class="">)</span><span class="o">*</span><span class="o">*</span><span class="mi">2</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">(</span><span class="">ydata</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="">mouseevent</span><span class="o">.</span><span class="">ydata</span><span class="">)</span><span class="o">*</span><span class="o">*</span><span class="mi">2</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">ind</span><span class="">,</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">nonzero</span><span class="">(</span><span class="">d</span><span class=""> </span><span class="o">&lt;</span><span class="o">=</span><span class=""> </span><span class="">maxd</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="nb">len</span><span class="">(</span><span class="">ind</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">pickx</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">xdata</span><span class="">[</span><span class="">ind</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">picky</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">ydata</span><span class="">[</span><span class="">ind</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">props</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">dict</span><span class="">(</span><span class="">ind</span><span class="o">=</span><span class="">ind</span><span class="">,</span><span class=""> </span><span class="">pickx</span><span class="o">=</span><span class="">pickx</span><span class="">,</span><span class=""> </span><span class="">picky</span><span class="o">=</span><span class="">picky</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">return</span><span class=""> </span><span class="kc">True</span><span class="">,</span><span class=""> </span><span class="">props</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">else</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">return</span><span class=""> </span><span class="kc">False</span><span class="">,</span><span class=""> </span><span class="nb">dict</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="nf">onpick2</span><span class="">(</span><span class="">event</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onpick2 line:</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">pickx</span><span class="">,</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">picky</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">ax</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">custom picker for line data</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">line</span><span class="">,</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">ax</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">rand</span><span class="">(</span><span class="mi">100</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">rand</span><span class="">(</span><span class="mi">100</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="">line_picker</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="o">.</span><span class="">canvas</span><span class="o">.</span><span class="">mpl_connect</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">pick_event</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">onpick2</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">pick_scatter_plot</span><span class="">(</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># picking on a scatter plot (matplotlib.collections.RegularPolyCollection)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">,</span><span class=""> </span><span class="">c</span><span class="">,</span><span class=""> </span><span class="">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">rand</span><span class="">(</span><span class="mi">4</span><span class="">,</span><span class=""> </span><span class="mi">100</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="nf">onpick3</span><span class="">(</span><span class="">event</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">ind</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">ind</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onpick3 scatter:</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">ind</span><span class="">,</span><span class=""> </span><span class="">x</span><span class="">[</span><span class="">ind</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">[</span><span class="">ind</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">ax</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax</span><span class="o">.</span><span class="">scatter</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">,</span><span class=""> </span><span class="mi">100</span><span class="o">*</span><span class="">s</span><span class="">,</span><span class=""> </span><span class="">c</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="o">.</span><span class="">canvas</span><span class="o">.</span><span class="">mpl_connect</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">pick_event</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">onpick3</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">pick_image</span><span class="">(</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># picking images (matplotlib.image.AxesImage)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">ax</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax</span><span class="o">.</span><span class="">imshow</span><span class="">(</span><span class="">rand</span><span class="">(</span><span class="mi">10</span><span class="">,</span><span class=""> </span><span class="mi">5</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">extent</span><span class="o">=</span><span class="">(</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax</span><span class="o">.</span><span class="">imshow</span><span class="">(</span><span class="">rand</span><span class="">(</span><span class="mi">5</span><span class="">,</span><span class=""> </span><span class="mi">10</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">extent</span><span class="o">=</span><span class="">(</span><span class="mi">3</span><span class="">,</span><span class=""> </span><span class="mi">4</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax</span><span class="o">.</span><span class="">imshow</span><span class="">(</span><span class="">rand</span><span class="">(</span><span class="mi">20</span><span class="">,</span><span class=""> </span><span class="mi">25</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">extent</span><span class="o">=</span><span class="">(</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="mi">3</span><span class="">,</span><span class=""> </span><span class="mi">4</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax</span><span class="o">.</span><span class="">imshow</span><span class="">(</span><span class="">rand</span><span class="">(</span><span class="mi">30</span><span class="">,</span><span class=""> </span><span class="mi">12</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">extent</span><span class="o">=</span><span class="">(</span><span class="mi">3</span><span class="">,</span><span class=""> </span><span class="mi">4</span><span class="">,</span><span class=""> </span><span class="mi">3</span><span class="">,</span><span class=""> </span><span class="mi">4</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">picker</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax</span><span class="o">.</span><span class="">set</span><span class="">(</span><span class="">xlim</span><span class="o">=</span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">5</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">ylim</span><span class="o">=</span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">5</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="nf">onpick4</span><span class="">(</span><span class="">event</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">artist</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">event</span><span class="o">.</span><span class="">artist</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="nb">isinstance</span><span class="">(</span><span class="">artist</span><span class="">,</span><span class=""> </span><span class="">AxesImage</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">im</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">artist</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">A</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">im</span><span class="o">.</span><span class="">get_array</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onpick4 image</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">A</span><span class="o">.</span><span class="">shape</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fig</span><span class="o">.</span><span class="">canvas</span><span class="o">.</span><span class="">mpl_connect</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">pick_event</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">onpick4</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">if</span><span class=""> </span><span class="vm">__name__</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">__main__</span><span class="s1">&#39;</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">pick_simple</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">pick_custom_hit</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">pick_scatter_plot</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">pick_image</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">plt</span><span class="o">.</span><span class="">show</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span>
</pre>
       




</div>
</body>
</html>