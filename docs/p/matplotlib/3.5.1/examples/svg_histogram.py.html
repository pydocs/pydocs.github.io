<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=matplotlib>matplotlib</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/dask/2021.10.0/api/dask.html.html">dask</a>
<a href="/p/IPython/8.3.0.dev/api/IPython.html.html">IPython</a>
<a href="/p/skimage/0.17.2/api/skimage.html.html">skimage</a>
<a href="/p/pandas/1.4.1/api/pandas.html.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html.html">papyri</a>
<a href="/p/distributed/2021.10.0/api/distributed.html.html">distributed</a>
<a href="/p/astropy/5.0/api/astropy.html.html">astropy</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html.html">matplotlib</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html.html">networkx</a>
<a href="/p/numpy/1.22.3/api/numpy.html.html">numpy</a>
<a href="/p/scipy/1.8.0/api/scipy.html.html">scipy</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>3.5.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">3.5.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>Examples</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/matplotlib/3.5.1/api/matplotlib.html">API</a>
                        <a href="/p/matplotlib/3.5.1/gallery">Gallery</a>
                        <a href="/p/matplotlib/3.5.1/examples">Examples</a>
                        <a href="/p/matplotlib/3.5.1/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='.html'>matplotlib</a>                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/matplotlib/3.5.1/img/matplotlib_logo.png"/>
    <a href="#">matplotlib</a>
    <a href="#">3.5.1</a>
    <hr/>
    <hr/>
    </div><!--end sidenav-->



<pre class='highlight None'><span class='nsl'>&gt;&gt;&gt; </span><span class="ch">#!/usr/bin/env python</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#-*- encoding:utf-8 -*-</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="sd">&#34;&#34;&#34;
Demonstrate how to create an interactive histogram, in which bars
are hidden or shown by cliking on legend markers. 

The interactivity is encoded in ecmascript (javascript) and inserted in 
the SVG code in a post-processing step. To render the image, open it in 
a web browser. SVG is supported in most web browsers used by Linux and 
OSX users. Windows IE9 supports SVG, but earlier versions do not. 

Notes
-----
The matplotlib backend lets us assign ids to each object. This is the
mechanism used here to relate matplotlib objects created in python and 
the corresponding SVG constructs that are parsed in the second step.
While flexible, ids are cumbersome to use for large collection of 
objects. Two mechanisms could be used to simplify things:
 * systematic grouping of objects into SVG &lt;g&gt; tags,
 * assingning classes to each SVG object according to its origin.
 
For example, instead of modifying the properties of each individual bar, 
the bars from the `hist` function could either be grouped in
a PatchCollection, or be assigned a class=&#34;hist_##&#34; attribute. 

CSS could also be used more extensively to replace repetitive markup
troughout the generated SVG. 

__author__=&#34;david.huard@gmail.com&#34;

&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/numpy/1.22.3/api/numpy.html">numpy</a><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">np</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">pyplot</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">plt</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><span class="nn">xml</span><span class="nn">.</span><span class="nn">etree</span><span class="nn">.</span><span class="nn">ElementTree</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">ET</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><span class="nn">StringIO</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">StringIO</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><span class="nn">json</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">plt</span><span class="o">.</span><span class="">rcParams</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">svg.embed_char_paths</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">none</span><span class="s1">&#39;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Apparently, this `register_namespace` method works only with </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># python 2.7 and up and is necessary to avoid garbling the XML name</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># space with ns0.</span><br><span class='nsl'>...&nbsp;</span><span class="">ET</span><span class="o">.</span><span class="">register_namespace</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">&#34;</span><span class="">,</span><span class="s2">&#34;</span><span class="s2">http://www.w3.org/2000/svg</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># --- Create histogram, legend and title ---</span><br><span class='nsl'>...&nbsp;</span><span class="">plt</span><span class="o">.</span><span class="">figure</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">random</span><span class="o">.</span><span class="">randn</span><span class="">(</span><span class="mi">100</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">r1</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">r</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><br><span class='nsl'>...&nbsp;</span><span class="">labels</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">Rabbits</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">Frogs</span><span class="s1">&#39;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">H</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">hist</span><span class="">(</span><span class="">[</span><span class="">r</span><span class="">,</span><span class="">r1</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">label</span><span class="o">=</span><span class="">labels</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">containers</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">H</span><span class="">[</span><span class="o">-</span><span class="mi">1</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">leg</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">legend</span><span class="">(</span><span class="">frameon</span><span class="o">=</span><span class="kc">False</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">plt</span><span class="o">.</span><span class="">title</span><span class="">(</span><span class="s2">&#34;&#34;&#34;</span><span class="s2">From a web browser, click on the legend </span><br><span class='nsl'>...&nbsp;</span><span class="s2">marker to toggle the corresponding histogram.</span><span class="s2">&#34;&#34;&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># --- Add ids to the svg objects we&#39;ll modify </span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">hist_patches</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><span class="k">for</span><span class=""> </span><span class="">ic</span><span class="">,</span><span class=""> </span><span class="">c</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">enumerate</span><span class="">(</span><span class="">containers</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">hist_patches</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">hist_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">ic</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">for</span><span class=""> </span><span class="">il</span><span class="">,</span><span class=""> </span><span class="">element</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">enumerate</span><span class="">(</span><span class="">c</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">element</span><span class="o">.</span><span class="">set_gid</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">hist_</span><span class="si">%d</span><span class="s1">_patch_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">(</span><span class="">ic</span><span class="">,</span><span class=""> </span><span class="">il</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">hist_patches</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">hist_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">ic</span><span class="">]</span><span class="o">.</span><span class="">append</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">hist_</span><span class="si">%d</span><span class="s1">_patch_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">(</span><span class="">ic</span><span class="">,</span><span class="">il</span><span class="">)</span><span class="">)</span><span class="">    </span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Set ids for the legend patches    </span><br><span class='nsl'>...&nbsp;</span><span class="k">for</span><span class=""> </span><span class="">i</span><span class="">,</span><span class=""> </span><span class="">t</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">enumerate</span><span class="">(</span><span class="">leg</span><span class="o">.</span><span class="">get_patches</span><span class="">(</span><span class="">)</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">t</span><span class="o">.</span><span class="">set_gid</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">leg_patch_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">i</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Set ids for the text patches</span><br><span class='nsl'>...&nbsp;</span><span class="k">for</span><span class=""> </span><span class="">i</span><span class="">,</span><span class=""> </span><span class="">t</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">enumerate</span><span class="">(</span><span class="">leg</span><span class="o">.</span><span class="">get_texts</span><span class="">(</span><span class="">)</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">t</span><span class="o">.</span><span class="">set_gid</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">leg_text_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">i</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Save SVG in a fake file object.</span><br><span class='nsl'>...&nbsp;</span><span class="">f</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">StringIO</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">plt</span><span class="o">.</span><span class="">savefig</span><span class="">(</span><span class="">f</span><span class="">,</span><span class=""> </span><span class="nb">format</span><span class="o">=</span><span class="s2">&#34;</span><span class="s2">svg</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Create XML tree from the SVG file.</span><br><span class='nsl'>...&nbsp;</span><span class="">tree</span><span class="">,</span><span class=""> </span><span class="">xmlid</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">ET</span><span class="o">.</span><span class="">XMLID</span><span class="">(</span><span class="">f</span><span class="o">.</span><span class="">getvalue</span><span class="">(</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># --- Add interactivity ---</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Add attributes to the patch objects.    </span><br><span class='nsl'>...&nbsp;</span><span class="k">for</span><span class=""> </span><span class="">i</span><span class="">,</span><span class=""> </span><span class="">t</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">enumerate</span><span class="">(</span><span class="">leg</span><span class="o">.</span><span class="">get_patches</span><span class="">(</span><span class="">)</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">el</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">xmlid</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">leg_patch_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">i</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">el</span><span class="o">.</span><span class="">set</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">cursor</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">pointer</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">el</span><span class="o">.</span><span class="">set</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onclick</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">toggle_hist(this)</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Add attributes to the text objects.    </span><br><span class='nsl'>...&nbsp;</span><span class="k">for</span><span class=""> </span><span class="">i</span><span class="">,</span><span class=""> </span><span class="">t</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">enumerate</span><span class="">(</span><span class="">leg</span><span class="o">.</span><span class="">get_texts</span><span class="">(</span><span class="">)</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">el</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">xmlid</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">leg_text_</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="">i</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">el</span><span class="o">.</span><span class="">set</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">cursor</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">pointer</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">el</span><span class="o">.</span><span class="">set</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">onclick</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">toggle_hist(this)</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Create script defining the function `toggle_hist`. </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># We create a global variable `container` that stores the patches id </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># belonging to each histogram. Then a function &#34;toggle_element&#34; sets the </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># visibility attribute of all patches of each histogram and the opacity</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># of the marker itself. </span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">script</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="s2">&lt;script type=</span><span class="s2">&#34;</span><span class="s2">text/ecmascript</span><span class="s2">&#34;</span><span class="s2">&gt;</span><br><span class='nsl'>...&nbsp;</span><span class="s2">&lt;![CDATA[</span><br><span class='nsl'>...&nbsp;</span><span class="s2">var container = </span><span class="si">%s</span><span class="s2"> </span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="s2">function toggle(oid, attribute, values) </span><span class="s2">{</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    /* Toggle the style attribute of an object between two values. </span><br><span class='nsl'>...&nbsp;</span><span class="s2">    </span><br><span class='nsl'>...&nbsp;</span><span class="s2">    Parameters</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    ----------</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    oid : str</span><br><span class='nsl'>...&nbsp;</span><span class="s2">      Object identifier.</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    attribute : str</span><br><span class='nsl'>...&nbsp;</span><span class="s2">      Name of syle attribute.</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    values : [on state, off state]</span><br><span class='nsl'>...&nbsp;</span><span class="s2">      The two values that are switched between.</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    */</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    var obj = document.getElementById(oid);</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    var a = obj.style[attribute];</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    </span><br><span class='nsl'>...&nbsp;</span><span class="s2">    a = (a == values[0] || a == </span><span class="s2">&#34;</span><span class="s2">&#34;</span><span class="s2">) ? values[1] : values[0];</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    obj.style[attribute] = a;</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    }</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="s2">function toggle_hist(obj) </span><span class="s2">{</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    </span><br><span class='nsl'>...&nbsp;</span><span class="s2">    var num = obj.id.slice(-1);</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    </span><br><span class='nsl'>...&nbsp;</span><span class="s2">    toggle(</span><span class="s2">&#39;</span><span class="s2">leg_patch_</span><span class="s2">&#39;</span><span class="s2"> + num, </span><span class="s2">&#39;</span><span class="s2">opacity</span><span class="s2">&#39;</span><span class="s2">, [1, 0.3]);</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    toggle(</span><span class="s2">&#39;</span><span class="s2">leg_text_</span><span class="s2">&#39;</span><span class="s2"> + num, </span><span class="s2">&#39;</span><span class="s2">opacity</span><span class="s2">&#39;</span><span class="s2">, [1, 0.5]);</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    </span><br><span class='nsl'>...&nbsp;</span><span class="s2">    var names = container[</span><span class="s2">&#39;</span><span class="s2">hist_</span><span class="s2">&#39;</span><span class="s2">+num]</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    </span><br><span class='nsl'>...&nbsp;</span><span class="s2">    for (var i=0; i &lt; names.length; i++) </span><span class="s2">{</span><br><span class='nsl'>...&nbsp;</span><span class="s2">        toggle(names[i], </span><span class="s2">&#39;</span><span class="s2">opacity</span><span class="s2">&#39;</span><span class="s2">, [1,0])</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    };</span><br><span class='nsl'>...&nbsp;</span><span class="s2">    }</span><br><span class='nsl'>...&nbsp;</span><span class="s2">]]&gt;</span><br><span class='nsl'>...&nbsp;</span><span class="s2">&lt;/script&gt;</span><br><span class='nsl'>...&nbsp;</span><span class="s2">&#34;&#34;&#34;</span><span class="o">%</span><span class="">json</span><span class="o">.</span><span class="">dumps</span><span class="">(</span><span class="">hist_patches</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Add a transition effect</span><br><span class='nsl'>...&nbsp;</span><span class="">css</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">tree</span><span class="o">.</span><span class="">getchildren</span><span class="">(</span><span class="">)</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="">[</span><span class="mi">0</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">css</span><span class="o">.</span><span class="">text</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">css</span><span class="o">.</span><span class="">text</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">g </span><span class="s2">{</span><span class="s2">-webkit-transition:opacity 0.4s ease-out;-moz-transition:opacity 0.4s ease-out;}</span><span class="s2">&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Insert the script and save to file.</span><br><span class='nsl'>...&nbsp;</span><span class="">tree</span><span class="o">.</span><span class="">insert</span><span class="">(</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="">ET</span><span class="o">.</span><span class="">XML</span><span class="">(</span><span class="">script</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">ET</span><span class="o">.</span><span class="">ElementTree</span><span class="">(</span><span class="">tree</span><span class="">)</span><span class="o">.</span><span class="">write</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">svg_histogram.svg</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><br><span class='nsl'>...&nbsp;</span>
</pre>
       




</div>
</body>
</html>