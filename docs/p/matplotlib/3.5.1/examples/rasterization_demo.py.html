<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
      // this should process only math inside  span with tex2jax_process class
      MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
          },
          "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=matplotlib>matplotlib</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/dask/2021.10.0/api/dask.html.html">dask</a>
<a href="/p/IPython/8.2.0/api/IPython.html.html">IPython</a>
<a href="/p/skimage/0.17.2/api/skimage.html.html">skimage</a>
<a href="/p/pandas/1.4.1/api/pandas.html.html">pandas</a>
<a href="/p/papyri/0.0.8/api/papyri.html.html">papyri</a>
<a href="/p/distributed/2021.10.0/api/distributed.html.html">distributed</a>
<a href="/p/astropy/5.0/api/astropy.html.html">astropy</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html.html">matplotlib</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html.html">networkx</a>
<a href="/p/numpy/1.22.3/api/numpy.html.html">numpy</a>
<a href="/p/scipy/1.8.0/api/scipy.html.html">scipy</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>3.5.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">3.5.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>Examples</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/matplotlib/3.5.1/api/matplotlib.html">API</a>
                        <a href="/p/matplotlib/3.5.1/gallery">Gallery</a>
                        <a href="/p/matplotlib/3.5.1/examples">Examples</a>
                        <a href="/p/matplotlib/3.5.1/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='.html'>matplotlib</a>                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/matplotlib/3.5.1/img/matplotlib_logo.png"/>
    <a href="#">matplotlib</a>
    <a href="#">3.5.1</a>
    <hr/>
    <hr/>
    </div><!--end sidenav-->



<pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="sd">&#34;&#34;&#34;
=================================
Rasterization for vector graphics
=================================

Rasterization converts vector graphics into a raster image (pixels). It can
speed up rendering and produce smaller files for large data sets, but comes
at the cost of a fixed resolution.

Whether rasterization should be used can be specified per artist.  This can be
useful to reduce the file size of large artists, while maintaining the
advantages of vector graphics for other artists such as the axes
and text.  For instance a complicated `~.Axes.pcolormesh` or
`~.Axes.contourf` can be made significantly simpler by rasterizing.
Setting rasterization only affects vector backends such as PDF, SVG, or PS.

Rasterization is disabled by default. There are two ways to enable it, which
can also be combined:

- Set `~.Artist.set_rasterized` on individual artists, or use the keyword
  argument *rasterized* when creating the artist.
- Set `.Axes.set_rasterization_zorder` to rasterize all artists with a zorder
  less than the given value.

The storage size and the resolution of the rasterized artist is determined by
its physical size and the value of the ``dpi`` parameter passed to
`~.Figure.savefig`.

.. note::

    The image of this example shown in the HTML documentation is not a vector
    graphic. Therefore, it cannot illustrate the rasterization effect. Please
    run this example locally and check the generated graphics files.

&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/numpy/1.22.3/api/numpy.html">numpy</a><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">np</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">pyplot</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">plt</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">d</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">arange</span><span class="">(</span><span class="mi">100</span><span class="">)</span><span class="o">.</span><span class="">reshape</span><span class="">(</span><span class="mi">10</span><span class="">,</span><span class=""> </span><span class="mi">10</span><span class="">)</span><span class="">  </span><span class="c1"># the values to be color-mapped</span><br><span class='nsl'>...&nbsp;</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">meshgrid</span><span class="">(</span><span class="">np</span><span class="o">.</span><span class="">arange</span><span class="">(</span><span class="mi">11</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">arange</span><span class="">(</span><span class="mi">11</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">theta</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mf">0.25</span><span class="o">*</span><span class="">np</span><span class="o">.</span><span class="">pi</span><br><span class='nsl'>...&nbsp;</span><span class="">xx</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">x</span><span class="o">*</span><span class="">np</span><span class="o">.</span><span class="">cos</span><span class="">(</span><span class="">theta</span><span class="">)</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="">y</span><span class="o">*</span><span class="">np</span><span class="o">.</span><span class="">sin</span><span class="">(</span><span class="">theta</span><span class="">)</span><span class="">  </span><span class="c1"># rotate x by -theta</span><br><span class='nsl'>...&nbsp;</span><span class="">yy</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">x</span><span class="o">*</span><span class="">np</span><span class="o">.</span><span class="">sin</span><span class="">(</span><span class="">theta</span><span class="">)</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">y</span><span class="o">*</span><span class="">np</span><span class="o">.</span><span class="">cos</span><span class="">(</span><span class="">theta</span><span class="">)</span><span class="">  </span><span class="c1"># rotate y by -theta</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="">(</span><span class="">ax1</span><span class="">,</span><span class=""> </span><span class="">ax2</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="">ax3</span><span class="">,</span><span class=""> </span><span class="">ax4</span><span class="">)</span><span class="">)</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># pcolormesh without rasterization</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">set_aspect</span><span class="">(</span><span class="mi">1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">pcolormesh</span><span class="">(</span><span class="">xx</span><span class="">,</span><span class=""> </span><span class="">yy</span><span class="">,</span><span class=""> </span><span class="">d</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">No Rasterization</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># pcolormesh with rasterization; enabled by keyword argument</span><br><span class='nsl'>...&nbsp;</span><span class="">ax2</span><span class="o">.</span><span class="">set_aspect</span><span class="">(</span><span class="mi">1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax2</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">Rasterization</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">ax2</span><span class="o">.</span><span class="">pcolormesh</span><span class="">(</span><span class="">xx</span><span class="">,</span><span class=""> </span><span class="">yy</span><span class="">,</span><span class=""> </span><span class="">d</span><span class="">,</span><span class=""> </span><span class="">rasterized</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># pcolormesh with an overlaid text without rasterization</span><br><span class='nsl'>...&nbsp;</span><span class="">ax3</span><span class="o">.</span><span class="">set_aspect</span><span class="">(</span><span class="mi">1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax3</span><span class="o">.</span><span class="">pcolormesh</span><span class="">(</span><span class="">xx</span><span class="">,</span><span class=""> </span><span class="">yy</span><span class="">,</span><span class=""> </span><span class="">d</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax3</span><span class="o">.</span><span class="">text</span><span class="">(</span><span class="mf">0.5</span><span class="">,</span><span class=""> </span><span class="mf">0.5</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">Text</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">         </span><span class="">va</span><span class="o">=</span><span class="s2">&#34;</span><span class="s2">center</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">ha</span><span class="o">=</span><span class="s2">&#34;</span><span class="s2">center</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">size</span><span class="o">=</span><span class="mi">50</span><span class="">,</span><span class=""> </span><span class="">transform</span><span class="o">=</span><span class="">ax3</span><span class="o">.</span><span class="">transAxes</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax3</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">No Rasterization</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># pcolormesh with an overlaid text without rasterization; enabled by zorder.</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Setting the rasterization zorder threshold to 0 and a negative zorder on the</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># pcolormesh rasterizes it. All artists have a non-negative zorder by default,</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># so they (e.g. the text here) are not affected.</span><br><span class='nsl'>...&nbsp;</span><span class="">ax4</span><span class="o">.</span><span class="">set_aspect</span><span class="">(</span><span class="mi">1</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">ax4</span><span class="o">.</span><span class="">pcolormesh</span><span class="">(</span><span class="">xx</span><span class="">,</span><span class=""> </span><span class="">yy</span><span class="">,</span><span class=""> </span><span class="">d</span><span class="">,</span><span class=""> </span><span class="">zorder</span><span class="o">=</span><span class="o">-</span><span class="mi">10</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax4</span><span class="o">.</span><span class="">text</span><span class="">(</span><span class="mf">0.5</span><span class="">,</span><span class=""> </span><span class="mf">0.5</span><span class="">,</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">Text</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">         </span><span class="">va</span><span class="o">=</span><span class="s2">&#34;</span><span class="s2">center</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">ha</span><span class="o">=</span><span class="s2">&#34;</span><span class="s2">center</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">size</span><span class="o">=</span><span class="mi">50</span><span class="">,</span><span class=""> </span><span class="">transform</span><span class="o">=</span><span class="">ax4</span><span class="o">.</span><span class="">transAxes</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax4</span><span class="o">.</span><span class="">set_rasterization_zorder</span><span class="">(</span><span class="mi">0</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax4</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">Rasterization z$&lt;-10$</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Save files in pdf and eps format</span><br><span class='nsl'>...&nbsp;</span><span class="">plt</span><span class="o">.</span><span class="">savefig</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">test_rasterization.pdf</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">dpi</span><span class="o">=</span><span class="mi">150</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">plt</span><span class="o">.</span><span class="">savefig</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">test_rasterization.eps</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">dpi</span><span class="o">=</span><span class="mi">150</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">if</span><span class=""> </span><span class="ow">not</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">rcParams</span><span class="">[</span><span class="s2">&#34;</span><span class="s2">text.usetex</span><span class="s2">&#34;</span><span class="">]</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">plt</span><span class="o">.</span><span class="">savefig</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">test_rasterization.svg</span><span class="s2">&#34;</span><span class="">,</span><span class=""> </span><span class="">dpi</span><span class="o">=</span><span class="mi">150</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># svg backend currently ignores the dpi</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#############################################################################</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># .. admonition:: References</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#    The use of the following functions, methods, classes and modules is shown</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#    in this example:</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#    - `matplotlib.artist.Artist.set_rasterized`</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#    - `matplotlib.axes.Axes.set_rasterization_zorder`</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#    - `matplotlib.axes.Axes.pcolormesh` / `matplotlib.pyplot.pcolormesh`</span><br><span class='nsl'>...&nbsp;</span>
</pre>
       
           <div><img src="/p/matplotlib/3.5.1/img/ex-rasterization_demo.py-0.png"/></div>
       




</div>
</body>
</html>