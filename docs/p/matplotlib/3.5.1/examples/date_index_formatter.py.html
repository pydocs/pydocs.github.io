<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
<style>
    header > brand, header>:first-child {
        border-right: 1px solid #ccc;
        border-left: 1px solid #ccc;
        padding: 16px;
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
        display: inline-block; 
        width: 167px;
    }
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
</style>
</head><body class="tex2jax_ignore">
    <header>
            <brand><i class="fab fa-python"></i><a href='/'>Home</a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=matplotlib>matplotlib</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a>
<a href="/p/numpy/1.22.3/api/numpy.html">numpy</a>
<a href="/p/scipy/1.8.0/api/scipy.html">scipy</a>
<a href="/p/skimage/0.17.2/api/skimage.html">skimage</a>
<a href="/p/papyri/0.0.8/api/papyri.html">papyri</a>
<a href="/p/distributed/2021.10.0/api/distributed.html">distributed</a>
<a href="/p/pandas/1.4.1/api/pandas.html">pandas</a>
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html">networkx</a>
<a href="/p/IPython/8.2.0.dev/api/IPython.html">IPython</a>
<a href="/p/astropy/5.0/api/astropy.html">astropy</a>
<a href="/p/dask/2021.10.0/api/dask.html">dask</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>3.5.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">3.5.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>Examples</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/matplotlib/3.5.1/api/matplotlib.html">API</a>
                        <a href="/p/matplotlib/3.5.1/gallery">Gallery</a>
                        <a href="/p/matplotlib/3.5.1/examples">Examples</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='.html'>matplotlib</a>                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/matplotlib/3.5.1/img/logo.png"/>
    <a href="#">matplotlib</a>
    <a href="#">3.5.1</a>
    <hr/>
    <hr/>
    </div><!--end sidenav-->



<pre class='highlight None'><span class='nsl'>&gt;&gt;&gt; </span><span class="sd">&#34;&#34;&#34;
=====================================
Custom tick formatter for time series
=====================================

.. redirect-from:: /gallery/text_labels_and_annotations/date_index_formatter
.. redirect-from:: /gallery/ticks/date_index_formatter2

When plotting daily data, e.g., financial time series, one often wants
to leave out days on which there is no data, for instance weekends, so that
the data are plotted at regular intervals without extra spaces for the days
with no data.
The example shows how to use an &#39;index formatter&#39; to achieve the desired plot.
&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/numpy/1.22.3/api/numpy.html">numpy</a><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">np</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">pyplot</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">plt</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">cbook</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">cbook</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">lines</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">ml</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">dates</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">DateFormatter</span><span class="">,</span><span class=""> </span><span class="">DayLocator</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">ticker</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">Formatter</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Load a numpy record array from yahoo csv data with fields date, open, high,</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># low, close, volume, adj_close from the mpl-data/sample_data directory. The</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># record array stores the date as an np.datetime64 with a day unit (&#39;D&#39;) in</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># the date column (``r.date``).</span><br><span class='nsl'>...&nbsp;</span><span class="">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="">cbook</span><span class="o">.</span><span class="">get_sample_data</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">goog.npz</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">np_load</span><span class="o">=</span><span class="kc">True</span><span class="">)</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">price_data</span><span class="s1">&#39;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">     </span><span class="o">.</span><span class="">view</span><span class="">(</span><span class="">np</span><span class="o">.</span><span class="">recarray</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">r</span><span class="">[</span><span class="">:</span><span class="mi">9</span><span class="">]</span><span class="">  </span><span class="c1"># get the first 9 days</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">(</span><span class="">ax1</span><span class="">,</span><span class=""> </span><span class="">ax2</span><span class="">)</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="">nrows</span><span class="o">=</span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="">figsize</span><span class="o">=</span><span class="">(</span><span class="mi">6</span><span class="">,</span><span class=""> </span><span class="mi">6</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                               </span><span class="">constrained_layout</span><span class="o">=</span><span class="">{</span><span class="s1">&#39;</span><span class="s1">hspace</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><span class="mf">.15</span><span class="">}</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># First we&#39;ll do it the default way, with gaps on weekends</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">r</span><span class="o">.</span><span class="">date</span><span class="">,</span><span class=""> </span><span class="">r</span><span class="o">.</span><span class="">adj_close</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o-</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Highlight gaps in daily data</span><br><span class='nsl'>...&nbsp;</span><span class="">gaps</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">flatnonzero</span><span class="">(</span><span class="">np</span><span class="o">.</span><span class="">diff</span><span class="">(</span><span class="">r</span><span class="o">.</span><span class="">date</span><span class="">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">timedelta64</span><span class="">(</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">D</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="k">for</span><span class=""> </span><span class="">gap</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">r</span><span class="">[</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">date</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">adj_close</span><span class="s1">&#39;</span><span class="">]</span><span class="">]</span><span class="">[</span><span class="">np</span><span class="o">.</span><span class="">stack</span><span class="">(</span><span class="">(</span><span class="">gaps</span><span class="">,</span><span class=""> </span><span class="">gaps</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="">)</span><span class="">)</span><span class="o">.</span><span class="">T</span><span class="">]</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ax1</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">gap</span><span class="o">.</span><span class="">date</span><span class="">,</span><span class=""> </span><span class="">gap</span><span class="o">.</span><span class="">adj_close</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">w--</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">lw</span><span class="o">=</span><span class="mi">2</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">legend</span><span class="">(</span><span class="">handles</span><span class="o">=</span><span class="">[</span><span class="">ml</span><span class="o">.</span><span class="">Line2D</span><span class="">(</span><span class="">[</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">ls</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">--</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">label</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">Gaps in daily data</span><span class="s1">&#39;</span><span class="">)</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">Plot y at x Coordinates</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">xaxis</span><span class="o">.</span><span class="">set_major_locator</span><span class="">(</span><span class="">DayLocator</span><span class="">(</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax1</span><span class="o">.</span><span class="">xaxis</span><span class="o">.</span><span class="">set_major_formatter</span><span class="">(</span><span class="">DateFormatter</span><span class="">(</span><span class="s1">&#39;</span><span class="si">%a</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Next we&#39;ll write a custom index formatter. Below we will plot</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># the data against an index that goes from 0, 1,  ... len(data).  Instead of</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># formatting the tick marks as integers, we format as times.</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">format_date</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">_</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">try</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="c1"># convert datetime64 to datetime, and use datetime&#39;s strftime:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">return</span><span class=""> </span><span class="">r</span><span class="o">.</span><span class="">date</span><span class="">[</span><span class="nb">round</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">]</span><span class="o">.</span><span class="">item</span><span class="">(</span><span class="">)</span><span class="o">.</span><span class="">strftime</span><span class="">(</span><span class="s1">&#39;</span><span class="si">%a</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">except</span><span class=""> </span><span class="ne">IndexError</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">pass</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Create an index plot (x defaults to range(len(y)) if omitted)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax2</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">r</span><span class="o">.</span><span class="">adj_close</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o-</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">ax2</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">Plot y at Index Coordinates Using Custom Formatter</span><span class="s2">&#34;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax2</span><span class="o">.</span><span class="">xaxis</span><span class="o">.</span><span class="">set_major_formatter</span><span class="">(</span><span class="">format_date</span><span class="">)</span><span class="">  </span><span class="c1"># internally creates FuncFormatter</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1">#############################################################################</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Instead of passing a function into `.Axis.set_major_formatter` you can use</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># any other callable, e.g. an instance of a class that implements __call__:</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">class</span><span class=""> </span><span class="nc">MyFormatter</span><span class="">(</span><span class="">Formatter</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="fm">__init__</span><span class="">(</span><span class="bp">self</span><span class="">,</span><span class=""> </span><span class="">dates</span><span class="">,</span><span class=""> </span><span class="">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%a</span><span class="s1">&#39;</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="bp">self</span><span class="o">.</span><span class="">dates</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">dates</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="bp">self</span><span class="o">.</span><span class="">fmt</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">fmt</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="fm">__call__</span><span class="">(</span><span class="bp">self</span><span class="">,</span><span class=""> </span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">pos</span><span class="o">=</span><span class="mi">0</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="sd">&#34;&#34;&#34;Return the label for time x at position pos.&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">try</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">return</span><span class=""> </span><span class="bp">self</span><span class="o">.</span><span class="">dates</span><span class="">[</span><span class="nb">round</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">]</span><span class="o">.</span><span class="">item</span><span class="">(</span><span class="">)</span><span class="o">.</span><span class="">strftime</span><span class="">(</span><span class="bp">self</span><span class="o">.</span><span class="">fmt</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">except</span><span class=""> </span><span class="ne">IndexError</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">pass</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">ax2</span><span class="o">.</span><span class="">xaxis</span><span class="o">.</span><span class="">set_major_formatter</span><span class="">(</span><span class="">MyFormatter</span><span class="">(</span><span class="">r</span><span class="o">.</span><span class="">date</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="si">%a</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span>
</pre>
       




</div>
</body>
</html>