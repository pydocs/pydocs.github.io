<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=matplotlib>matplotlib</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html.html">networkx</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html.html">matplotlib</a>
<a href="/p/distributed/2021.10.0/api/distributed.html.html">distributed</a>
<a href="/p/pandas/1.4.1/api/pandas.html.html">pandas</a>
<a href="/p/dask/2021.10.0/api/dask.html.html">dask</a>
<a href="/p/skimage/0.17.2/api/skimage.html.html">skimage</a>
<a href="/p/astropy/5.0/api/astropy.html.html">astropy</a>
<a href="/p/IPython/8.3.0.dev/api/IPython.html.html">IPython</a>
<a href="/p/papyri/0.0.8/api/papyri.html.html">papyri</a>
<a href="/p/numpy/1.22.3/api/numpy.html.html">numpy</a>
<a href="/p/scipy/1.8.0/api/scipy.html.html">scipy</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>3.5.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">3.5.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>Examples</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/matplotlib/3.5.1/api/matplotlib.html">API</a>
                        <a href="/p/matplotlib/3.5.1/gallery">Gallery</a>
                        <a href="/p/matplotlib/3.5.1/examples">Examples</a>
                        <a href="/p/matplotlib/3.5.1/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='.html'>matplotlib</a>                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/matplotlib/3.5.1/img/matplotlib_logo.png"/>
    <a href="#">matplotlib</a>
    <a href="#">3.5.1</a>
    <hr/>
    <hr/>
    </div><!--end sidenav-->



<pre class='highlight None'><span class='nsl'>&gt;&gt;&gt; </span><span class="ch">#!/usr/bin/env python</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><span class="nn">__future__</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">print_function</span><span class="">,</span><span class=""> </span><span class="">division</span><br><span class='nsl'>...&nbsp;</span><span class="sd">&#34;&#34;&#34;
This is used to drive many of the examples across the backends, for
regression testing, and comparing backend efficiency.

You can specify the backends to be tested either via the --backends
switch, which takes a comma-separated list, or as separate arguments,
e.g.

    python backend_driver.py agg ps

would test the agg and ps backends. If no arguments are given, a
default list of backends will be tested.

Interspersed with the backend arguments can be switches for the Python
interpreter executing the tests. If entering such arguments causes an
option parsing error with the driver script, separate them from driver
switches with a --.
&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><span class="nn">os</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><span class="nn">time</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><span class="nn">sys</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><span class="nn">glob</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><span class="nn">optparse</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">OptionParser</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">rcsetup</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">rcsetup</span><br><span class='nsl'>...&nbsp;</span><span class="kn">from</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">cbook</span><span class=""> </span><span class="kn">import</span><span class=""> </span><span class="">Bunch</span><span class="">,</span><span class=""> </span><span class="">dedent</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">all_backends</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">list</span><span class="">(</span><span class="">rcsetup</span><span class="o">.</span><span class="">all_backends</span><span class="">)</span><span class="">  </span><span class="c1"># to leave the original list alone</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># actual physical directory for each dir</span><br><span class='nsl'>...&nbsp;</span><span class="">dirs</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">dict</span><span class="">(</span><span class="">files</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">lines_bars_and_markers</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">shapes</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">shapes_and_collections</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">images</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">images_contours_and_fields</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">pie</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">pie_and_polar_charts</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">text</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">text_labels_and_annotations</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">ticks</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">ticks_and_spines</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">subplots</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">subplots_axes_and_figures</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">specialty</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">specialty_plots</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">showcase</span><span class="o">=</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">showcase</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">pylab</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">pylab_examples</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">api</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">api</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">units</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">units</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">mplot3d</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">..</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">mplot3d</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># files in each dir</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">dict</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">lines</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">barh_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fill_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fill_demo_features.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">line_demo_dash_control.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">line_styles_reference.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_with_legend.py</span><span class="s1">&#39;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">shapes</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">path_patch_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">colors</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">color_cycle_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">images</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">imshow_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">statistics</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">errorbar_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">errorbar_demo_features.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">histogram_demo_cumulative.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">histogram_demo_features.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">histogram_demo_histtypes.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">histogram_demo_multihist.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">pie</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">pie_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">polar_bar_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">polar_scatter_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">text_labels_and_annotations</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">text_demo_fontdict.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">unicode_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">ticks_and_spines</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">spines_demo_bounds.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">ticklabels_demo_rotation.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">subplots_axes_and_figures</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">subplot_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">showcase</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">integral_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">pylab</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">accented_text.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">alignment_test.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">annotation_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">annotation_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">annotation_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">annotation_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">anscombe.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">arctest.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">arrow_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">axes_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">axes_props.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">axhspan_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">axis_equal_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">bar_stacked.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">barb_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">barchart_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">barcode_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">boxplot_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">broken_barh.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">clippedline.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">cohere_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">color_by_yvalue.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">color_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">colorbar_tick_labelling_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contour_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contour_image.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contour_label_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contourf_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contourf_log.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">coords_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">coords_report.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">csd_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">cursor_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">custom_cmap.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">custom_figure_class.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">custom_ticker1.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">customize_rc.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">dashpointlabel.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">date_demo1.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">date_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">date_demo_convert.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">date_demo_rrule.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">date_index_formatter.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">dolphin.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">ellipse_collection.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">ellipse_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">ellipse_rotated.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">equal_aspect_ratio.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">errorbar_limits.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fancyarrow_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fancybox_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fancybox_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fancytextbox_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">figimage_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">figlegend_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">figure_title.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fill_between_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fill_spiral.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">finance_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">findobj_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fonts_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">fonts_demo_kw.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">ganged_plots.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">geo_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">gradient_bar.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">griddata_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">hatch_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">hexbin_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">hexbin_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">hist_colormapped.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">vline_hline_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_clip_path.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_interp.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_masked.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_nonuniform.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_origin.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_slices_viewer.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">interp_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">invert_axes.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">layer_images.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">legend_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">legend_demo3.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">line_collection.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">line_collection2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">log_bar.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">log_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">log_test.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">major_minor_demo1.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">major_minor_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">manual_axis.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">masked_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">mathtext_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">mathtext_examples.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">matplotlib_icon.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">matshow.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">mri_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">mri_with_eeg.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">multi_image.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">multiline.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">multiple_figs_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">nan_test.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">newscalarformatter_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">pcolor_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">pcolor_log.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">pcolor_small.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">pie_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">plotfile_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">polar_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">polar_legend.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">psd_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">psd_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">psd_demo3.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">quadmesh_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">quiver_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_custom_symbol.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_masked.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_profile.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_star_poly.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#&#39;set_and_get.py&#39;,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">shared_axis_across_figures.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">shared_axis_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">simple_plot.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">specgram_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">spine_placement_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">spy_demos.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">stem_plot.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">step_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">stix_fonts_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">stock_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">subplots_adjust.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">symlog_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">table_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">text_handles.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">text_rotation.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">text_rotation_relative_to_line.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">transoffset.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">xcorr_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">zorder_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">api</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">agg_oo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">barchart_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">bbox_intersect.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">collections_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">colorbar_only.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">custom_projection_example.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">custom_scale_example.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">date_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">date_index_formatter.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">donut_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">font_family_rc.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">image_zcoord.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">joinstyle.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">legend_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">line_with_text.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">logo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">mathtext_asarray.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">patch_collection.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">quad_bezier.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter_piecharts.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">span_regions.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">two_scales.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">unicode_minus.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">watermark_image.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">watermark_text.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">units</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">annotate_with_units.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#&#39;artist_tests.py&#39;,  # broken, fixme</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">bar_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#&#39;bar_unit_demo.py&#39;, # broken, fixme</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#&#39;ellipse_with_units.py&#39;,  # broken, fixme</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">radian_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">units_sample.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#&#39;units_scatter.py&#39;, # broken, fixme</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">files</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">mplot3d</span><span class="s1">&#39;</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">2dcollections3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">bars3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contour3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contour3d_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">contourf3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">lines3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">polys3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">scatter3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">surface3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">surface3d_demo2.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">text3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">wire3d_demo.py</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># dict from dir to files we know we don&#39;t want to test (eg examples</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># not using pyplot, examples requiring user input, animation examples,</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># examples that may only work in certain environs (usetex examples?),</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># examples that generate multiple figures</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">excluded</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">pylab</span><span class="s1">&#39;</span><span class=""> </span><span class="">:</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">__init__.py</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">toggle_images.py</span><span class="s1">&#39;</span><span class="">,</span><span class="">]</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">units</span><span class="s1">&#39;</span><span class=""> </span><span class="">:</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">__init__.py</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">date_support.py</span><span class="s1">&#39;</span><span class="">,</span><span class="">]</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">report_missing</span><span class="">(</span><span class="nb">dir</span><span class="">,</span><span class=""> </span><span class="">flist</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="s1">&#39;</span><span class="s1">report the py files in dir that are not in flist</span><span class="s1">&#39;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">globstr</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="nb">dir</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">*.py</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">fnames</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">glob</span><span class="o">.</span><span class="">glob</span><span class="">(</span><span class="">globstr</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">pyfiles</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">set</span><span class="">(</span><span class="">[</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">split</span><span class="">(</span><span class="">fullpath</span><span class="">)</span><span class="">[</span><span class="o">-</span><span class="mi">1</span><span class="">]</span><span class=""> </span><span class="k">for</span><span class=""> </span><span class="">fullpath</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">set</span><span class="">(</span><span class="">fnames</span><span class="">)</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">exclude</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">set</span><span class="">(</span><span class="">excluded</span><span class="o">.</span><span class="">get</span><span class="">(</span><span class="nb">dir</span><span class="">,</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">flist</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">set</span><span class="">(</span><span class="">flist</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">missing</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">list</span><span class="">(</span><span class="">pyfiles</span><span class="o">-</span><span class="">flist</span><span class="o">-</span><span class="">exclude</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">missing</span><span class="o">.</span><span class="">sort</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">if</span><span class=""> </span><span class="">missing</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> files not tested: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="">(</span><span class="nb">dir</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">, </span><span class="s1">&#39;</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="">missing</span><span class="">)</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">report_all_missing</span><span class="">(</span><span class="">directories</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">for</span><span class=""> </span><span class="">f</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">directories</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">report_missing</span><span class="">(</span><span class="">dirs</span><span class="">[</span><span class="">f</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">files</span><span class="">[</span><span class="">f</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># tests known to fail on a given backend</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">failbackend</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">dict</span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">svg</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">tex_demo.py</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">agg</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">hyperlinks.py</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">pdf</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">hyperlinks.py</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">ps</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">hyperlinks.py</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">try</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="kn">import</span><span class=""> </span><span class="nn">subprocess</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="nf">run</span><span class="">(</span><span class="">arglist</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">try</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">ret</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">subprocess</span><span class="o">.</span><span class="">call</span><span class="">(</span><span class="">arglist</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">except</span><span class=""> </span><span class="ne">KeyboardInterrupt</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">sys</span><span class="o">.</span><span class="">exit</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">else</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">return</span><span class=""> </span><span class="">ret</span><br><span class='nsl'>...&nbsp;</span><span class="k">except</span><span class=""> </span><span class="ne">ImportError</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">def</span><span class=""> </span><span class="nf">run</span><span class="">(</span><span class="">arglist</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">os</span><span class="o">.</span><span class="">system</span><span class="">(</span><span class="s1">&#39;</span><span class="s1"> </span><span class="s1">&#39;</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="">arglist</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">drive</span><span class="">(</span><span class="">backend</span><span class="">,</span><span class=""> </span><span class="">directories</span><span class="">,</span><span class=""> </span><span class="">python</span><span class="o">=</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">python</span><span class="s1">&#39;</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">switches</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">exclude</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">failbackend</span><span class="o">.</span><span class="">get</span><span class="">(</span><span class="">backend</span><span class="">,</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># Clear the destination directory for the examples</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">path</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">backend</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">if</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">exists</span><span class="">(</span><span class="">path</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="kn">import</span><span class=""> </span><span class="nn">glob</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">for</span><span class=""> </span><span class="">fname</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">listdir</span><span class="">(</span><span class="">path</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">os</span><span class="o">.</span><span class="">unlink</span><span class="">(</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="">path</span><span class="">,</span><span class=""> </span><span class="">fname</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">else</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">os</span><span class="o">.</span><span class="">mkdir</span><span class="">(</span><span class="">backend</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">failures</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">testcases</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="">dirs</span><span class="">[</span><span class="">d</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">fname</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">                 </span><span class="k">for</span><span class=""> </span><span class="">d</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">directories</span><br><span class='nsl'>...&nbsp;</span><span class="">                 </span><span class="k">for</span><span class=""> </span><span class="">fname</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">files</span><span class="">[</span><span class="">d</span><span class="">]</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">for</span><span class=""> </span><span class="">fullpath</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">testcases</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">driving </span><span class="si">%-40s</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">fullpath</span><span class="">)</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">sys</span><span class="o">.</span><span class="">stdout</span><span class="o">.</span><span class="">flush</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">fpath</span><span class="">,</span><span class=""> </span><span class="">fname</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">split</span><span class="">(</span><span class="">fullpath</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="">fname</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">exclude</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Skipping </span><span class="si">%s</span><span class="s1">, known to fail on backend: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="">backend</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">continue</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">basename</span><span class="">,</span><span class=""> </span><span class="">ext</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">splitext</span><span class="">(</span><span class="">fname</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">outfile</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="">path</span><span class="">,</span><span class=""> </span><span class="">basename</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">tmpfile_name</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">_tmp_</span><span class="si">%s</span><span class="s1">.py</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">basename</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">tmpfile</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">open</span><span class="">(</span><span class="">tmpfile_name</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">w</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">future_imports</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">from __future__ import division, print_function</span><span class="s1">&#39;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">for</span><span class=""> </span><span class="">line</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">open</span><span class="">(</span><span class="">fullpath</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">line_lstrip</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">line</span><span class="o">.</span><span class="">lstrip</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">if</span><span class=""> </span><span class="">line_lstrip</span><span class="o">.</span><span class="">startswith</span><span class="">(</span><span class="s2">&#34;</span><span class="s2">#</span><span class="s2">&#34;</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="">tmpfile</span><span class="o">.</span><span class="">write</span><span class="">(</span><span class="">line</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">elif</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">unicode_literals</span><span class="s1">&#39;</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">line</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="">future_imports</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">future_imports</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">, unicode_literals</span><span class="s1">&#39;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">tmpfile</span><span class="o">.</span><span class="">writelines</span><span class="">(</span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">future_imports</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="s1">&#39;</span><span class="s1">import sys</span><span class="se">\n</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="s1">&#39;</span><span class="s1">sys.path.append(</span><span class="s1">&#34;</span><span class="si">%s</span><span class="s1">&#34;</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">fpath</span><span class="o">.</span><span class="">replace</span><span class="">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="se">\\</span><span class="se">\\</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="s1">&#39;</span><span class="s1">import matplotlib</span><span class="se">\n</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="s1">&#39;</span><span class="s1">matplotlib.use(</span><span class="s1">&#34;</span><span class="si">%s</span><span class="s1">&#34;</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">backend</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="s1">&#39;</span><span class="s1">from pylab import savefig</span><span class="se">\n</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="s1">&#39;</span><span class="s1">import numpy</span><span class="se">\n</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="s1">&#39;</span><span class="s1">numpy.seterr(invalid=</span><span class="s1">&#34;</span><span class="s1">ignore</span><span class="s1">&#34;</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">for</span><span class=""> </span><span class="">line</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="nb">open</span><span class="">(</span><span class="">fullpath</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">line_lstrip</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">line</span><span class="o">.</span><span class="">lstrip</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">if</span><span class=""> </span><span class="">(</span><span class="">line_lstrip</span><span class="o">.</span><span class="">startswith</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">from __future__ import</span><span class="s1">&#39;</span><span class="">)</span><span class=""> </span><span class="ow">or</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="">line_lstrip</span><span class="o">.</span><span class="">startswith</span><span class="">(</span><span class="s1">&#39;</span><a class="foo s1" href="/p/matplotlib/3.5.1/api/matplotlib.use.html">matplotlib.use</a><span class="s1">&#39;</span><span class="">)</span><span class=""> </span><span class="ow">or</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="">line_lstrip</span><span class="o">.</span><span class="">startswith</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">savefig</span><span class="s1">&#39;</span><span class="">)</span><span class=""> </span><span class="ow">or</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="">line_lstrip</span><span class="o">.</span><span class="">startswith</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">show</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="k">continue</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">tmpfile</span><span class="o">.</span><span class="">write</span><span class="">(</span><span class="">line</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="">backend</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">rcsetup</span><span class="o">.</span><span class="">interactive_bk</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">tmpfile</span><span class="o">.</span><span class="">write</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">show()</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">else</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">tmpfile</span><span class="o">.</span><span class="">write</span><span class="">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">savefig(r</span><span class="s1">&#34;</span><span class="si">%s</span><span class="s1">&#34;</span><span class="s1">, dpi=150)</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">outfile</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">tmpfile</span><span class="o">.</span><span class="">close</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">start_time</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">time</span><span class="o">.</span><span class="">time</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">program</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">x</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">{</span><span class="s1">&#39;</span><span class="s1">name</span><span class="s1">&#39;</span><span class="">:</span><span class=""> </span><span class="">basename</span><span class="">}</span><span class=""> </span><span class="k">for</span><span class=""> </span><span class="">x</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">python</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">ret</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">run</span><span class="">(</span><span class="">program</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">[</span><span class="">tmpfile_name</span><span class="">]</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="">switches</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">end_time</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">time</span><span class="o">.</span><span class="">time</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s2">&#34;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&#34;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">(</span><span class="">end_time</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="">start_time</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">ret</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="c1">#os.system(&#39;%s %s %s&#39; % (python, tmpfile_name, &#39; &#39;.join(switches)))</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">os</span><span class="o">.</span><span class="">remove</span><span class="">(</span><span class="">tmpfile_name</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="">ret</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">failures</span><span class="o">.</span><span class="">append</span><span class="">(</span><span class="">fullpath</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">return</span><span class=""> </span><span class="">failures</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">def</span><span class=""> </span><span class="nf">parse_options</span><span class="">(</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">doc</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="vm">__doc__</span><span class=""> </span><span class="ow">and</span><span class=""> </span><span class="vm">__doc__</span><span class="o">.</span><span class="">split</span><span class="">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="se">\n</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><span class=""> </span><span class="ow">or</span><span class=""> </span><span class="s2">&#34;</span><span class="s2">  </span><span class="s2">&#34;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">OptionParser</span><span class="">(</span><span class="">description</span><span class="o">=</span><span class="">doc</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">strip</span><span class="">(</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                      </span><span class="">usage</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">%</span><span class="s1">prog [options] [--] [backends and switches]</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                      </span><span class="c1">#epilog=&#39;\n&#39;.join(doc[1:])  # epilog not supported on my python2.4 machine: JDH</span><br><span class='nsl'>...&nbsp;</span><span class="">                      </span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class="o">.</span><span class="">disable_interspersed_args</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class="o">.</span><span class="">set_defaults</span><span class="">(</span><span class="">dirs</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">pylab,api,units,mplot3d</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                    </span><span class="">clean</span><span class="o">=</span><span class="kc">False</span><span class="">,</span><span class=""> </span><span class="">coverage</span><span class="o">=</span><span class="kc">False</span><span class="">,</span><span class=""> </span><span class="">valgrind</span><span class="o">=</span><span class="kc">False</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class="o">.</span><span class="">add_option</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">-d</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">--dirs</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">--directories</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">string</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                  </span><span class="">dest</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">dirs</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">help</span><span class="o">=</span><span class="">dedent</span><span class="">(</span><span class="s1">&#39;&#39;&#39;</span><br><span class='nsl'>...&nbsp;</span><span class="s1">      Run only the tests in these directories; comma-separated list of</span><br><span class='nsl'>...&nbsp;</span><span class="s1">      one or more of: pylab (or pylab_examples), api, units, mplot3d</span><span class="s1">&#39;&#39;&#39;</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class="o">.</span><span class="">add_option</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">-b</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">--backends</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">string</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">dest</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">backends</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                  </span><span class="">help</span><span class="o">=</span><span class="">dedent</span><span class="">(</span><span class="s1">&#39;&#39;&#39;</span><br><span class='nsl'>...&nbsp;</span><span class="s1">      Run tests only for these backends; comma-separated list of</span><br><span class='nsl'>...&nbsp;</span><span class="s1">      one or more of: agg, ps, svg, pdf, template, cairo,</span><br><span class='nsl'>...&nbsp;</span><span class="s1">      Default is everything except cairo.</span><span class="s1">&#39;&#39;&#39;</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class="o">.</span><span class="">add_option</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">--clean</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">action</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">store_true</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">dest</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">clean</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                  </span><span class="">help</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">Remove result directories, run no tests</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class="o">.</span><span class="">add_option</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">-c</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">--coverage</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">action</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">store_true</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">dest</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">coverage</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                  </span><span class="">help</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">Run in coverage.py</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">op</span><span class="o">.</span><span class="">add_option</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">-v</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">--valgrind</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">action</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">store_true</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">dest</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">valgrind</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                  </span><span class="">help</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">Run in valgrind</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">options</span><span class="">,</span><span class=""> </span><span class="">args</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">op</span><span class="o">.</span><span class="">parse_args</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">switches</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">x</span><span class=""> </span><span class="k">for</span><span class=""> </span><span class="">x</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">args</span><span class=""> </span><span class="k">if</span><span class=""> </span><span class="">x</span><span class="o">.</span><span class="">startswith</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">--</span><span class="s1">&#39;</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">backends</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">x</span><span class="o">.</span><span class="">lower</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="k">for</span><span class=""> </span><span class="">x</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">args</span><span class=""> </span><span class="k">if</span><span class=""> </span><span class="ow">not</span><span class=""> </span><span class="">x</span><span class="o">.</span><span class="">startswith</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">--</span><span class="s1">&#39;</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">if</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">backends</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">backends</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">be</span><span class="o">.</span><span class="">lower</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="k">for</span><span class=""> </span><span class="">be</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">backends</span><span class="o">.</span><span class="">split</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">,</span><span class="s1">&#39;</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">result</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">Bunch</span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">dirs</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">dirs</span><span class="o">.</span><span class="">split</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">,</span><span class="s1">&#39;</span><span class="">)</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">backends</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">backends</span><span class=""> </span><span class="ow">or</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">agg</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">ps</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">svg</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">pdf</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">template</span><span class="s1">&#39;</span><span class="">]</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">clean</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">clean</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">coverage</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">coverage</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">valgrind</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">valgrind</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">switches</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">switches</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">if</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">pylab_examples</span><span class="s1">&#39;</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">result</span><span class="o">.</span><span class="">dirs</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">result</span><span class="o">.</span><span class="">dirs</span><span class="">[</span><span class="">result</span><span class="o">.</span><span class="">dirs</span><span class="o">.</span><span class="">index</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">pylab_examples</span><span class="s1">&#39;</span><span class="">)</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">pylab</span><span class="s1">&#39;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1">#print result</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">return</span><span class=""> </span><span class="">(</span><span class="">result</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="k">if</span><span class=""> </span><span class="vm">__name__</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">__main__</span><span class="s1">&#39;</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">times</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">failures</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">{</span><span class="">}</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">options</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">parse_options</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">if</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">clean</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">localdirs</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">d</span><span class=""> </span><span class="k">for</span><span class=""> </span><span class="">d</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">glob</span><span class="o">.</span><span class="">glob</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">*</span><span class="s1">&#39;</span><span class="">)</span><span class=""> </span><span class="k">if</span><span class=""> </span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">isdir</span><span class="">(</span><span class="">d</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">all_backends_set</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">set</span><span class="">(</span><span class="">all_backends</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">for</span><span class=""> </span><span class="">d</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">localdirs</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">if</span><span class=""> </span><span class="">d</span><span class="o">.</span><span class="">lower</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="ow">not</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">all_backends_set</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="k">continue</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">removing </span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="">d</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="k">for</span><span class=""> </span><span class="">fname</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">glob</span><span class="o">.</span><span class="">glob</span><span class="">(</span><span class="">os</span><span class="o">.</span><span class="">path</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="">d</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">*</span><span class="s1">&#39;</span><span class="">)</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="">os</span><span class="o">.</span><span class="">remove</span><span class="">(</span><span class="">fname</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">os</span><span class="o">.</span><span class="">rmdir</span><span class="">(</span><span class="">d</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">for</span><span class=""> </span><span class="">fname</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">glob</span><span class="o">.</span><span class="">glob</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">_tmp*.py</span><span class="s1">&#39;</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="">os</span><span class="o">.</span><span class="">remove</span><span class="">(</span><span class="">fname</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">all clean...</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">raise</span><span class=""> </span><span class="ne">SystemExit</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">if</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">coverage</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">python</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">coverage.py</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">-x</span><span class="s1">&#39;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">elif</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">valgrind</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">python</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">valgrind</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">--tool=memcheck</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">--leak-check=yes</span><span class="s1">&#39;</span><span class="">,</span><br><span class='nsl'>...&nbsp;</span><span class="">                  </span><span class="s1">&#39;</span><span class="s1">--log-file=</span><span class="si">%(name)s</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">sys</span><span class="o">.</span><span class="">executable</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">elif</span><span class=""> </span><span class="">sys</span><span class="o">.</span><span class="">platform</span><span class=""> </span><span class="o">==</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">win32</span><span class="s1">&#39;</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">python</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">sys</span><span class="o">.</span><span class="">executable</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">else</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">python</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="">sys</span><span class="o">.</span><span class="">executable</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="">report_all_missing</span><span class="">(</span><span class="">options</span><span class="o">.</span><span class="">dirs</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">for</span><span class=""> </span><span class="">backend</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">backends</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">testing </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">backend</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1"> </span><span class="s1">&#39;</span><span class="o">.</span><span class="">join</span><span class="">(</span><span class="">options</span><span class="o">.</span><span class="">switches</span><span class="">)</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">t0</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">time</span><span class="o">.</span><span class="">time</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">failures</span><span class="">[</span><span class="">backend</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">\
</span><span class="">            </span><span class="">drive</span><span class="">(</span><span class="">backend</span><span class="">,</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">dirs</span><span class="">,</span><span class=""> </span><span class="">python</span><span class="">,</span><span class=""> </span><span class="">options</span><span class="o">.</span><span class="">switches</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">t1</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">time</span><span class="o">.</span><span class="">time</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">times</span><span class="">[</span><span class="">backend</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">(</span><span class="">t1</span><span class="o">-</span><span class="">t0</span><span class="">)</span><span class="o">/</span><span class="mf">60.0</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="c1"># print times</span><br><span class='nsl'>...&nbsp;</span><span class="">    </span><span class="k">for</span><span class=""> </span><span class="">backend</span><span class="">,</span><span class=""> </span><span class="">elapsed</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">times</span><span class="o">.</span><span class="">items</span><span class="">(</span><span class="">)</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Backend </span><span class="si">%s</span><span class="s1"> took </span><span class="si">%1.2f</span><span class="s1"> minutes to complete</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><span class="">backend</span><span class="">,</span><span class=""> </span><span class="">elapsed</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="">failed</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">failures</span><span class="">[</span><span class="">backend</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="">failed</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="s1">  Failures: </span><span class="si">%s</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">failed</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">        </span><span class="k">if</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">template</span><span class="s1">&#39;</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">times</span><span class="">:</span><br><span class='nsl'>...&nbsp;</span><span class="">            </span><span class="nb">print</span><span class=""> </span><span class="">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">template ratio </span><span class="si">%1.3f</span><span class="s1">, template residual </span><span class="si">%1.3f</span><span class="s1">&#39;</span><span class=""> </span><span class="o">%</span><span class=""> </span><span class="">(</span><br><span class='nsl'>...&nbsp;</span><span class="">                </span><span class="">elapsed</span><span class="o">/</span><span class="">times</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">template</span><span class="s1">&#39;</span><span class="">]</span><span class="">,</span><span class=""> </span><span class="">elapsed</span><span class="o">-</span><span class="">times</span><span class="">[</span><span class="s1">&#39;</span><span class="s1">template</span><span class="s1">&#39;</span><span class="">]</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span>
</pre>
       




</div>
</body>
</html>