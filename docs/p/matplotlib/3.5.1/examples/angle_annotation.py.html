<!doctypehtml><html lang=en><meta charset=UTF-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Document</title><link href=https://fonts.xz.style/serve/inter.css rel=stylesheet><link crossorigin=anonymous href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css rel=stylesheet><script type=text/x-mathjax-config>
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script><script async src=https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js></script><style>body{
        font-family: 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
        color: #606c76;
        font-weight: 350;
        line-height: 1.6;
        max-width: 100%;
        margin-left:0;

    }
    

.external:after {
    font-weight: 900;
    content: "\2009\f35d";
    font-family: "Font Awesome 5 Free";
    display: inline-block;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    line-height: 1;
    font-size: small;
    
}
    .search {

        text-align: center
    }

    .search input {
        width: 80%;<D-r>
        border-radius:0;


    }
    .cards {
        display: grid;
        /*grid-template-columns: repeat(3, 1fr);*/
        grid-template-columns: repeat(auto-fill, 270px);
        grid-auto-rows: auto;
        justify-content: center;
        align-content: center;
        grid-gap: 1rem;
    }

    .helper {
        display: inline-block;
        height: 100%;
        vertical-align: middle;
    }
    
    .card {
        /* Add shadows to create the "card" effect */
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        width: 250px;
        height: 300px;
        padding: 10px;
        text-align: center;
    }

    .card div:nth-child(1){
        height: 200px;
    }

    /* On mouse-over, add a deeper shadow */
    .card:hover {
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
    }
    .card > div {
        padding: 2px 16px;
    }

    .cards h4, .cards a {
        text-decoration: none;
        color: var(--nc-tx-1);
    }

    .card img {
        display: inline-block;
        max-width: 90%;
        max-height: 90%;
        vertical-align: middle;
    }



    .graph{border: 1px gray solid;}
    .foo:hover{text-decoration:underline}
    .foo{font-weight:bold; color:#4e4e4e}
    .exists{font-weight:bold; color:#4e4e4e;text-decoration:none;}
    .local{font-weight:bold; color:#1e6f04;text-decoration:none;}
    .exists:hover{text-decoration:underline;color:black}
    .missing,.missing:hover{color:darkred;text-decoration:none;font-weight:normal}
    .signature {font-size:100%; margin-bottom: 2rem; display: block; border:none; background-color: #FFFFFF;
        font-weight:600;}
    h1, h2, h3 {color: #4e4e4e; font-weight:400;
        margin-bottom: 1rem;border-bottom: 1px solid var(--nc-bg-3);
    }
    pre{border-radius:0;
        padding:0.6rem;
    border-left: 3px solid #AAA}
    dt {font-weight: 400;}

    header{
        box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;

        padding-top:0rem;
        padding-bottom:0rem;
        z-index: 2;
        padding-left: 0;
        position: fixed;
        top: 30px;
        left:0; 
        width: 100%;
        height: 42px;
        backdrop-filter: blur(5px);
        background-color: rgba(255, 255, 255, .15);
    }
      dd::before {
        content: '';
      }
      header > brand, header>:first-child {
          border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;
          padding: 16px;
          padding-top: 0.5rem;
          padding-bottom: 0.5rem;
          display: inline-block; 
          width: 167px;
          

      }
      brand > a {color:#606c76}
      brand > i {
          padding-right: 0.5rem;

        }
          nav{display:inline-block;
              padding: 10px;
              padding-left: 1rem;

          }

          dd {
              margin-left: 1rem;
              border-left:  solid #ddd;
              padding-left: 1rem;
          }
          summary > h2 { display: inline }

          .sidenav {
                height: 100%; /* Full-height: remove this if you want "auto" height */
                width: 200px; /* Set the width of the sidebar */
                position: fixed; /* Fixed Sidebar (stay in place on scroll) */
                z-index: 1; /* Stay on top */
                top: 0; /* Stay at the top */
                left: 0;
                background-color: var(--nc-bg-1);; /* Black */
                border-right: thin solid #ccc;
                overflow-x: hidden; /* Disable horizontal scroll */
                padding-top: 3rem;
 
                box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                
          }

          .sidenav a {
            padding: 6px 8px 6px 16px;
            text-decoration: none;
            color: #818181;
            display: block;
          }
          .sidenav a:hover{
            text-decoration: underline;
          }
          .sidenav img {
              width: 160px;
              padding-left:20px;
              padding-right:20px;
              border-bottom: solid thin #DDD; 
              padding-bottom: .5rem;
              max-width: 100%;
          }
          .sidenav i {
              font-size: 100;
              padding-left: 3.5rem;
              padding-right: 3.5rem;
              padding-bottom: .5rem;
              border-bottom: solid thin #DDD; 

          }
          .container {
              padding-left: 210px;
              
              padding-top: 30px;

          }

          ::selection {
	/* Set background color for selected text */
                background: #59b4fd;
                color: var(--nc-ac-tx);
          }

          img {max-width: 40%;}

          pre.highlight.execed, .admonition {
            border-left: 3px solid #0070f3;
          }
          .admonition {
            padding-left: 1em;
          }
          .admonition > div {
            background-color: rgba(0, 123, 255, 0.1);
            position: relative;
            margin: 0 -1rem;
            padding: 0.4rem 0.1rem 0.4rem 1.5rem;
            font-weight: bold;
            text-transform: capitalize;
        }
          .note {color: #7d77d2}
          .warning {color: #af7b1a}
          .error {color: #f44336}
          pre.highlight.compiled {
            border-left: 3px solid #7d77d2;
          }
          pre.highlight.syntax_error, pre.highlight.exception_in_exec {
            border-left: 3px solid #f44336;
          }

        /* Dropdown Button */
/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
  margin-left: -4px;
}

nav  a {
    color: #606c76;
    text-decoration: none;

}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {background-color: #ddd;}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {display: block;
    max-height: 80vh;
    overflow: scroll;}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {}


pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #333333 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #666666 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #0000DD; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .dl { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066bb; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .vm { color: #336699 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */

.nsl {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}


.block_directive{

    border-left: thin solid var(--nc-lk-1);
    padding-bottom: 8px;
    padding-left: 12px;
}

.block_directive.head{

    border: thin solid var(--nc-lk-1);
}


.block_directive > p{
    margin-left: 2em;
    margin-top: 1em;
}
.head {
    font-family: monospace;
    color: var(--nc-lk-1);
}</style><body class=tex2jax_ignore><header><brand><i class="fab fa-python"></i><a href=/>Home</a></brand><nav>/ <a href=/>p</a>  /  <div class=dropdown><a href=matplotlib>matplotlib</a> /  <div class=dropdown-content><a href=/p/matplotlib/3.5.1/api/matplotlib.html>matplotlib</a><a href=/p/numpy/1.22.3/api/numpy.html>numpy</a><a href=/p/scipy/1.8.0/api/scipy.html>scipy</a><a href=/p/skimage/0.17.2/api/skimage.html>skimage</a><a href=/p/papyri/0.0.8/api/papyri.html>papyri</a><a href=/p/distributed/2021.10.0/api/distributed.html>distributed</a><a href=/p/pandas/1.4.1/api/pandas.html>pandas</a><a href=/p/networkx/2.7.2rc1.dev0/api/networkx.html>networkx</a><a href=/p/IPython/8.2.0.dev/api/IPython.html>IPython</a><a href=/p/astropy/5.0/api/astropy.html>astropy</a><a href=/p/dask/2021.10.0/api/dask.html>dask</a></div></div><div class=dropdown><a href=/p/matplotlib/3.5.1/api/matplotlib.html>3.5.1</a> /  <div class=dropdown-content><a href=/p/matplotlib/3.5.1/api/matplotlib.html>3.5.1</a></div></div><div class=dropdown><a href=/p/matplotlib/3.5.1/api/matplotlib.html>Examples</a> /  <div class=dropdown-content><a href=/p/matplotlib/3.5.1/api/matplotlib.html>API</a><a href=/p/matplotlib/3.5.1/gallery>Gallery</a><a href=/p/matplotlib/3.5.1/examples>Examples</a></div></div><div class=dropdown><a class=dropbtn href=.html>matplotlib</a></div></nav></header><div class=container><div class=sidenav><img src=/p/matplotlib/3.5.1/img/logo.png><a href=#>matplotlib</a><a href=#>3.5.1</a><hr><hr></div><pre class="highlight None"><span class=nsl>>>> </span><span class=sd>"""
===========================
Scale invariant angle label
===========================

This example shows how to create a scale invariant angle annotation. It is
often useful to mark angles between lines or inside shapes with a circular arc.
While Matplotlib provides an `~.patches.Arc`, an inherent problem when directly
using it for such purposes is that an arc being circular in data space is not
necessarily circular in display space. Also, the arc's radius is often best
defined in a coordinate system which is independent of the actual data
coordinates - at least if you want to be able to freely zoom into your plot
without the annotation growing to infinity.

This calls for a solution where the arc's center is defined in data space, but
its radius in a physical unit like points or pixels, or as a ratio of the Axes
dimension. The following ``AngleAnnotation`` class provides such solution.

The example below serves two purposes:

* It provides a ready-to-use solution for the problem of easily drawing angles
  in graphs.
* It shows how to subclass a Matplotlib artist to enhance its functionality, as
  well as giving a hands-on example on how to use Matplotlib's :doc:`transform
  system &LT/tutorials/advanced/transforms_tutorial>`.

If mainly interested in the former, you may copy the below class and jump to
the :ref:`angle-annotation-usage` section.
"""</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1>#########################################################################</span><br><span class=nsl>... </span><span class=c1># AngleAnnotation class</span><br><span class=nsl>... </span><span class=c1># ~~~~~~~~~~~~~~~~~~~~~</span><br><span class=nsl>... </span><span class=c1># The essential idea here is to subclass `~.patches.Arc` and set its transform</span><br><span class=nsl>... </span><span class=c1># to the `~.transforms.IdentityTransform`, making the parameters of the arc</span><br><span class=nsl>... </span><span class=c1># defined in pixel space.</span><br><span class=nsl>... </span><span class=c1># We then override the ``Arc``'s attributes ``_center``, ``theta1``,</span><br><span class=nsl>... </span><span class=c1># ``theta2``, ``width`` and ``height`` and make them properties, coupling to</span><br><span class=nsl>... </span><span class=c1># internal methods that calculate the respective parameters each time the</span><br><span class=nsl>... </span><span class=c1># attribute is accessed and thereby ensuring that the arc in pixel space stays</span><br><span class=nsl>... </span><span class=c1># synchronized with the input points and size.</span><br><span class=nsl>... </span><span class=c1># For example, each time the arc's drawing method would query its ``_center``</span><br><span class=nsl>... </span><span class=c1># attribute, instead of receiving the same number all over again, it will</span><br><span class=nsl>... </span><span class=c1># instead receive the result of the ``get_center_in_pixels`` method we defined</span><br><span class=nsl>... </span><span class=c1># in the subclass. This method transforms the center in data coordinates to</span><br><span class=nsl>... </span><span class=c1># pixels via the Axes transform ``ax.transData``. The size and the angles are</span><br><span class=nsl>... </span><span class=c1># calculated in a similar fashion, such that the arc changes its shape</span><br><span class=nsl>... </span><span class=c1># automatically when e.g. zooming or panning interactively.</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1># The functionality of this class allows to annotate the arc with a text. This</span><br><span class=nsl>... </span><span class=c1># text is a `~.text.Annotation` stored in an attribute ``text``. Since the</span><br><span class=nsl>... </span><span class=c1># arc's position and radius are defined only at draw time, we need to update</span><br><span class=nsl>... </span><span class=c1># the text's position accordingly. This is done by reimplementing the ``Arc``'s</span><br><span class=nsl>... </span><span class=c1># ``draw()`` method to let it call an updating method for the text.</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1># The arc and the text will be added to the provided Axes at instantiation: it</span><br><span class=nsl>... </span><span class=c1># is hence not strictly necessary to keep a reference to it.</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=kn>import</span><span> </span><a class="foo nn", href=/p/numpy/1.22.3/api/numpy.html>numpy</a><span> </span><span class=k>as</span><span> </span><span class=nn>np</span><br><span class=nsl>... </span><span class=kn>import</span><span> </span><a class="foo nn", href=/p/matplotlib/3.5.1/api/matplotlib.html>matplotlib</a><span class=nn>.</span><span class=nn>pyplot</span><span> </span><span class=k>as</span><span> </span><span class=nn>plt</span><br><span class=nsl>... </span><span class=kn>from</span><span> </span><a class="foo nn", href=/p/matplotlib/3.5.1/api/matplotlib.html>matplotlib</a><span class=nn>.</span><span class=nn>patches</span><span> </span><span class=kn>import</span><span> </span><span>Arc</span><br><span class=nsl>... </span><span class=kn>from</span><span> </span><a class="foo nn", href=/p/matplotlib/3.5.1/api/matplotlib.html>matplotlib</a><span class=nn>.</span><span class=nn>transforms</span><span> </span><span class=kn>import</span><span> </span><span>IdentityTransform</span><span>,</span><span> </span><span>TransformedBbox</span><span>,</span><span> </span><span>Bbox</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=k>class</span><span> </span><span class=nc>AngleAnnotation</span><span>(</span><span>Arc</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>    </span><span class=sd>"""
    Draws an arc between two vectors which appears circular in display space.
    """</span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=fm>__init__</span><span>(</span><span class=bp>self</span><span>,</span><span> </span><span>xy</span><span>,</span><span> </span><span>p1</span><span>,</span><span> </span><span>p2</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>75</span><span>,</span><span> </span><span>unit</span><span class=o>=</span><span class=s2>"</span><span class=s2>points</span><span class=s2>"</span><span>,</span><span> </span><span>ax</span><span class=o>=</span><span class=kc>None</span><span>,</span><br><span class=nsl>... </span><span>                 </span><span>text</span><span class=o>=</span><span class=s2>"</span><span class=s2>"</span><span>,</span><span> </span><span>textposition</span><span class=o>=</span><span class=s2>"</span><span class=s2>inside</span><span class=s2>"</span><span>,</span><span> </span><span>text_kw</span><span class=o>=</span><span class=kc>None</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kwargs</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=sd>"""
        Parameters
        ----------
        xy, p1, p2 : tuple or array of two floats
            Center position and two points. Angle annotation is drawn between
            the two vectors connecting *p1* and *p2* with *xy*, respectively.
            Units are data coordinates.

        size : float
            Diameter of the angle annotation in units specified by *unit*.

        unit : str
            One of the following strings to specify the unit of *size*:

            * "pixels": pixels
            * "points": points, use points instead of pixels to not have a
              dependence on the DPI
            * "axes width", "axes height": relative units of Axes width, height
            * "axes min", "axes max": minimum or maximum of relative Axes
              width, height

        ax : `matplotlib.axes.Axes`
            The Axes to add the angle annotation to.

        text : str
            The text to mark the angle with.

        textposition : {"inside", "outside", "edge"}
            Whether to show the text in- or outside the arc. "edge" can be used
            for custom positions anchored at the arc's edge.

        text_kw : dict
            Dictionary of arguments passed to the Annotation.

        **kwargs
            Further parameters are passed to `matplotlib.patches.Arc`. Use this
            to specify, color, linewidth etc. of the arc.

        """</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>ax</span><span> </span><span class=o>=</span><span> </span><span>ax</span><span> </span><span class=ow>or</span><span> </span><span>plt</span><span class=o>.</span><span>gca</span><span>(</span><span>)</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>_xydata</span><span> </span><span class=o>=</span><span> </span><span>xy</span><span>  </span><span class=c1># in data coordinates</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>vec1</span><span> </span><span class=o>=</span><span> </span><span>p1</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>vec2</span><span> </span><span class=o>=</span><span> </span><span>p2</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>size</span><span> </span><span class=o>=</span><span> </span><span>size</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>unit</span><span> </span><span class=o>=</span><span> </span><span>unit</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>textposition</span><span> </span><span class=o>=</span><span> </span><span>textposition</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>        </span><span class=nb>super</span><span>(</span><span>)</span><span class=o>.</span><span class=fm>__init__</span><span>(</span><span class=bp>self</span><span class=o>.</span><span>_xydata</span><span>,</span><span> </span><span>size</span><span>,</span><span> </span><span>size</span><span>,</span><span> </span><span>angle</span><span class=o>=</span><span class=mf>0.0</span><span>,</span><br><span class=nsl>... </span><span>                         </span><span>theta1</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span>theta1</span><span>,</span><span> </span><span>theta2</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span>theta2</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kwargs</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>set_transform</span><span>(</span><span>IdentityTransform</span><span>(</span><span>)</span><span>)</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>ax</span><span class=o>.</span><span>add_patch</span><span>(</span><span class=bp>self</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>kw</span><span> </span><span class=o>=</span><span> </span><span class=nb>dict</span><span>(</span><span>ha</span><span class=o>=</span><span class=s2>"</span><span class=s2>center</span><span class=s2>"</span><span>,</span><span> </span><span>va</span><span class=o>=</span><span class=s2>"</span><span class=s2>center</span><span class=s2>"</span><span>,</span><br><span class=nsl>... </span><span>                       </span><span>xycoords</span><span class=o>=</span><span>IdentityTransform</span><span>(</span><span>)</span><span>,</span><br><span class=nsl>... </span><span>                       </span><span>xytext</span><span class=o>=</span><span>(</span><span class=mi>0</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span>textcoords</span><span class=o>=</span><span class=s2>"</span><span class=s2>offset points</span><span class=s2>"</span><span>,</span><br><span class=nsl>... </span><span>                       </span><span>annotation_clip</span><span class=o>=</span><span class=kc>True</span><span>)</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>kw</span><span class=o>.</span><span>update</span><span>(</span><span>text_kw</span><span> </span><span class=ow>or</span><span> </span><span>{</span><span>}</span><span>)</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>text</span><span> </span><span class=o>=</span><span> </span><span>ax</span><span class=o>.</span><span>annotate</span><span>(</span><span>text</span><span>,</span><span> </span><span>xy</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span>_center</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span class=bp>self</span><span class=o>.</span><span>kw</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>get_size</span><span>(</span><span class=bp>self</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span>factor</span><span> </span><span class=o>=</span><span> </span><span class=mf>1.</span><br><span class=nsl>... </span><span>        </span><span class=k>if</span><span> </span><span class=bp>self</span><span class=o>.</span><span>unit</span><span> </span><span class=o>==</span><span> </span><span class=s2>"</span><span class=s2>points</span><span class=s2>"</span><span>:</span><br><span class=nsl>... </span><span>            </span><span>factor</span><span> </span><span class=o>=</span><span> </span><span class=bp>self</span><span class=o>.</span><span>ax</span><span class=o>.</span><span>figure</span><span class=o>.</span><span>dpi</span><span> </span><span class=o>/</span><span> </span><span class=mf>72.</span><br><span class=nsl>... </span><span>        </span><span class=k>elif</span><span> </span><span class=bp>self</span><span class=o>.</span><span>unit</span><span>[</span><span>:</span><span class=mi>4</span><span>]</span><span> </span><span class=o>==</span><span> </span><span class=s2>"</span><span class=s2>axes</span><span class=s2>"</span><span>:</span><br><span class=nsl>... </span><span>            </span><span>b</span><span> </span><span class=o>=</span><span> </span><span>TransformedBbox</span><span>(</span><span>Bbox</span><span class=o>.</span><span>from_bounds</span><span>(</span><span class=mi>0</span><span>,</span><span> </span><span class=mi>0</span><span>,</span><span> </span><span class=mi>1</span><span>,</span><span> </span><span class=mi>1</span><span>)</span><span>,</span><br><span class=nsl>... </span><span>                                </span><span class=bp>self</span><span class=o>.</span><span>ax</span><span class=o>.</span><span>transAxes</span><span>)</span><br><span class=nsl>... </span><span>            </span><span>dic</span><span> </span><span class=o>=</span><span> </span><span>{</span><span class=s2>"</span><span class=s2>max</span><span class=s2>"</span><span>:</span><span> </span><span class=nb>max</span><span>(</span><span>b</span><span class=o>.</span><span>width</span><span>,</span><span> </span><span>b</span><span class=o>.</span><span>height</span><span>)</span><span>,</span><br><span class=nsl>... </span><span>                   </span><span class=s2>"</span><span class=s2>min</span><span class=s2>"</span><span>:</span><span> </span><span class=nb>min</span><span>(</span><span>b</span><span class=o>.</span><span>width</span><span>,</span><span> </span><span>b</span><span class=o>.</span><span>height</span><span>)</span><span>,</span><br><span class=nsl>... </span><span>                   </span><span class=s2>"</span><span class=s2>width</span><span class=s2>"</span><span>:</span><span> </span><span>b</span><span class=o>.</span><span>width</span><span>,</span><span> </span><span class=s2>"</span><span class=s2>height</span><span class=s2>"</span><span>:</span><span> </span><span>b</span><span class=o>.</span><span>height</span><span>}</span><br><span class=nsl>... </span><span>            </span><span>factor</span><span> </span><span class=o>=</span><span> </span><span>dic</span><span>[</span><span class=bp>self</span><span class=o>.</span><span>unit</span><span>[</span><span class=mi>5</span><span>:</span><span>]</span><span>]</span><br><span class=nsl>... </span><span>        </span><span class=k>return</span><span> </span><span class=bp>self</span><span class=o>.</span><span>size</span><span> </span><span class=o>*</span><span> </span><span>factor</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>set_size</span><span>(</span><span class=bp>self</span><span>,</span><span> </span><span>size</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>size</span><span> </span><span class=o>=</span><span> </span><span>size</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>get_center_in_pixels</span><span>(</span><span class=bp>self</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=sd>"""return center in pixels"""</span><br><span class=nsl>... </span><span>        </span><span class=k>return</span><span> </span><span class=bp>self</span><span class=o>.</span><span>ax</span><span class=o>.</span><span>transData</span><span class=o>.</span><span>transform</span><span>(</span><span class=bp>self</span><span class=o>.</span><span>_xydata</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>set_center</span><span>(</span><span class=bp>self</span><span>,</span><span> </span><span>xy</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=sd>"""set center in data coordinates"""</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>_xydata</span><span> </span><span class=o>=</span><span> </span><span>xy</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>get_theta</span><span>(</span><span class=bp>self</span><span>,</span><span> </span><span>vec</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span>vec_in_pixels</span><span> </span><span class=o>=</span><span> </span><span class=bp>self</span><span class=o>.</span><span>ax</span><span class=o>.</span><span>transData</span><span class=o>.</span><span>transform</span><span>(</span><span>vec</span><span>)</span><span> </span><span class=o>-</span><span> </span><span class=bp>self</span><span class=o>.</span><span>_center</span><br><span class=nsl>... </span><span>        </span><span class=k>return</span><span> </span><span>np</span><span class=o>.</span><span>rad2deg</span><span>(</span><span>np</span><span class=o>.</span><span>arctan2</span><span>(</span><span>vec_in_pixels</span><span>[</span><span class=mi>1</span><span>]</span><span>,</span><span> </span><span>vec_in_pixels</span><span>[</span><span class=mi>0</span><span>]</span><span>)</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>get_theta1</span><span>(</span><span class=bp>self</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=k>return</span><span> </span><span class=bp>self</span><span class=o>.</span><span>get_theta</span><span>(</span><span class=bp>self</span><span class=o>.</span><span>vec1</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>get_theta2</span><span>(</span><span class=bp>self</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=k>return</span><span> </span><span class=bp>self</span><span class=o>.</span><span>get_theta</span><span>(</span><span class=bp>self</span><span class=o>.</span><span>vec2</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>set_theta</span><span>(</span><span class=bp>self</span><span>,</span><span> </span><span>angle</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=k>pass</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=c1># Redefine attributes of the Arc to always give values in pixel space</span><br><span class=nsl>... </span><span>    </span><span>_center</span><span> </span><span class=o>=</span><span> </span><span class=nb>property</span><span>(</span><span>get_center_in_pixels</span><span>,</span><span> </span><span>set_center</span><span>)</span><br><span class=nsl>... </span><span>    </span><span>theta1</span><span> </span><span class=o>=</span><span> </span><span class=nb>property</span><span>(</span><span>get_theta1</span><span>,</span><span> </span><span>set_theta</span><span>)</span><br><span class=nsl>... </span><span>    </span><span>theta2</span><span> </span><span class=o>=</span><span> </span><span class=nb>property</span><span>(</span><span>get_theta2</span><span>,</span><span> </span><span>set_theta</span><span>)</span><br><span class=nsl>... </span><span>    </span><span>width</span><span> </span><span class=o>=</span><span> </span><span class=nb>property</span><span>(</span><span>get_size</span><span>,</span><span> </span><span>set_size</span><span>)</span><br><span class=nsl>... </span><span>    </span><span>height</span><span> </span><span class=o>=</span><span> </span><span class=nb>property</span><span>(</span><span>get_size</span><span>,</span><span> </span><span>set_size</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=c1># The following two methods are needed to update the text position.</span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>draw</span><span>(</span><span class=bp>self</span><span>,</span><span> </span><span>renderer</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>update_text</span><span>(</span><span>)</span><br><span class=nsl>... </span><span>        </span><span class=nb>super</span><span>(</span><span>)</span><span class=o>.</span><span>draw</span><span>(</span><span>renderer</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>    </span><span class=k>def</span><span> </span><span class=nf>update_text</span><span>(</span><span class=bp>self</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>        </span><span>c</span><span> </span><span class=o>=</span><span> </span><span class=bp>self</span><span class=o>.</span><span>_center</span><br><span class=nsl>... </span><span>        </span><span>s</span><span> </span><span class=o>=</span><span> </span><span class=bp>self</span><span class=o>.</span><span>get_size</span><span>(</span><span>)</span><br><span class=nsl>... </span><span>        </span><span>angle_span</span><span> </span><span class=o>=</span><span> </span><span>(</span><span class=bp>self</span><span class=o>.</span><span>theta2</span><span> </span><span class=o>-</span><span> </span><span class=bp>self</span><span class=o>.</span><span>theta1</span><span>)</span><span> </span><span class=o>%</span><span> </span><span class=mi>360</span><br><span class=nsl>... </span><span>        </span><span>angle</span><span> </span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>deg2rad</span><span>(</span><span class=bp>self</span><span class=o>.</span><span>theta1</span><span> </span><span class=o>+</span><span> </span><span>angle_span</span><span> </span><span class=o>/</span><span> </span><span class=mi>2</span><span>)</span><br><span class=nsl>... </span><span>        </span><span>r</span><span> </span><span class=o>=</span><span> </span><span>s</span><span> </span><span class=o>/</span><span> </span><span class=mi>2</span><br><span class=nsl>... </span><span>        </span><span class=k>if</span><span> </span><span class=bp>self</span><span class=o>.</span><span>textposition</span><span> </span><span class=o>==</span><span> </span><span class=s2>"</span><span class=s2>inside</span><span class=s2>"</span><span>:</span><br><span class=nsl>... </span><span>            </span><span>r</span><span> </span><span class=o>=</span><span> </span><span>s</span><span> </span><span class=o>/</span><span> </span><span>np</span><span class=o>.</span><span>interp</span><span>(</span><span>angle_span</span><span>,</span><span> </span><span>[</span><span class=mi>60</span><span>,</span><span> </span><span class=mi>90</span><span>,</span><span> </span><span class=mi>135</span><span>,</span><span> </span><span class=mi>180</span><span>]</span><span>,</span><br><span class=nsl>... </span><span>                                          </span><span>[</span><span class=mf>3.3</span><span>,</span><span> </span><span class=mf>3.5</span><span>,</span><span> </span><span class=mf>3.8</span><span>,</span><span> </span><span class=mi>4</span><span>]</span><span>)</span><br><span class=nsl>... </span><span>        </span><span class=bp>self</span><span class=o>.</span><span>text</span><span class=o>.</span><span>xy</span><span> </span><span class=o>=</span><span> </span><span>c</span><span> </span><span class=o>+</span><span> </span><span>r</span><span> </span><span class=o>*</span><span> </span><span>np</span><span class=o>.</span><span>array</span><span>(</span><span>[</span><span>np</span><span class=o>.</span><span>cos</span><span>(</span><span>angle</span><span>)</span><span>,</span><span> </span><span>np</span><span class=o>.</span><span>sin</span><span>(</span><span>angle</span><span>)</span><span>]</span><span>)</span><br><span class=nsl>... </span><span>        </span><span class=k>if</span><span> </span><span class=bp>self</span><span class=o>.</span><span>textposition</span><span> </span><span class=o>==</span><span> </span><span class=s2>"</span><span class=s2>outside</span><span class=s2>"</span><span>:</span><br><span class=nsl>... </span><span>            </span><span class=k>def</span><span> </span><span class=nf>R90</span><span>(</span><span>a</span><span>,</span><span> </span><span>r</span><span>,</span><span> </span><span>w</span><span>,</span><span> </span><span>h</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>                </span><span class=k>if</span><span> </span><span>a</span><span> </span><span class=o><</span><span> </span><span>np</span><span class=o>.</span><span>arctan</span><span>(</span><span>h</span><span class=o>/</span><span class=mi>2</span><span class=o>/</span><span>(</span><span>r</span><span class=o>+</span><span>w</span><span class=o>/</span><span class=mi>2</span><span>)</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>                    </span><span class=k>return</span><span> </span><span>np</span><span class=o>.</span><span>sqrt</span><span>(</span><span>(</span><span>r</span><span class=o>+</span><span>w</span><span class=o>/</span><span class=mi>2</span><span>)</span><span class=o>*</span><span class=o>*</span><span class=mi>2</span><span> </span><span class=o>+</span><span> </span><span>(</span><span>np</span><span class=o>.</span><span>tan</span><span>(</span><span>a</span><span>)</span><span class=o>*</span><span>(</span><span>r</span><span class=o>+</span><span>w</span><span class=o>/</span><span class=mi>2</span><span>)</span><span>)</span><span class=o>*</span><span class=o>*</span><span class=mi>2</span><span>)</span><br><span class=nsl>... </span><span>                </span><span class=k>else</span><span>:</span><br><span class=nsl>... </span><span>                    </span><span>c</span><span> </span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>sqrt</span><span>(</span><span>(</span><span>w</span><span class=o>/</span><span class=mi>2</span><span>)</span><span class=o>*</span><span class=o>*</span><span class=mi>2</span><span class=o>+</span><span>(</span><span>h</span><span class=o>/</span><span class=mi>2</span><span>)</span><span class=o>*</span><span class=o>*</span><span class=mi>2</span><span>)</span><br><span class=nsl>... </span><span>                    </span><span>T</span><span> </span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>arcsin</span><span>(</span><span>c</span><span> </span><span class=o>*</span><span> </span><span>np</span><span class=o>.</span><span>cos</span><span>(</span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>2</span><span> </span><span class=o>-</span><span> </span><span>a</span><span> </span><span class=o>+</span><span> </span><span>np</span><span class=o>.</span><span>arcsin</span><span>(</span><span>h</span><span class=o>/</span><span class=mi>2</span><span class=o>/</span><span>c</span><span>)</span><span>)</span><span class=o>/</span><span>r</span><span>)</span><br><span class=nsl>... </span><span>                    </span><span>xy</span><span> </span><span class=o>=</span><span> </span><span>r</span><span> </span><span class=o>*</span><span> </span><span>np</span><span class=o>.</span><span>array</span><span>(</span><span>[</span><span>np</span><span class=o>.</span><span>cos</span><span>(</span><span>a</span><span> </span><span class=o>+</span><span> </span><span>T</span><span>)</span><span>,</span><span> </span><span>np</span><span class=o>.</span><span>sin</span><span>(</span><span>a</span><span> </span><span class=o>+</span><span> </span><span>T</span><span>)</span><span>]</span><span>)</span><br><span class=nsl>... </span><span>                    </span><span>xy</span><span> </span><span class=o>+</span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>array</span><span>(</span><span>[</span><span>w</span><span class=o>/</span><span class=mi>2</span><span>,</span><span> </span><span>h</span><span class=o>/</span><span class=mi>2</span><span>]</span><span>)</span><br><span class=nsl>... </span><span>                    </span><span class=k>return</span><span> </span><span>np</span><span class=o>.</span><span>sqrt</span><span>(</span><span>np</span><span class=o>.</span><span>sum</span><span>(</span><span>xy</span><span class=o>*</span><span class=o>*</span><span class=mi>2</span><span>)</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>            </span><span class=k>def</span><span> </span><span class=nf>R</span><span>(</span><span>a</span><span>,</span><span> </span><span>r</span><span>,</span><span> </span><span>w</span><span>,</span><span> </span><span>h</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>                </span><span>aa</span><span> </span><span class=o>=</span><span> </span><span>(</span><span>a</span><span> </span><span class=o>%</span><span> </span><span>(</span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>4</span><span>)</span><span>)</span><span class=o>*</span><span>(</span><span>(</span><span>a</span><span> </span><span class=o>%</span><span> </span><span>(</span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>2</span><span>)</span><span>)</span><span> </span><span class=o><</span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>4</span><span>)</span><span> </span><span class=o>+</span><span> </span><span>\
</span><span>                     </span><span>(</span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>4</span><span> </span><span class=o>-</span><span> </span><span>(</span><span>a</span><span> </span><span class=o>%</span><span> </span><span>(</span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>4</span><span>)</span><span>)</span><span>)</span><span class=o>*</span><span>(</span><span>(</span><span>a</span><span> </span><span class=o>%</span><span> </span><span>(</span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>2</span><span>)</span><span>)</span><span> </span><span class=o>></span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>pi</span><span class=o>/</span><span class=mi>4</span><span>)</span><br><span class=nsl>... </span><span>                </span><span class=k>return</span><span> </span><span>R90</span><span>(</span><span>aa</span><span>,</span><span> </span><span>r</span><span>,</span><span> </span><span class=o>*</span><span>[</span><span>w</span><span>,</span><span> </span><span>h</span><span>]</span><span>[</span><span>:</span><span>:</span><span class=nb>int</span><span>(</span><span>np</span><span class=o>.</span><span>sign</span><span>(</span><span>np</span><span class=o>.</span><span>cos</span><span>(</span><span class=mi>2</span><span class=o>*</span><span>a</span><span>)</span><span>)</span><span>)</span><span>]</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>            </span><span>bbox</span><span> </span><span class=o>=</span><span> </span><span class=bp>self</span><span class=o>.</span><span>text</span><span class=o>.</span><span>get_window_extent</span><span>(</span><span>)</span><br><span class=nsl>... </span><span>            </span><span>X</span><span> </span><span class=o>=</span><span> </span><span>R</span><span>(</span><span>angle</span><span>,</span><span> </span><span>r</span><span>,</span><span> </span><span>bbox</span><span class=o>.</span><span>width</span><span>,</span><span> </span><span>bbox</span><span class=o>.</span><span>height</span><span>)</span><br><span class=nsl>... </span><span>            </span><span>trans</span><span> </span><span class=o>=</span><span> </span><span class=bp>self</span><span class=o>.</span><span>ax</span><span class=o>.</span><span>figure</span><span class=o>.</span><span>dpi_scale_trans</span><span class=o>.</span><span>inverted</span><span>(</span><span>)</span><br><span class=nsl>... </span><span>            </span><span>offs</span><span> </span><span class=o>=</span><span> </span><span>trans</span><span class=o>.</span><span>transform</span><span>(</span><span>(</span><span>(</span><span>X</span><span class=o>-</span><span>s</span><span class=o>/</span><span class=mi>2</span><span>)</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>)</span><span>[</span><span class=mi>0</span><span>]</span><span> </span><span class=o>*</span><span> </span><span class=mi>72</span><br><span class=nsl>... </span><span>            </span><span class=bp>self</span><span class=o>.</span><span>text</span><span class=o>.</span><span>set_position</span><span>(</span><span>[</span><span>offs</span><span class=o>*</span><span>np</span><span class=o>.</span><span>cos</span><span>(</span><span>angle</span><span>)</span><span>,</span><span> </span><span>offs</span><span class=o>*</span><span>np</span><span class=o>.</span><span>sin</span><span>(</span><span>angle</span><span>)</span><span>]</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1>#########################################################################</span><br><span class=nsl>... </span><span class=c1># .. _angle-annotation-usage:</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1># Usage</span><br><span class=nsl>... </span><span class=c1># ~~~~~</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1># Required arguments to ``AngleAnnotation`` are the center of the arc, *xy*,</span><br><span class=nsl>... </span><span class=c1># and two points, such that the arc spans between the two vectors connecting</span><br><span class=nsl>... </span><span class=c1># *p1* and *p2* with *xy*, respectively. Those are given in data coordinates.</span><br><span class=nsl>... </span><span class=c1># Further arguments are the *size* of the arc and its *unit*. Additionally, a</span><br><span class=nsl>... </span><span class=c1># *text* can be specified, that will be drawn either in- or outside of the arc,</span><br><span class=nsl>... </span><span class=c1># according to the value of *textposition*. Usage of those arguments is shown</span><br><span class=nsl>... </span><span class=c1># below.</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>fig</span><span>,</span><span> </span><span>ax</span><span> </span><span class=o>=</span><span> </span><span>plt</span><span class=o>.</span><span>subplots</span><span>(</span><span>)</span><br><span class=nsl>... </span><span>fig</span><span class=o>.</span><span>canvas</span><span class=o>.</span><span>draw</span><span>(</span><span>)</span><span>  </span><span class=c1># Need to draw the figure to define renderer</span><br><span class=nsl>... </span><span>ax</span><span class=o>.</span><span>set_title</span><span>(</span><span class=s2>"</span><span class=s2>AngleLabel example</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1># Plot two crossing lines and label each angle between them with the above</span><br><span class=nsl>... </span><span class=c1># ``AngleAnnotation`` tool.</span><br><span class=nsl>... </span><span>center</span><span> </span><span class=o>=</span><span> </span><span>(</span><span class=mf>4.5</span><span>,</span><span> </span><span class=mi>650</span><span>)</span><br><span class=nsl>... </span><span>p1</span><span> </span><span class=o>=</span><span> </span><span>[</span><span>(</span><span class=mf>2.5</span><span>,</span><span> </span><span class=mi>710</span><span>)</span><span>,</span><span> </span><span>(</span><span class=mf>6.0</span><span>,</span><span> </span><span class=mi>605</span><span>)</span><span>]</span><br><span class=nsl>... </span><span>p2</span><span> </span><span class=o>=</span><span> </span><span>[</span><span>(</span><span class=mf>3.0</span><span>,</span><span> </span><span class=mi>275</span><span>)</span><span>,</span><span> </span><span>(</span><span class=mf>5.5</span><span>,</span><span> </span><span class=mi>900</span><span>)</span><span>]</span><br><span class=nsl>... </span><span>line1</span><span>,</span><span> </span><span class=o>=</span><span> </span><span>ax</span><span class=o>.</span><span>plot</span><span>(</span><span class=o>*</span><span class=nb>zip</span><span>(</span><span class=o>*</span><span>p1</span><span>)</span><span>)</span><br><span class=nsl>... </span><span>line2</span><span>,</span><span> </span><span class=o>=</span><span> </span><span>ax</span><span class=o>.</span><span>plot</span><span>(</span><span class=o>*</span><span class=nb>zip</span><span>(</span><span class=o>*</span><span>p2</span><span>)</span><span>)</span><br><span class=nsl>... </span><span>point</span><span>,</span><span> </span><span class=o>=</span><span> </span><span>ax</span><span class=o>.</span><span>plot</span><span>(</span><span class=o>*</span><span>center</span><span>,</span><span> </span><span>marker</span><span class=o>=</span><span class=s2>"</span><span class=s2>o</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>am1</span><span> </span><span class=o>=</span><span> </span><span>AngleAnnotation</span><span>(</span><span>center</span><span>,</span><span> </span><span>p1</span><span>[</span><span class=mi>1</span><span>]</span><span>,</span><span> </span><span>p2</span><span>[</span><span class=mi>1</span><span>]</span><span>,</span><span> </span><span>ax</span><span class=o>=</span><span>ax</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>75</span><span>,</span><span> </span><span>text</span><span class=o>=</span><span class=sa>r</span><span class=s2>"</span><span class=s2>$</span><span class=s2>\</span><span class=s2>alpha$</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><span>am2</span><span> </span><span class=o>=</span><span> </span><span>AngleAnnotation</span><span>(</span><span>center</span><span>,</span><span> </span><span>p2</span><span>[</span><span class=mi>1</span><span>]</span><span>,</span><span> </span><span>p1</span><span>[</span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>ax</span><span class=o>=</span><span>ax</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>35</span><span>,</span><span> </span><span>text</span><span class=o>=</span><span class=sa>r</span><span class=s2>"</span><span class=s2>$</span><span class=s2>\</span><span class=s2>beta$</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><span>am3</span><span> </span><span class=o>=</span><span> </span><span>AngleAnnotation</span><span>(</span><span>center</span><span>,</span><span> </span><span>p1</span><span>[</span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>p2</span><span>[</span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>ax</span><span class=o>=</span><span>ax</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>75</span><span>,</span><span> </span><span>text</span><span class=o>=</span><span class=sa>r</span><span class=s2>"</span><span class=s2>$</span><span class=s2>\</span><span class=s2>gamma$</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><span>am4</span><span> </span><span class=o>=</span><span> </span><span>AngleAnnotation</span><span>(</span><span>center</span><span>,</span><span> </span><span>p2</span><span>[</span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>p1</span><span>[</span><span class=mi>1</span><span>]</span><span>,</span><span> </span><span>ax</span><span class=o>=</span><span>ax</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>35</span><span>,</span><span> </span><span>text</span><span class=o>=</span><span class=sa>r</span><span class=s2>"</span><span class=s2>$</span><span class=s2>\</span><span class=s2>theta$</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1># Showcase some styling options for the angle arc, as well as the text.</span><br><span class=nsl>... </span><span>p</span><span> </span><span class=o>=</span><span> </span><span>[</span><span>(</span><span class=mf>6.0</span><span>,</span><span> </span><span class=mi>400</span><span>)</span><span>,</span><span> </span><span>(</span><span class=mf>5.3</span><span>,</span><span> </span><span class=mi>410</span><span>)</span><span>,</span><span> </span><span>(</span><span class=mf>5.6</span><span>,</span><span> </span><span class=mi>300</span><span>)</span><span>]</span><br><span class=nsl>... </span><span>ax</span><span class=o>.</span><span>plot</span><span>(</span><span class=o>*</span><span class=nb>zip</span><span>(</span><span class=o>*</span><span>p</span><span>)</span><span>)</span><br><span class=nsl>... </span><span>am5</span><span> </span><span class=o>=</span><span> </span><span>AngleAnnotation</span><span>(</span><span>p</span><span>[</span><span class=mi>1</span><span>]</span><span>,</span><span> </span><span>p</span><span>[</span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>p</span><span>[</span><span class=mi>2</span><span>]</span><span>,</span><span> </span><span>ax</span><span class=o>=</span><span>ax</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>40</span><span>,</span><span> </span><span>text</span><span class=o>=</span><span class=sa>r</span><span class=s2>"</span><span class=s2>$</span><span class=s2>\</span><span class=s2>Phi$</span><span class=s2>"</span><span>,</span><br><span class=nsl>... </span><span>                      </span><span>linestyle</span><span class=o>=</span><span class=s2>"</span><span class=s2>--</span><span class=s2>"</span><span>,</span><span> </span><span>color</span><span class=o>=</span><span class=s2>"</span><span class=s2>gray</span><span class=s2>"</span><span>,</span><span> </span><span>textposition</span><span class=o>=</span><span class=s2>"</span><span class=s2>outside</span><span class=s2>"</span><span>,</span><br><span class=nsl>... </span><span>                      </span><span>text_kw</span><span class=o>=</span><span class=nb>dict</span><span>(</span><span>fontsize</span><span class=o>=</span><span class=mi>16</span><span>,</span><span> </span><span>color</span><span class=o>=</span><span class=s2>"</span><span class=s2>gray</span><span class=s2>"</span><span>)</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1>#########################################################################</span><br><span class=nsl>... </span><span class=c1># ``AngleLabel`` options</span><br><span class=nsl>... </span><span class=c1># ~~~~~~~~~~~~~~~~~~~~~~</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1># The *textposition* and *unit* keyword arguments may be used to modify the</span><br><span class=nsl>... </span><span class=c1># location of the text label, as shown below:</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1># Helper function to draw angle easily.</span><br><span class=nsl>... </span><span class=k>def</span><span> </span><span class=nf>plot_angle</span><span>(</span><span>ax</span><span>,</span><span> </span><span>pos</span><span>,</span><span> </span><span>angle</span><span>,</span><span> </span><span>length</span><span class=o>=</span><span class=mf>0.95</span><span>,</span><span> </span><span>acol</span><span class=o>=</span><span class=s2>"</span><span class=s2>C0</span><span class=s2>"</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kwargs</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>    </span><span>vec2</span><span> </span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>array</span><span>(</span><span>[</span><span>np</span><span class=o>.</span><span>cos</span><span>(</span><span>np</span><span class=o>.</span><span>deg2rad</span><span>(</span><span>angle</span><span>)</span><span>)</span><span>,</span><span> </span><span>np</span><span class=o>.</span><span>sin</span><span>(</span><span>np</span><span class=o>.</span><span>deg2rad</span><span>(</span><span>angle</span><span>)</span><span>)</span><span>]</span><span>)</span><br><span class=nsl>... </span><span>    </span><span>xy</span><span> </span><span class=o>=</span><span> </span><span>np</span><span class=o>.</span><span>c_</span><span>[</span><span>[</span><span>length</span><span>,</span><span> </span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>[</span><span class=mi>0</span><span>,</span><span> </span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>vec2</span><span class=o>*</span><span>length</span><span>]</span><span class=o>.</span><span>T</span><span> </span><span class=o>+</span><span> </span><span>np</span><span class=o>.</span><span>array</span><span>(</span><span>pos</span><span>)</span><br><span class=nsl>... </span><span>    </span><span>ax</span><span class=o>.</span><span>plot</span><span>(</span><span class=o>*</span><span>xy</span><span class=o>.</span><span>T</span><span>,</span><span> </span><span>color</span><span class=o>=</span><span>acol</span><span>)</span><br><span class=nsl>... </span><span>    </span><span class=k>return</span><span> </span><span>AngleAnnotation</span><span>(</span><span>pos</span><span>,</span><span> </span><span>xy</span><span>[</span><span class=mi>0</span><span>]</span><span>,</span><span> </span><span>xy</span><span>[</span><span class=mi>2</span><span>]</span><span>,</span><span> </span><span>ax</span><span class=o>=</span><span>ax</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kwargs</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>fig</span><span>,</span><span> </span><span>(</span><span>ax1</span><span>,</span><span> </span><span>ax2</span><span>)</span><span> </span><span class=o>=</span><span> </span><span>plt</span><span class=o>.</span><span>subplots</span><span>(</span><span>nrows</span><span class=o>=</span><span class=mi>2</span><span>,</span><span> </span><span>sharex</span><span class=o>=</span><span class=kc>True</span><span>)</span><br><span class=nsl>... </span><span>fig</span><span class=o>.</span><span>suptitle</span><span>(</span><span class=s2>"</span><span class=s2>AngleLabel keyword arguments</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><span>fig</span><span class=o>.</span><span>canvas</span><span class=o>.</span><span>draw</span><span>(</span><span>)</span><span>  </span><span class=c1># Need to draw the figure to define renderer</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1># Showcase different text positions.</span><br><span class=nsl>... </span><span>ax1</span><span class=o>.</span><span>margins</span><span>(</span><span>y</span><span class=o>=</span><span class=mf>0.4</span><span>)</span><br><span class=nsl>... </span><span>ax1</span><span class=o>.</span><span>set_title</span><span>(</span><span class=s2>"</span><span class=s2>textposition</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><span>kw</span><span> </span><span class=o>=</span><span> </span><span class=nb>dict</span><span>(</span><span>size</span><span class=o>=</span><span class=mi>75</span><span>,</span><span> </span><span>unit</span><span class=o>=</span><span class=s2>"</span><span class=s2>points</span><span class=s2>"</span><span>,</span><span> </span><span>text</span><span class=o>=</span><span class=sa>r</span><span class=s2>"</span><span class=s2>$60°$</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>am6</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax1</span><span>,</span><span> </span><span>(</span><span class=mf>2.0</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>textposition</span><span class=o>=</span><span class=s2>"</span><span class=s2>inside</span><span class=s2>"</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><span>am7</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax1</span><span>,</span><span> </span><span>(</span><span class=mf>3.5</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>textposition</span><span class=o>=</span><span class=s2>"</span><span class=s2>outside</span><span class=s2>"</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><span>am8</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax1</span><span>,</span><span> </span><span>(</span><span class=mf>5.0</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>textposition</span><span class=o>=</span><span class=s2>"</span><span class=s2>edge</span><span class=s2>"</span><span>,</span><br><span class=nsl>... </span><span>                 </span><span>text_kw</span><span class=o>=</span><span class=nb>dict</span><span>(</span><span>bbox</span><span class=o>=</span><span class=nb>dict</span><span>(</span><span>boxstyle</span><span class=o>=</span><span class=s2>"</span><span class=s2>round</span><span class=s2>"</span><span>,</span><span> </span><span>fc</span><span class=o>=</span><span class=s2>"</span><span class=s2>w</span><span class=s2>"</span><span>)</span><span>)</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><span>am9</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax1</span><span>,</span><span> </span><span>(</span><span class=mf>6.5</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>textposition</span><span class=o>=</span><span class=s2>"</span><span class=s2>edge</span><span class=s2>"</span><span>,</span><br><span class=nsl>... </span><span>                 </span><span>text_kw</span><span class=o>=</span><span class=nb>dict</span><span>(</span><span>xytext</span><span class=o>=</span><span>(</span><span class=mi>30</span><span>,</span><span> </span><span class=mi>20</span><span>)</span><span>,</span><span> </span><span>arrowprops</span><span class=o>=</span><span class=nb>dict</span><span>(</span><span>arrowstyle</span><span class=o>=</span><span class=s2>"</span><span class=s2>-></span><span class=s2>"</span><span>,</span><br><span class=nsl>... </span><span>                              </span><span>connectionstyle</span><span class=o>=</span><span class=s2>"</span><span class=s2>arc3,rad=-0.2</span><span class=s2>"</span><span>)</span><span>)</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=k>for</span><span> </span><span>x</span><span>,</span><span> </span><span>text</span><span> </span><span class=ow>in</span><span> </span><span class=nb>zip</span><span>(</span><span>[</span><span class=mf>2.0</span><span>,</span><span> </span><span class=mf>3.5</span><span>,</span><span> </span><span class=mf>5.0</span><span>,</span><span> </span><span class=mf>6.5</span><span>]</span><span>,</span><span> </span><span>[</span><span class=s1>'</span><span class=s1>"</span><span class=s1>inside</span><span class=s1>"</span><span class=s1>'</span><span>,</span><span> </span><span class=s1>'</span><span class=s1>"</span><span class=s1>outside</span><span class=s1>"</span><span class=s1>'</span><span>,</span><span> </span><span class=s1>'</span><span class=s1>"</span><span class=s1>edge</span><span class=s1>"</span><span class=s1>'</span><span>,</span><br><span class=nsl>... </span><span>                                          </span><span class=s1>'</span><span class=s1>"</span><span class=s1>edge</span><span class=s1>"</span><span class=s1>, custom arrow</span><span class=s1>'</span><span>]</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>    </span><span>ax1</span><span class=o>.</span><span>annotate</span><span>(</span><span>text</span><span>,</span><span> </span><span>xy</span><span class=o>=</span><span>(</span><span>x</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span>xycoords</span><span class=o>=</span><span>ax1</span><span class=o>.</span><span>get_xaxis_transform</span><span>(</span><span>)</span><span>,</span><br><span class=nsl>... </span><span>                 </span><span>bbox</span><span class=o>=</span><span class=nb>dict</span><span>(</span><span>boxstyle</span><span class=o>=</span><span class=s2>"</span><span class=s2>round</span><span class=s2>"</span><span>,</span><span> </span><span>fc</span><span class=o>=</span><span class=s2>"</span><span class=s2>w</span><span class=s2>"</span><span>)</span><span>,</span><span> </span><span>ha</span><span class=o>=</span><span class=s2>"</span><span class=s2>left</span><span class=s2>"</span><span>,</span><span> </span><span>fontsize</span><span class=o>=</span><span class=mi>8</span><span>,</span><br><span class=nsl>... </span><span>                 </span><span>annotation_clip</span><span class=o>=</span><span class=kc>True</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1># Showcase different size units. The effect of this can best be observed</span><br><span class=nsl>... </span><span class=c1># by interactively changing the figure size</span><br><span class=nsl>... </span><span>ax2</span><span class=o>.</span><span>margins</span><span>(</span><span>y</span><span class=o>=</span><span class=mf>0.4</span><span>)</span><br><span class=nsl>... </span><span>ax2</span><span class=o>.</span><span>set_title</span><span>(</span><span class=s2>"</span><span class=s2>unit</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><span>kw</span><span> </span><span class=o>=</span><span> </span><span class=nb>dict</span><span>(</span><span>text</span><span class=o>=</span><span class=sa>r</span><span class=s2>"</span><span class=s2>$60°$</span><span class=s2>"</span><span>,</span><span> </span><span>textposition</span><span class=o>=</span><span class=s2>"</span><span class=s2>outside</span><span class=s2>"</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>am10</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax2</span><span>,</span><span> </span><span>(</span><span class=mf>2.0</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>50</span><span>,</span><span> </span><span>unit</span><span class=o>=</span><span class=s2>"</span><span class=s2>pixels</span><span class=s2>"</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><span>am11</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax2</span><span>,</span><span> </span><span>(</span><span class=mf>3.5</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mi>50</span><span>,</span><span> </span><span>unit</span><span class=o>=</span><span class=s2>"</span><span class=s2>points</span><span class=s2>"</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><span>am12</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax2</span><span>,</span><span> </span><span>(</span><span class=mf>5.0</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mf>0.25</span><span>,</span><span> </span><span>unit</span><span class=o>=</span><span class=s2>"</span><span class=s2>axes min</span><span class=s2>"</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><span>am13</span><span> </span><span class=o>=</span><span> </span><span>plot_angle</span><span>(</span><span>ax2</span><span>,</span><span> </span><span>(</span><span class=mf>6.5</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span class=mi>60</span><span>,</span><span> </span><span>size</span><span class=o>=</span><span class=mf>0.25</span><span>,</span><span> </span><span>unit</span><span class=o>=</span><span class=s2>"</span><span class=s2>axes max</span><span class=s2>"</span><span>,</span><span> </span><span class=o>*</span><span class=o>*</span><span>kw</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=k>for</span><span> </span><span>x</span><span>,</span><span> </span><span>text</span><span> </span><span class=ow>in</span><span> </span><span class=nb>zip</span><span>(</span><span>[</span><span class=mf>2.0</span><span>,</span><span> </span><span class=mf>3.5</span><span>,</span><span> </span><span class=mf>5.0</span><span>,</span><span> </span><span class=mf>6.5</span><span>]</span><span>,</span><span> </span><span>[</span><span class=s1>'</span><span class=s1>"</span><span class=s1>pixels</span><span class=s1>"</span><span class=s1>'</span><span>,</span><span> </span><span class=s1>'</span><span class=s1>"</span><span class=s1>points</span><span class=s1>"</span><span class=s1>'</span><span>,</span><br><span class=nsl>... </span><span>                                          </span><span class=s1>'</span><span class=s1>"</span><span class=s1>axes min</span><span class=s1>"</span><span class=s1>'</span><span>,</span><span> </span><span class=s1>'</span><span class=s1>"</span><span class=s1>axes max</span><span class=s1>"</span><span class=s1>'</span><span>]</span><span>)</span><span>:</span><br><span class=nsl>... </span><span>    </span><span>ax2</span><span class=o>.</span><span>annotate</span><span>(</span><span>text</span><span>,</span><span> </span><span>xy</span><span class=o>=</span><span>(</span><span>x</span><span>,</span><span> </span><span class=mi>0</span><span>)</span><span>,</span><span> </span><span>xycoords</span><span class=o>=</span><span>ax2</span><span class=o>.</span><span>get_xaxis_transform</span><span>(</span><span>)</span><span>,</span><br><span class=nsl>... </span><span>                 </span><span>bbox</span><span class=o>=</span><span class=nb>dict</span><span>(</span><span>boxstyle</span><span class=o>=</span><span class=s2>"</span><span class=s2>round</span><span class=s2>"</span><span>,</span><span> </span><span>fc</span><span class=o>=</span><span class=s2>"</span><span class=s2>w</span><span class=s2>"</span><span>)</span><span>,</span><span> </span><span>ha</span><span class=o>=</span><span class=s2>"</span><span class=s2>left</span><span class=s2>"</span><span>,</span><span> </span><span>fontsize</span><span class=o>=</span><span class=mi>8</span><span>,</span><br><span class=nsl>... </span><span>                 </span><span>annotation_clip</span><span class=o>=</span><span class=kc>True</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><span>plt</span><span class=o>.</span><span>show</span><span>(</span><span>)</span><br><span class=nsl>... </span><br><span class=nsl>... </span><br><span class=nsl>... </span><span class=c1>#############################################################################</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1># .. admonition:: References</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1>#    The use of the following functions, methods, classes and modules is shown</span><br><span class=nsl>... </span><span class=c1>#    in this example:</span><br><span class=nsl>... </span><span class=c1>#</span><br><span class=nsl>... </span><span class=c1>#    - `matplotlib.patches.Arc`</span><br><span class=nsl>... </span><span class=c1>#    - `matplotlib.axes.Axes.annotate` / `matplotlib.pyplot.annotate`</span><br><span class=nsl>... </span><span class=c1>#    - `matplotlib.text.Annotation`</span><br><span class=nsl>... </span><span class=c1>#    - `matplotlib.transforms.IdentityTransform`</span><br><span class=nsl>... </span><span class=c1>#    - `matplotlib.transforms.TransformedBbox`</span><br><span class=nsl>... </span><span class=c1>#    - `matplotlib.transforms.Bbox`</span><br><span class=nsl>... </span>
</pre></div>