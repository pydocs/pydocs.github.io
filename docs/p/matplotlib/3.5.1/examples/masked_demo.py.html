<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
      // this should process only math inside  span with tex2jax_process class
      MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX", "output/HTML-CSS"],
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true
          },
          "HTML-CSS": { fonts: ["TeX"] }
      });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=matplotlib>matplotlib</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/numpy/1.22.4/api/numpy.html.html">numpy</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html.html">matplotlib</a>
<a href="/p/distributed/2021.10.0/api/distributed.html.html">distributed</a>
<a href="/p/networkx/2.8.2/api/networkx.html.html">networkx</a>
<a href="/p/readthedocs/8.1.1/api/readthedocs.html.html">readthedocs</a>
<a href="/p/papyri/0.0.8/api/papyri.html.html">papyri</a>
<a href="/p/dask/2021.10.0/api/dask.html.html">dask</a>
<a href="/p/pandas/1.4.2/api/pandas.html.html">pandas</a>
<a href="/p/scipy/1.8.0/api/scipy.html.html">scipy</a>
<a href="/p/astropy/5.0/api/astropy.html.html">astropy</a>
<a href="/p/skimage/0.17.2/api/skimage.html.html">skimage</a>
<a href="/p/IPython/8.4.0/api/IPython.html.html">IPython</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>3.5.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">3.5.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>Examples</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/matplotlib/3.5.1/api/matplotlib.html">API</a>
                        <a href="/p/matplotlib/3.5.1/gallery">Gallery</a>
                        <a href="/p/matplotlib/3.5.1/examples">Examples</a>
                        <a href="/p/matplotlib/3.5.1/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='.html'>matplotlib</a>                    </div><!--end dropdown-->
</nav>
    </header>
    <div class='container'>

    <div class="sidenav">
        <img src="/p/matplotlib/3.5.1/img/matplotlib_logo.png"/>
    <a href="#">matplotlib</a>
    <a href="#">3.5.1</a>
    <hr/>
    <hr/>
    </div><!--end sidenav-->



<pre class='highlight execed'><span class='nsl'>&gt;&gt;&gt; </span><span class="sd">&#34;&#34;&#34;
==============================
Plotting masked and NaN values
==============================

Sometimes you need to plot data with missing values.

One possibility is to simply remove undesired data points. The line plotted
through the remaining data will be continuous, and not indicate where the
missing data is located.

If it is useful to have gaps in the line where the data is missing, then the
undesired points can be indicated using a `masked array`_ or by setting their
values to NaN. No marker will be drawn where either x or y are masked and, if
plotting with a line, it will be broken there.

.. _masked array:
   https://numpy.org/doc/stable/reference/maskedarray.generic.html

The following example illustrates the three cases:

1) Removing points.
2) Masking points.
3) Setting to NaN.
&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/*/api/matplotlib.html">matplotlib</a><span class="nn">.</span><a class="foo nn" href="/p/matplotlib/*/api/matplotlib.pyplot.html">pyplot</a><span class=""> </span><span class="k">as</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/numpy/*/api/numpy.html">numpy</a><span class=""> </span><span class="k">as</span><span class=""> </span><a class="foo nn" href="/p/numpy/*/api/numpy.html">np</a><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/builtins/*/api/builtins.tuple.html">x</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/numpy/*/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/*/api/numpy.core.function_base.linspace.html">linspace</a><span class="">(</span><span class="o">-</span><a class="foo " href="/p/numpy/*/api/numpy.html">np</a><span class="o">.</span><span class="">pi</span><span class="o">/</span><span class="mi">2</span><span class="">,</span><span class=""> </span><a class="foo " href="/p/numpy/*/api/numpy.html">np</a><span class="o">.</span><span class="">pi</span><span class="o">/</span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="mi">31</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/numpy/*/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/*/api/numpy.ufunc.html">cos</a><span class="">(</span><a class="foo " href="/p/builtins/*/api/builtins.tuple.html">x</a><span class="">)</span><span class="o">*</span><span class="o">*</span><span class="mi">3</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># 1) remove points where y &gt; 0.7</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/numpy/*/api/numpy.ndarray.html">x2</a><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/builtins/*/api/builtins.tuple.html">x</a><span class="">[</span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class=""> </span><span class="o">&lt;</span><span class="o">=</span><span class=""> </span><span class="mf">0.7</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">y2</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class="">[</span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class=""> </span><span class="o">&lt;</span><span class="o">=</span><span class=""> </span><span class="mf">0.7</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># 2) mask points where y &gt; 0.7</span><br><span class='nsl'>...&nbsp;</span><span class="">y3</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/numpy/*/api/numpy.html">np</a><span class="o">.</span><a class="foo " href="/p/numpy/*/api/numpy.ma.html">ma</a><span class="o">.</span><a class="foo " href="/p/numpy/*/api/numpy.ma.core.masked_where.html">masked_where</a><span class="">(</span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mf">0.7</span><span class="">,</span><span class=""> </span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># 3) set to NaN where y &gt; 0.7</span><br><span class='nsl'>...&nbsp;</span><span class="">y4</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class="o">.</span><span class="">copy</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">y4</span><span class="">[</span><span class="">y3</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mf">0.7</span><span class="">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><a class="foo " href="/p/numpy/*/api/numpy.html">np</a><span class="o">.</span><span class="">nan</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><span class="o">.</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.plot.html">plot</a><span class="">(</span><a class="foo " href="/p/builtins/*/api/builtins.tuple.html">x</a><span class="o">*</span><span class="mf">0.1</span><span class="">,</span><span class=""> </span><a class="foo " href="/p/builtins/*/api/builtins.int.html">y</a><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o-</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">color</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">lightgrey</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">label</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">No mask</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><span class="o">.</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.plot.html">plot</a><span class="">(</span><a class="foo " href="/p/numpy/*/api/numpy.ndarray.html">x2</a><span class="o">*</span><span class="mf">0.4</span><span class="">,</span><span class=""> </span><span class="">y2</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o-</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">label</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">Points removed</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><span class="o">.</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.plot.html">plot</a><span class="">(</span><a class="foo " href="/p/builtins/*/api/builtins.tuple.html">x</a><span class="o">*</span><span class="mf">0.7</span><span class="">,</span><span class=""> </span><span class="">y3</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o-</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">label</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">Masked values</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><span class="o">.</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.plot.html">plot</a><span class="">(</span><a class="foo " href="/p/builtins/*/api/builtins.tuple.html">x</a><span class="o">*</span><span class="mf">1.0</span><span class="">,</span><span class=""> </span><span class="">y4</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">o-</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">label</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">NaN values</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><span class="o">.</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.legend.html">legend</a><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><span class="o">.</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.title.html">title</a><span class="">(</span><span class="s1">&#39;</span><span class="s1">Masked and NaN data</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.html">plt</a><span class="o">.</span><a class="foo " href="/p/matplotlib/*/api/matplotlib.pyplot.show.html">show</a><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span>
</pre>
       
           <div><img src="/p/matplotlib/3.5.1/img/ex-masked_demo.py-0.png"/></div>
       




</div>
</body>
</html>