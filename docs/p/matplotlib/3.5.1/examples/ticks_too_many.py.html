<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet"
          href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
          integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
          crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
    <script type="text/x-mathjax-config">
        // this should process only math inside  span with tex2jax_process class
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": { fonts: ["TeX"] }
    });
    </script>
    <script async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js">
    </script>
    <link rel="stylesheet" href="/papyri.css">
    <link rel="stylesheet" href="/pygments.css">
<style>

    header > brand {
        /*border-right: 1px solid #ccc;
          border-left: 1px solid #ccc;*/
        margin-left: 15px;
        padding: 0px;
        display: inline-block; 
        width: 67px;
    }

    brand > a {
        text-decoration: None;

    }
    brand >a> img {
            display: inline-block;
    margin: 0;
    padding: 0;
    position: relative;
    bottom: -10px;

   }
    .container {
       max-width: 800px;
       padding-left: 210px;
       padding-top: 30px;
    }
</style>
</head><body class="tex2jax_ignore">
    <header>
        <brand><a href='/'><img src='/favicon.ico'/></a></brand>
        <nav> / <a href='/' >p</a>  &nbsp;/&nbsp; 
                <div class="dropdown">
                <a href=matplotlib>matplotlib</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/networkx/2.7.2rc1.dev0/api/networkx.html.html">networkx</a>
<a href="/p/matplotlib/3.5.1/api/matplotlib.html.html">matplotlib</a>
<a href="/p/distributed/2021.10.0/api/distributed.html.html">distributed</a>
<a href="/p/pandas/1.4.1/api/pandas.html.html">pandas</a>
<a href="/p/dask/2021.10.0/api/dask.html.html">dask</a>
<a href="/p/skimage/0.17.2/api/skimage.html.html">skimage</a>
<a href="/p/astropy/5.0/api/astropy.html.html">astropy</a>
<a href="/p/IPython/8.3.0.dev/api/IPython.html.html">IPython</a>
<a href="/p/papyri/0.0.8/api/papyri.html.html">papyri</a>
<a href="/p/numpy/1.22.3/api/numpy.html.html">numpy</a>
<a href="/p/scipy/1.8.0/api/scipy.html.html">scipy</a>
                     </div>
                </div>
                <div class="dropdown">
                <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>3.5.1</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
<a href="/p/matplotlib/3.5.1/api/matplotlib.html">3.5.1</a>
                    </div>
                </div>

                <div class="dropdown">
                    <a href='/p/matplotlib/3.5.1/api/matplotlib.html'>Examples</a>&nbsp;/&nbsp;
                    <div class="dropdown-content">
                        <a href="/p/matplotlib/3.5.1/api/matplotlib.html">API</a>
                        <a href="/p/matplotlib/3.5.1/gallery">Gallery</a>
                        <a href="/p/matplotlib/3.5.1/examples">Examples</a>
                        <a href="/p/matplotlib/3.5.1/docs">Narrative</a>
                     </div>
                </div>

                    <div class="dropdown">
                            <a class="dropbtn" href='.html'>matplotlib</a>                    </div><!--end dropdown-->
</nav>
    </header>
<div class='container'>
    <div class="sidenav">
        <img src="/p/matplotlib/3.5.1/img/matplotlib_logo.png"/>
    <a href="#">matplotlib</a>
    <a href="#">3.5.1</a>
    <hr/>
    <hr/>
    </div><!--end sidenav-->



<pre class='highlight None'><span class='nsl'>&gt;&gt;&gt; </span><span class="sd">&#34;&#34;&#34;
=====================
Fixing too many ticks
=====================

One common cause for unexpected tick behavior is passing a list of strings
instead of numbers or datetime objects. This can easily happen without notice
when reading in a comma-delimited text file. Matplotlib treats lists of strings
as *categorical* variables
(:doc:`/gallery/lines_bars_and_markers/categorical_variables`), and by default
puts one tick per category, and plots them in the order in which they are
supplied.  If this is not desired, the solution is to convert the strings to
a numeric type as in the following examples.

&#34;&#34;&#34;</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1">############################################################################</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Example 1: Strings can lead to an unexpected order of number ticks</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># ------------------------------------------------------------------</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/matplotlib/3.5.1/api/matplotlib.html">matplotlib</a><span class="nn">.</span><span class="nn">pyplot</span><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">plt</span><br><span class='nsl'>...&nbsp;</span><span class="kn">import</span><span class=""> </span><a class="foo nn" href="/p/numpy/1.22.3/api/numpy.html">numpy</a><span class=""> </span><span class="k">as</span><span class=""> </span><span class="nn">np</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">ax</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="">,</span><span class=""> </span><span class="">figsize</span><span class="o">=</span><span class="">(</span><span class="mi">6</span><span class="">,</span><span class=""> </span><span class="mf">2.5</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">1</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">5</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">2</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">3</span><span class="s1">&#39;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">4</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="mi">3</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">d</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">tick_params</span><span class="">(</span><span class="">axis</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">x</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">color</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">r</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">labelcolor</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">r</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">set_xlabel</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Categories</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Ticks seem out of order / misplaced</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># convert to numbers:</span><br><span class='nsl'>...&nbsp;</span><span class="">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">asarray</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">dtype</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">float</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">d</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">set_xlabel</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Floats</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Ticks as expected</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1">############################################################################</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Example 2: Strings can lead to very many ticks</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># ----------------------------------------------</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># If *x* has 100 elements, all strings, then we would have 100 (unreadable)</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># ticks, and again the solution is to convert the strings to floats:</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">ax</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="">figsize</span><span class="o">=</span><span class="">(</span><span class="mi">6</span><span class="">,</span><span class=""> </span><span class="mf">2.5</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="">xx</span><span class="si">}</span><span class="s1">&#39;</span><span class=""> </span><span class="k">for</span><span class=""> </span><span class="">xx</span><span class=""> </span><span class="ow">in</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">arange</span><span class="">(</span><span class="mi">100</span><span class="">)</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">arange</span><span class="">(</span><span class="mi">100</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">tick_params</span><span class="">(</span><span class="">axis</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">x</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">color</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">r</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">labelcolor</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">r</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Too many ticks</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">set_xlabel</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Categories</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">np</span><span class="o">.</span><span class="">asarray</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="nb">float</span><span class="">)</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">x converted to numbers</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">set_xlabel</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Floats</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1">############################################################################</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># Example 3: Strings can lead to an unexpected order of datetime ticks</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># --------------------------------------------------------------------</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># A common case is when dates are read from a CSV file, they need to be</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># converted from strings to datetime objects to get the proper date locators</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># and formatters.</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">fig</span><span class="">,</span><span class=""> </span><span class="">ax</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">plt</span><span class="o">.</span><span class="">subplots</span><span class="">(</span><span class="mi">1</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="">,</span><span class=""> </span><span class="">figsize</span><span class="o">=</span><span class="">(</span><span class="mi">6</span><span class="">,</span><span class=""> </span><span class="mf">2.75</span><span class="">)</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="s1">&#39;</span><span class="s1">2021-10-01</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">2021-11-02</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">2021-12-03</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">2021-09-01</span><span class="s1">&#39;</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">[</span><span class="mi">0</span><span class="">,</span><span class=""> </span><span class="mi">2</span><span class="">,</span><span class=""> </span><span class="mi">3</span><span class="">,</span><span class=""> </span><span class="mi">1</span><span class="">]</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">d</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">tick_params</span><span class="">(</span><span class="">axis</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">x</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">labelrotation</span><span class="o">=</span><span class="mi">90</span><span class="">,</span><span class=""> </span><span class="">color</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">r</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">labelcolor</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">r</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">0</span><span class="">]</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">Dates out of order</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="c1"># convert to datetime64</span><br><span class='nsl'>...&nbsp;</span><span class="">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="">np</span><span class="o">.</span><span class="">asarray</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">dtype</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">datetime64[s]</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">plot</span><span class="">(</span><span class="">x</span><span class="">,</span><span class=""> </span><span class="">y</span><span class="">,</span><span class=""> </span><span class="s1">&#39;</span><span class="s1">d</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">tick_params</span><span class="">(</span><span class="">axis</span><span class="o">=</span><span class="s1">&#39;</span><span class="s1">x</span><span class="s1">&#39;</span><span class="">,</span><span class=""> </span><span class="">labelrotation</span><span class="o">=</span><span class="mi">90</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><span class="">ax</span><span class="">[</span><span class="mi">1</span><span class="">]</span><span class="o">.</span><span class="">set_title</span><span class="">(</span><span class="s1">&#39;</span><span class="s1">x converted to datetimes</span><span class="s1">&#39;</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span><br><span class='nsl'>...&nbsp;</span><span class="">plt</span><span class="o">.</span><span class="">show</span><span class="">(</span><span class="">)</span><br><span class='nsl'>...&nbsp;</span>
</pre>
       




</div>
</body>
</html>